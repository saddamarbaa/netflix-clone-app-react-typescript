(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function El(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Sm={exports:{}},gu={},Tm={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0;function LP(){if(a0)return tt;a0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function E(H){return H===null||typeof H!="object"?null:(H=y&&H[y]||H["@@iterator"],typeof H=="function"?H:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,C={};function x(H,oe,Ee){this.props=H,this.context=oe,this.refs=C,this.updater=Ee||A}x.prototype.isReactComponent={},x.prototype.setState=function(H,oe){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,oe,"setState")},x.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function L(){}L.prototype=x.prototype;function O(H,oe,Ee){this.props=H,this.context=oe,this.refs=C,this.updater=Ee||A}var U=O.prototype=new L;U.constructor=O,S(U,x.prototype),U.isPureReactComponent=!0;var q=Array.isArray,W=Object.prototype.hasOwnProperty,X={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function T(H,oe,Ee){var Le,Ve={},ze=null,Ze=null;if(oe!=null)for(Le in oe.ref!==void 0&&(Ze=oe.ref),oe.key!==void 0&&(ze=""+oe.key),oe)W.call(oe,Le)&&!R.hasOwnProperty(Le)&&(Ve[Le]=oe[Le]);var Qe=arguments.length-2;if(Qe===1)Ve.children=Ee;else if(1<Qe){for(var st=Array(Qe),vt=0;vt<Qe;vt++)st[vt]=arguments[vt+2];Ve.children=st}if(H&&H.defaultProps)for(Le in Qe=H.defaultProps,Qe)Ve[Le]===void 0&&(Ve[Le]=Qe[Le]);return{$$typeof:n,type:H,key:ze,ref:Ze,props:Ve,_owner:X.current}}function I(H,oe){return{$$typeof:n,type:H.type,key:oe,ref:H.ref,props:H.props,_owner:H._owner}}function N(H){return typeof H=="object"&&H!==null&&H.$$typeof===n}function D(H){var oe={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(Ee){return oe[Ee]})}var M=/\/+/g;function k(H,oe){return typeof H=="object"&&H!==null&&H.key!=null?D(""+H.key):oe.toString(36)}function Pe(H,oe,Ee,Le,Ve){var ze=typeof H;(ze==="undefined"||ze==="boolean")&&(H=null);var Ze=!1;if(H===null)Ze=!0;else switch(ze){case"string":case"number":Ze=!0;break;case"object":switch(H.$$typeof){case n:case e:Ze=!0}}if(Ze)return Ze=H,Ve=Ve(Ze),H=Le===""?"."+k(Ze,0):Le,q(Ve)?(Ee="",H!=null&&(Ee=H.replace(M,"$&/")+"/"),Pe(Ve,oe,Ee,"",function(vt){return vt})):Ve!=null&&(N(Ve)&&(Ve=I(Ve,Ee+(!Ve.key||Ze&&Ze.key===Ve.key?"":(""+Ve.key).replace(M,"$&/")+"/")+H)),oe.push(Ve)),1;if(Ze=0,Le=Le===""?".":Le+":",q(H))for(var Qe=0;Qe<H.length;Qe++){ze=H[Qe];var st=Le+k(ze,Qe);Ze+=Pe(ze,oe,Ee,st,Ve)}else if(st=E(H),typeof st=="function")for(H=st.call(H),Qe=0;!(ze=H.next()).done;)ze=ze.value,st=Le+k(ze,Qe++),Ze+=Pe(ze,oe,Ee,st,Ve);else if(ze==="object")throw oe=String(H),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.");return Ze}function je(H,oe,Ee){if(H==null)return H;var Le=[],Ve=0;return Pe(H,Le,"","",function(ze){return oe.call(Ee,ze,Ve++)}),Le}function qe(H){if(H._status===-1){var oe=H._result;oe=oe(),oe.then(function(Ee){(H._status===0||H._status===-1)&&(H._status=1,H._result=Ee)},function(Ee){(H._status===0||H._status===-1)&&(H._status=2,H._result=Ee)}),H._status===-1&&(H._status=0,H._result=oe)}if(H._status===1)return H._result.default;throw H._result}var Me={current:null},he={transition:null},be={ReactCurrentDispatcher:Me,ReactCurrentBatchConfig:he,ReactCurrentOwner:X};function fe(){throw Error("act(...) is not supported in production builds of React.")}return tt.Children={map:je,forEach:function(H,oe,Ee){je(H,function(){oe.apply(this,arguments)},Ee)},count:function(H){var oe=0;return je(H,function(){oe++}),oe},toArray:function(H){return je(H,function(oe){return oe})||[]},only:function(H){if(!N(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},tt.Component=x,tt.Fragment=t,tt.Profiler=i,tt.PureComponent=O,tt.StrictMode=r,tt.Suspense=h,tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=be,tt.act=fe,tt.cloneElement=function(H,oe,Ee){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var Le=S({},H.props),Ve=H.key,ze=H.ref,Ze=H._owner;if(oe!=null){if(oe.ref!==void 0&&(ze=oe.ref,Ze=X.current),oe.key!==void 0&&(Ve=""+oe.key),H.type&&H.type.defaultProps)var Qe=H.type.defaultProps;for(st in oe)W.call(oe,st)&&!R.hasOwnProperty(st)&&(Le[st]=oe[st]===void 0&&Qe!==void 0?Qe[st]:oe[st])}var st=arguments.length-2;if(st===1)Le.children=Ee;else if(1<st){Qe=Array(st);for(var vt=0;vt<st;vt++)Qe[vt]=arguments[vt+2];Le.children=Qe}return{$$typeof:n,type:H.type,key:Ve,ref:ze,props:Le,_owner:Ze}},tt.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:a,_context:H},H.Consumer=H},tt.createElement=T,tt.createFactory=function(H){var oe=T.bind(null,H);return oe.type=H,oe},tt.createRef=function(){return{current:null}},tt.forwardRef=function(H){return{$$typeof:f,render:H}},tt.isValidElement=N,tt.lazy=function(H){return{$$typeof:g,_payload:{_status:-1,_result:H},_init:qe}},tt.memo=function(H,oe){return{$$typeof:p,type:H,compare:oe===void 0?null:oe}},tt.startTransition=function(H){var oe=he.transition;he.transition={};try{H()}finally{he.transition=oe}},tt.unstable_act=fe,tt.useCallback=function(H,oe){return Me.current.useCallback(H,oe)},tt.useContext=function(H){return Me.current.useContext(H)},tt.useDebugValue=function(){},tt.useDeferredValue=function(H){return Me.current.useDeferredValue(H)},tt.useEffect=function(H,oe){return Me.current.useEffect(H,oe)},tt.useId=function(){return Me.current.useId()},tt.useImperativeHandle=function(H,oe,Ee){return Me.current.useImperativeHandle(H,oe,Ee)},tt.useInsertionEffect=function(H,oe){return Me.current.useInsertionEffect(H,oe)},tt.useLayoutEffect=function(H,oe){return Me.current.useLayoutEffect(H,oe)},tt.useMemo=function(H,oe){return Me.current.useMemo(H,oe)},tt.useReducer=function(H,oe,Ee){return Me.current.useReducer(H,oe,Ee)},tt.useRef=function(H){return Me.current.useRef(H)},tt.useState=function(H){return Me.current.useState(H)},tt.useSyncExternalStore=function(H,oe,Ee){return Me.current.useSyncExternalStore(H,oe,Ee)},tt.useTransition=function(){return Me.current.useTransition()},tt.version="18.3.1",tt}var l0;function rc(){return l0||(l0=1,Tm.exports=LP()),Tm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function MP(){if(u0)return gu;u0=1;var n=rc(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(f,h,p){var g,y={},E=null,A=null;p!==void 0&&(E=""+p),h.key!==void 0&&(E=""+h.key),h.ref!==void 0&&(A=h.ref);for(g in h)r.call(h,g)&&!a.hasOwnProperty(g)&&(y[g]=h[g]);if(f&&f.defaultProps)for(g in h=f.defaultProps,h)y[g]===void 0&&(y[g]=h[g]);return{$$typeof:e,type:f,key:E,ref:A,props:y,_owner:i.current}}return gu.Fragment=t,gu.jsx=l,gu.jsxs=l,gu}var c0;function FP(){return c0||(c0=1,Sm.exports=MP()),Sm.exports}var V=FP(),Q=rc();const Wn=El(Q);var jf={},xm={exports:{}},tr={},Am={exports:{}},Im={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function VP(){return f0||(f0=1,function(n){function e(he,be){var fe=he.length;he.push(be);e:for(;0<fe;){var H=fe-1>>>1,oe=he[H];if(0<i(oe,be))he[H]=be,he[fe]=oe,fe=H;else break e}}function t(he){return he.length===0?null:he[0]}function r(he){if(he.length===0)return null;var be=he[0],fe=he.pop();if(fe!==be){he[0]=fe;e:for(var H=0,oe=he.length,Ee=oe>>>1;H<Ee;){var Le=2*(H+1)-1,Ve=he[Le],ze=Le+1,Ze=he[ze];if(0>i(Ve,fe))ze<oe&&0>i(Ze,Ve)?(he[H]=Ze,he[ze]=fe,H=ze):(he[H]=Ve,he[Le]=fe,H=Le);else if(ze<oe&&0>i(Ze,fe))he[H]=Ze,he[ze]=fe,H=ze;else break e}}return be}function i(he,be){var fe=he.sortIndex-be.sortIndex;return fe!==0?fe:he.id-be.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,f=l.now();n.unstable_now=function(){return l.now()-f}}var h=[],p=[],g=1,y=null,E=3,A=!1,S=!1,C=!1,x=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(he){for(var be=t(p);be!==null;){if(be.callback===null)r(p);else if(be.startTime<=he)r(p),be.sortIndex=be.expirationTime,e(h,be);else break;be=t(p)}}function q(he){if(C=!1,U(he),!S)if(t(h)!==null)S=!0,qe(W);else{var be=t(p);be!==null&&Me(q,be.startTime-he)}}function W(he,be){S=!1,C&&(C=!1,L(T),T=-1),A=!0;var fe=E;try{for(U(be),y=t(h);y!==null&&(!(y.expirationTime>be)||he&&!D());){var H=y.callback;if(typeof H=="function"){y.callback=null,E=y.priorityLevel;var oe=H(y.expirationTime<=be);be=n.unstable_now(),typeof oe=="function"?y.callback=oe:y===t(h)&&r(h),U(be)}else r(h);y=t(h)}if(y!==null)var Ee=!0;else{var Le=t(p);Le!==null&&Me(q,Le.startTime-be),Ee=!1}return Ee}finally{y=null,E=fe,A=!1}}var X=!1,R=null,T=-1,I=5,N=-1;function D(){return!(n.unstable_now()-N<I)}function M(){if(R!==null){var he=n.unstable_now();N=he;var be=!0;try{be=R(!0,he)}finally{be?k():(X=!1,R=null)}}else X=!1}var k;if(typeof O=="function")k=function(){O(M)};else if(typeof MessageChannel<"u"){var Pe=new MessageChannel,je=Pe.port2;Pe.port1.onmessage=M,k=function(){je.postMessage(null)}}else k=function(){x(M,0)};function qe(he){R=he,X||(X=!0,k())}function Me(he,be){T=x(function(){he(n.unstable_now())},be)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(he){he.callback=null},n.unstable_continueExecution=function(){S||A||(S=!0,qe(W))},n.unstable_forceFrameRate=function(he){0>he||125<he?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<he?Math.floor(1e3/he):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(he){switch(E){case 1:case 2:case 3:var be=3;break;default:be=E}var fe=E;E=be;try{return he()}finally{E=fe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(he,be){switch(he){case 1:case 2:case 3:case 4:case 5:break;default:he=3}var fe=E;E=he;try{return be()}finally{E=fe}},n.unstable_scheduleCallback=function(he,be,fe){var H=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?H+fe:H):fe=H,he){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=fe+oe,he={id:g++,callback:be,priorityLevel:he,startTime:fe,expirationTime:oe,sortIndex:-1},fe>H?(he.sortIndex=fe,e(p,he),t(h)===null&&he===t(p)&&(C?(L(T),T=-1):C=!0,Me(q,fe-H))):(he.sortIndex=oe,e(h,he),S||A||(S=!0,qe(W))),he},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(he){var be=E;return function(){var fe=E;E=be;try{return he.apply(this,arguments)}finally{E=fe}}}}(Im)),Im}var d0;function jP(){return d0||(d0=1,Am.exports=VP()),Am.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function UP(){if(h0)return tr;h0=1;var n=rc(),e=jP();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function E(s){return h.call(y,s)?!0:h.call(g,s)?!1:p.test(s)?y[s]=!0:(g[s]=!0,!1)}function A(s,o,u,d){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function S(s,o,u,d){if(o===null||typeof o>"u"||A(s,o,u,d))return!0;if(d)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function C(s,o,u,d,m,_,b){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=s,this.type=o,this.sanitizeURL=_,this.removeEmptyString=b}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){x[s]=new C(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];x[o]=new C(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){x[s]=new C(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){x[s]=new C(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){x[s]=new C(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){x[s]=new C(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){x[s]=new C(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){x[s]=new C(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){x[s]=new C(s,5,!1,s.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function O(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(L,O);x[o]=new C(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(L,O);x[o]=new C(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(L,O);x[o]=new C(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){x[s]=new C(s,1,!1,s.toLowerCase(),null,!1,!1)}),x.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){x[s]=new C(s,1,!1,s.toLowerCase(),null,!0,!0)});function U(s,o,u,d){var m=x.hasOwnProperty(o)?x[o]:null;(m!==null?m.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(S(o,u,m,d)&&(u=null),d||m===null?E(o)&&(u===null?s.removeAttribute(o):s.setAttribute(o,""+u)):m.mustUseProperty?s[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,d=m.attributeNamespace,u===null?s.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,d?s.setAttributeNS(d,o,u):s.setAttribute(o,u))))}var q=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,W=Symbol.for("react.element"),X=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),D=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),Pe=Symbol.for("react.suspense_list"),je=Symbol.for("react.memo"),qe=Symbol.for("react.lazy"),Me=Symbol.for("react.offscreen"),he=Symbol.iterator;function be(s){return s===null||typeof s!="object"?null:(s=he&&s[he]||s["@@iterator"],typeof s=="function"?s:null)}var fe=Object.assign,H;function oe(s){if(H===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);H=o&&o[1]||""}return`
`+H+s}var Ee=!1;function Le(s,o){if(!s||Ee)return"";Ee=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Z){var d=Z}Reflect.construct(s,[],o)}else{try{o.call()}catch(Z){d=Z}s.call(o.prototype)}else{try{throw Error()}catch(Z){d=Z}s()}}catch(Z){if(Z&&d&&typeof Z.stack=="string"){for(var m=Z.stack.split(`
`),_=d.stack.split(`
`),b=m.length-1,F=_.length-1;1<=b&&0<=F&&m[b]!==_[F];)F--;for(;1<=b&&0<=F;b--,F--)if(m[b]!==_[F]){if(b!==1||F!==1)do if(b--,F--,0>F||m[b]!==_[F]){var $=`
`+m[b].replace(" at new "," at ");return s.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",s.displayName)),$}while(1<=b&&0<=F);break}}}finally{Ee=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?oe(s):""}function Ve(s){switch(s.tag){case 5:return oe(s.type);case 16:return oe("Lazy");case 13:return oe("Suspense");case 19:return oe("SuspenseList");case 0:case 2:case 15:return s=Le(s.type,!1),s;case 11:return s=Le(s.type.render,!1),s;case 1:return s=Le(s.type,!0),s;default:return""}}function ze(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case R:return"Fragment";case X:return"Portal";case I:return"Profiler";case T:return"StrictMode";case k:return"Suspense";case Pe:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case D:return(s.displayName||"Context")+".Consumer";case N:return(s._context.displayName||"Context")+".Provider";case M:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case je:return o=s.displayName||null,o!==null?o:ze(s.type)||"Memo";case qe:o=s._payload,s=s._init;try{return ze(s(o))}catch{}}return null}function Ze(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ze(o);case 8:return o===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Qe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function st(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function vt(s){var o=st(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),d=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,_=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(b){d=""+b,_.call(this,b)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(b){d=""+b},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function mt(s){s._valueTracker||(s._valueTracker=vt(s))}function Bt(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return s&&(d=st(s)?s.checked?"true":"false":s.value),s=d,s!==u?(o.setValue(s),!0):!1}function xt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Sr(s,o){var u=o.checked;return fe({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function pi(s,o){var u=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;u=Qe(o.value!=null?o.value:u),s._wrapperState={initialChecked:d,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Vi(s,o){o=o.checked,o!=null&&U(s,"checked",o,!1)}function vs(s,o){Vi(s,o);var u=Qe(o.value),d=o.type;if(u!=null)d==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(d==="submit"||d==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?Y(s,o.type,u):o.hasOwnProperty("defaultValue")&&Y(s,o.type,Qe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function j(s,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,u||o===s.value||(s.value=o),s.defaultValue=o}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function Y(s,o,u){(o!=="number"||xt(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var re=Array.isArray;function _e(s,o,u,d){if(s=s.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<s.length;u++)m=o.hasOwnProperty("$"+s[u].value),s[u].selected!==m&&(s[u].selected=m),m&&d&&(s[u].defaultSelected=!0)}else{for(u=""+Qe(u),o=null,m=0;m<s.length;m++){if(s[m].value===u){s[m].selected=!0,d&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function ge(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return fe({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function pe(s,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(re(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}s._wrapperState={initialValue:Qe(u)}}function Ne(s,o){var u=Qe(o.value),d=Qe(o.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),o.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),d!=null&&(s.defaultValue=""+d)}function ee(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function z(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?z(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ue,We=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,d,m){MSApp.execUnsafeLocalFunction(function(){return s(o,u,d,m)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(ue=ue||document.createElement("div"),ue.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ue.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function Be(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var Xe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},te=["Webkit","ms","Moz","O"];Object.keys(Xe).forEach(function(s){te.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Xe[o]=Xe[s]})});function ae(s,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||Xe.hasOwnProperty(s)&&Xe[s]?(""+o).trim():o+"px"}function Ae(s,o){s=s.style;for(var u in o)if(o.hasOwnProperty(u)){var d=u.indexOf("--")===0,m=ae(u,o[u],d);u==="float"&&(u="cssFloat"),d?s.setProperty(u,m):s[u]=m}}var Se=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Te(s,o){if(o){if(Se[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Je(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ht=null;function gt(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ft=null,yt=null,pt=null;function Lt(s){if(s=tu(s)){if(typeof ft!="function")throw Error(t(280));var o=s.stateNode;o&&(o=Zc(o),ft(s.stateNode,s.type,o))}}function gn(s){yt?pt?pt.push(s):pt=[s]:yt=s}function cr(){if(yt){var s=yt,o=pt;if(pt=yt=null,Lt(s),o)for(s=0;s<o.length;s++)Lt(o[s])}}function Tr(s,o){return s(o)}function _s(){}var xr=!1;function Dl(s,o,u){if(xr)return s(o,u);xr=!0;try{return Tr(s,o,u)}finally{xr=!1,(yt!==null||pt!==null)&&(_s(),cr())}}function zt(s,o){var u=s.stateNode;if(u===null)return null;var d=Zc(u);if(d===null)return null;u=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var ua=!1;if(f)try{var jr={};Object.defineProperty(jr,"passive",{get:function(){ua=!0}}),window.addEventListener("test",jr,jr),window.removeEventListener("test",jr,jr)}catch{ua=!1}function oo(s,o,u,d,m,_,b,F,$){var Z=Array.prototype.slice.call(arguments,3);try{o.apply(u,Z)}catch(de){this.onError(de)}}var ao=!1,ca=null,Ur=!1,Ll=null,Yh={onError:function(s){ao=!0,ca=s}};function fa(s,o,u,d,m,_,b,F,$){ao=!1,ca=null,oo.apply(Yh,arguments)}function Tc(s,o,u,d,m,_,b,F,$){if(fa.apply(this,arguments),ao){if(ao){var Z=ca;ao=!1,ca=null}else throw Error(t(198));Ur||(Ur=!0,Ll=Z)}}function $r(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,o.flags&4098&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function lo(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Br(s){if($r(s)!==s)throw Error(t(188))}function xc(s){var o=s.alternate;if(!o){if(o=$r(s),o===null)throw Error(t(188));return o!==s?null:s}for(var u=s,d=o;;){var m=u.return;if(m===null)break;var _=m.alternate;if(_===null){if(d=m.return,d!==null){u=d;continue}break}if(m.child===_.child){for(_=m.child;_;){if(_===u)return Br(m),s;if(_===d)return Br(m),o;_=_.sibling}throw Error(t(188))}if(u.return!==d.return)u=m,d=_;else{for(var b=!1,F=m.child;F;){if(F===u){b=!0,u=m,d=_;break}if(F===d){b=!0,d=m,u=_;break}F=F.sibling}if(!b){for(F=_.child;F;){if(F===u){b=!0,u=_,d=m;break}if(F===d){b=!0,d=_,u=m;break}F=F.sibling}if(!b)throw Error(t(189))}}if(u.alternate!==d)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?s:o}function Ml(s){return s=xc(s),s!==null?da(s):null}function da(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=da(s);if(o!==null)return o;s=s.sibling}return null}var ha=e.unstable_scheduleCallback,Fl=e.unstable_cancelCallback,Ac=e.unstable_shouldYield,Xh=e.unstable_requestPaint,At=e.unstable_now,Ic=e.unstable_getCurrentPriorityLevel,uo=e.unstable_ImmediatePriority,ws=e.unstable_UserBlockingPriority,Ar=e.unstable_NormalPriority,Vl=e.unstable_LowPriority,Pc=e.unstable_IdlePriority,co=null,fr=null;function Cc(s){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(co,s,void 0,(s.current.flags&128)===128)}catch{}}var $n=Math.clz32?Math.clz32:kc,jl=Math.log,Rc=Math.LN2;function kc(s){return s>>>=0,s===0?32:31-(jl(s)/Rc|0)|0}var pa=64,ma=4194304;function Es(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function fo(s,o){var u=s.pendingLanes;if(u===0)return 0;var d=0,m=s.suspendedLanes,_=s.pingedLanes,b=u&268435455;if(b!==0){var F=b&~m;F!==0?d=Es(F):(_&=b,_!==0&&(d=Es(_)))}else b=u&~m,b!==0?d=Es(b):_!==0&&(d=Es(_));if(d===0)return 0;if(o!==0&&o!==d&&!(o&m)&&(m=d&-d,_=o&-o,m>=_||m===16&&(_&4194240)!==0))return o;if(d&4&&(d|=u&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=d;0<o;)u=31-$n(o),m=1<<u,d|=s[u],o&=~m;return d}function Zh(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ji(s,o){for(var u=s.suspendedLanes,d=s.pingedLanes,m=s.expirationTimes,_=s.pendingLanes;0<_;){var b=31-$n(_),F=1<<b,$=m[b];$===-1?(!(F&u)||F&d)&&(m[b]=Zh(F,o)):$<=o&&(s.expiredLanes|=F),_&=~F}}function dr(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function ho(){var s=pa;return pa<<=1,!(pa&4194240)&&(pa=64),s}function bs(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function Ss(s,o,u){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-$n(o),s[o]=u}function Tt(s,o){var u=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var d=s.eventTimes;for(s=s.expirationTimes;0<u;){var m=31-$n(u),_=1<<m;o[m]=0,d[m]=-1,s[m]=-1,u&=~_}}function Ts(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var d=31-$n(u),m=1<<d;m&o|s[d]&o&&(s[d]|=o),u&=~m}}var ot=0;function xs(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var Oc,ga,Nc,Dc,Lc,Ul=!1,mi=[],yn=null,zr=null,qr=null,As=new Map,Ir=new Map,gi=[],ep="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mc(s,o){switch(s){case"focusin":case"focusout":yn=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":As.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ir.delete(o.pointerId)}}function Kn(s,o,u,d,m,_){return s===null||s.nativeEvent!==_?(s={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:_,targetContainers:[m]},o!==null&&(o=tu(o),o!==null&&ga(o)),s):(s.eventSystemFlags|=d,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function tp(s,o,u,d,m){switch(o){case"focusin":return yn=Kn(yn,s,o,u,d,m),!0;case"dragenter":return zr=Kn(zr,s,o,u,d,m),!0;case"mouseover":return qr=Kn(qr,s,o,u,d,m),!0;case"pointerover":var _=m.pointerId;return As.set(_,Kn(As.get(_)||null,s,o,u,d,m)),!0;case"gotpointercapture":return _=m.pointerId,Ir.set(_,Kn(Ir.get(_)||null,s,o,u,d,m)),!0}return!1}function Fc(s){var o=vo(s.target);if(o!==null){var u=$r(o);if(u!==null){if(o=u.tag,o===13){if(o=lo(u),o!==null){s.blockedOn=o,Lc(s.priority,function(){Nc(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ui(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=ya(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var d=new u.constructor(u.type,u);ht=d,u.target.dispatchEvent(d),ht=null}else return o=tu(u),o!==null&&ga(o),s.blockedOn=u,!1;o.shift()}return!0}function po(s,o,u){Ui(s)&&u.delete(o)}function Vc(){Ul=!1,yn!==null&&Ui(yn)&&(yn=null),zr!==null&&Ui(zr)&&(zr=null),qr!==null&&Ui(qr)&&(qr=null),As.forEach(po),Ir.forEach(po)}function Hr(s,o){s.blockedOn===o&&(s.blockedOn=null,Ul||(Ul=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Vc)))}function Wr(s){function o(m){return Hr(m,s)}if(0<mi.length){Hr(mi[0],s);for(var u=1;u<mi.length;u++){var d=mi[u];d.blockedOn===s&&(d.blockedOn=null)}}for(yn!==null&&Hr(yn,s),zr!==null&&Hr(zr,s),qr!==null&&Hr(qr,s),As.forEach(o),Ir.forEach(o),u=0;u<gi.length;u++)d=gi[u],d.blockedOn===s&&(d.blockedOn=null);for(;0<gi.length&&(u=gi[0],u.blockedOn===null);)Fc(u),u.blockedOn===null&&gi.shift()}var $i=q.ReactCurrentBatchConfig,Is=!0;function kt(s,o,u,d){var m=ot,_=$i.transition;$i.transition=null;try{ot=1,$l(s,o,u,d)}finally{ot=m,$i.transition=_}}function np(s,o,u,d){var m=ot,_=$i.transition;$i.transition=null;try{ot=4,$l(s,o,u,d)}finally{ot=m,$i.transition=_}}function $l(s,o,u,d){if(Is){var m=ya(s,o,u,d);if(m===null)hp(s,o,d,mo,u),Mc(s,d);else if(tp(m,s,o,u,d))d.stopPropagation();else if(Mc(s,d),o&4&&-1<ep.indexOf(s)){for(;m!==null;){var _=tu(m);if(_!==null&&Oc(_),_=ya(s,o,u,d),_===null&&hp(s,o,d,mo,u),_===m)break;m=_}m!==null&&d.stopPropagation()}else hp(s,o,d,null,u)}}var mo=null;function ya(s,o,u,d){if(mo=null,s=gt(d),s=vo(s),s!==null)if(o=$r(s),o===null)s=null;else if(u=o.tag,u===13){if(s=lo(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return mo=s,null}function Bl(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ic()){case uo:return 1;case ws:return 4;case Ar:case Vl:return 16;case Pc:return 536870912;default:return 16}default:return 16}}var hr=null,va=null,Qn=null;function zl(){if(Qn)return Qn;var s,o=va,u=o.length,d,m="value"in hr?hr.value:hr.textContent,_=m.length;for(s=0;s<u&&o[s]===m[s];s++);var b=u-s;for(d=1;d<=b&&o[u-d]===m[_-d];d++);return Qn=m.slice(s,1<d?1-d:void 0)}function _a(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function yi(){return!0}function ql(){return!1}function vn(s){function o(u,d,m,_,b){this._reactName=u,this._targetInst=m,this.type=d,this.nativeEvent=_,this.target=b,this.currentTarget=null;for(var F in s)s.hasOwnProperty(F)&&(u=s[F],this[F]=u?u(_):_[F]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?yi:ql,this.isPropagationStopped=ql,this}return fe(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=yi)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=yi)},persist:function(){},isPersistent:yi}),o}var Gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wa=vn(Gr),vi=fe({},Gr,{view:0,detail:0}),rp=vn(vi),Ea,Bi,Ps,go=fe({},vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_i,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ps&&(Ps&&s.type==="mousemove"?(Ea=s.screenX-Ps.screenX,Bi=s.screenY-Ps.screenY):Bi=Ea=0,Ps=s),Ea)},movementY:function(s){return"movementY"in s?s.movementY:Bi}}),ba=vn(go),Hl=fe({},go,{dataTransfer:0}),jc=vn(Hl),Sa=fe({},vi,{relatedTarget:0}),Ta=vn(Sa),Uc=fe({},Gr,{animationName:0,elapsedTime:0,pseudoElement:0}),zi=vn(Uc),$c=fe({},Gr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Bc=vn($c),zc=fe({},Gr,{data:0}),Wl=vn(zc),xa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hc(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=qc[s])?!!o[s]:!1}function _i(){return Hc}var c=fe({},vi,{key:function(s){if(s.key){var o=xa[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=_a(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Bn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_i,charCode:function(s){return s.type==="keypress"?_a(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?_a(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),v=vn(c),w=fe({},go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P=vn(w),G=fe({},vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_i}),ne=vn(G),we=fe({},Gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),_t=vn(we),Xt=fe({},go,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),at=vn(Xt),ln=[9,13,27,32],Gt=f&&"CompositionEvent"in window,Pr=null;f&&"documentMode"in document&&(Pr=document.documentMode);var pr=f&&"TextEvent"in window&&!Pr,yo=f&&(!Gt||Pr&&8<Pr&&11>=Pr),Aa=" ",t_=!1;function n_(s,o){switch(s){case"keyup":return ln.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function r_(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ia=!1;function OI(s,o){switch(s){case"compositionend":return r_(o);case"keypress":return o.which!==32?null:(t_=!0,Aa);case"textInput":return s=o.data,s===Aa&&t_?null:s;default:return null}}function NI(s,o){if(Ia)return s==="compositionend"||!Gt&&n_(s,o)?(s=zl(),Qn=va=hr=null,Ia=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return yo&&o.locale!=="ko"?null:o.data;default:return null}}var DI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function i_(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!DI[s.type]:o==="textarea"}function s_(s,o,u,d){gn(d),o=Jc(o,"onChange"),0<o.length&&(u=new wa("onChange","change",null,u,d),s.push({event:u,listeners:o}))}var Gl=null,Kl=null;function LI(s){S_(s,0)}function Wc(s){var o=Oa(s);if(Bt(o))return s}function MI(s,o){if(s==="change")return o}var o_=!1;if(f){var ip;if(f){var sp="oninput"in document;if(!sp){var a_=document.createElement("div");a_.setAttribute("oninput","return;"),sp=typeof a_.oninput=="function"}ip=sp}else ip=!1;o_=ip&&(!document.documentMode||9<document.documentMode)}function l_(){Gl&&(Gl.detachEvent("onpropertychange",u_),Kl=Gl=null)}function u_(s){if(s.propertyName==="value"&&Wc(Kl)){var o=[];s_(o,Kl,s,gt(s)),Dl(LI,o)}}function FI(s,o,u){s==="focusin"?(l_(),Gl=o,Kl=u,Gl.attachEvent("onpropertychange",u_)):s==="focusout"&&l_()}function VI(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Wc(Kl)}function jI(s,o){if(s==="click")return Wc(o)}function UI(s,o){if(s==="input"||s==="change")return Wc(o)}function $I(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Kr=typeof Object.is=="function"?Object.is:$I;function Ql(s,o){if(Kr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var m=u[d];if(!h.call(o,m)||!Kr(s[m],o[m]))return!1}return!0}function c_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function f_(s,o){var u=c_(s);s=0;for(var d;u;){if(u.nodeType===3){if(d=s+u.textContent.length,s<=o&&d>=o)return{node:u,offset:o-s};s=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=c_(u)}}function d_(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?d_(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function h_(){for(var s=window,o=xt();o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=xt(s.document)}return o}function op(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function BI(s){var o=h_(),u=s.focusedElem,d=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&d_(u.ownerDocument.documentElement,u)){if(d!==null&&op(u)){if(o=d.start,s=d.end,s===void 0&&(s=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(s,u.value.length);else if(s=(o=u.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var m=u.textContent.length,_=Math.min(d.start,m);d=d.end===void 0?_:Math.min(d.end,m),!s.extend&&_>d&&(m=d,d=_,_=m),m=f_(u,_);var b=f_(u,d);m&&b&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==b.node||s.focusOffset!==b.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),s.removeAllRanges(),_>d?(s.addRange(o),s.extend(b.node,b.offset)):(o.setEnd(b.node,b.offset),s.addRange(o)))}}for(o=[],s=u;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)s=o[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var zI=f&&"documentMode"in document&&11>=document.documentMode,Pa=null,ap=null,Jl=null,lp=!1;function p_(s,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;lp||Pa==null||Pa!==xt(d)||(d=Pa,"selectionStart"in d&&op(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Jl&&Ql(Jl,d)||(Jl=d,d=Jc(ap,"onSelect"),0<d.length&&(o=new wa("onSelect","select",null,o,u),s.push({event:o,listeners:d}),o.target=Pa)))}function Gc(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var Ca={animationend:Gc("Animation","AnimationEnd"),animationiteration:Gc("Animation","AnimationIteration"),animationstart:Gc("Animation","AnimationStart"),transitionend:Gc("Transition","TransitionEnd")},up={},m_={};f&&(m_=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function Kc(s){if(up[s])return up[s];if(!Ca[s])return s;var o=Ca[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in m_)return up[s]=o[u];return s}var g_=Kc("animationend"),y_=Kc("animationiteration"),v_=Kc("animationstart"),__=Kc("transitionend"),w_=new Map,E_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cs(s,o){w_.set(s,o),a(o,[s])}for(var cp=0;cp<E_.length;cp++){var fp=E_[cp],qI=fp.toLowerCase(),HI=fp[0].toUpperCase()+fp.slice(1);Cs(qI,"on"+HI)}Cs(g_,"onAnimationEnd"),Cs(y_,"onAnimationIteration"),Cs(v_,"onAnimationStart"),Cs("dblclick","onDoubleClick"),Cs("focusin","onFocus"),Cs("focusout","onBlur"),Cs(__,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yl));function b_(s,o,u){var d=s.type||"unknown-event";s.currentTarget=u,Tc(d,o,void 0,s),s.currentTarget=null}function S_(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var d=s[u],m=d.event;d=d.listeners;e:{var _=void 0;if(o)for(var b=d.length-1;0<=b;b--){var F=d[b],$=F.instance,Z=F.currentTarget;if(F=F.listener,$!==_&&m.isPropagationStopped())break e;b_(m,F,Z),_=$}else for(b=0;b<d.length;b++){if(F=d[b],$=F.instance,Z=F.currentTarget,F=F.listener,$!==_&&m.isPropagationStopped())break e;b_(m,F,Z),_=$}}}if(Ur)throw s=Ll,Ur=!1,Ll=null,s}function Ct(s,o){var u=o[_p];u===void 0&&(u=o[_p]=new Set);var d=s+"__bubble";u.has(d)||(T_(o,s,2,!1),u.add(d))}function dp(s,o,u){var d=0;o&&(d|=4),T_(u,s,d,o)}var Qc="_reactListening"+Math.random().toString(36).slice(2);function Xl(s){if(!s[Qc]){s[Qc]=!0,r.forEach(function(u){u!=="selectionchange"&&(WI.has(u)||dp(u,!1,s),dp(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Qc]||(o[Qc]=!0,dp("selectionchange",!1,o))}}function T_(s,o,u,d){switch(Bl(o)){case 1:var m=kt;break;case 4:m=np;break;default:m=$l}u=m.bind(null,o,u,s),m=void 0,!ua||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?s.addEventListener(o,u,{capture:!0,passive:m}):s.addEventListener(o,u,!0):m!==void 0?s.addEventListener(o,u,{passive:m}):s.addEventListener(o,u,!1)}function hp(s,o,u,d,m){var _=d;if(!(o&1)&&!(o&2)&&d!==null)e:for(;;){if(d===null)return;var b=d.tag;if(b===3||b===4){var F=d.stateNode.containerInfo;if(F===m||F.nodeType===8&&F.parentNode===m)break;if(b===4)for(b=d.return;b!==null;){var $=b.tag;if(($===3||$===4)&&($=b.stateNode.containerInfo,$===m||$.nodeType===8&&$.parentNode===m))return;b=b.return}for(;F!==null;){if(b=vo(F),b===null)return;if($=b.tag,$===5||$===6){d=_=b;continue e}F=F.parentNode}}d=d.return}Dl(function(){var Z=_,de=gt(u),me=[];e:{var ce=w_.get(s);if(ce!==void 0){var xe=wa,Re=s;switch(s){case"keypress":if(_a(u)===0)break e;case"keydown":case"keyup":xe=v;break;case"focusin":Re="focus",xe=Ta;break;case"focusout":Re="blur",xe=Ta;break;case"beforeblur":case"afterblur":xe=Ta;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=ba;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=jc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=ne;break;case g_:case y_:case v_:xe=zi;break;case __:xe=_t;break;case"scroll":xe=rp;break;case"wheel":xe=at;break;case"copy":case"cut":case"paste":xe=Bc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=P}var ke=(o&4)!==0,qt=!ke&&s==="scroll",K=ke?ce!==null?ce+"Capture":null:ce;ke=[];for(var B=Z,J;B!==null;){J=B;var ye=J.stateNode;if(J.tag===5&&ye!==null&&(J=ye,K!==null&&(ye=zt(B,K),ye!=null&&ke.push(Zl(B,ye,J)))),qt)break;B=B.return}0<ke.length&&(ce=new xe(ce,Re,null,u,de),me.push({event:ce,listeners:ke}))}}if(!(o&7)){e:{if(ce=s==="mouseover"||s==="pointerover",xe=s==="mouseout"||s==="pointerout",ce&&u!==ht&&(Re=u.relatedTarget||u.fromElement)&&(vo(Re)||Re[qi]))break e;if((xe||ce)&&(ce=de.window===de?de:(ce=de.ownerDocument)?ce.defaultView||ce.parentWindow:window,xe?(Re=u.relatedTarget||u.toElement,xe=Z,Re=Re?vo(Re):null,Re!==null&&(qt=$r(Re),Re!==qt||Re.tag!==5&&Re.tag!==6)&&(Re=null)):(xe=null,Re=Z),xe!==Re)){if(ke=ba,ye="onMouseLeave",K="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(ke=P,ye="onPointerLeave",K="onPointerEnter",B="pointer"),qt=xe==null?ce:Oa(xe),J=Re==null?ce:Oa(Re),ce=new ke(ye,B+"leave",xe,u,de),ce.target=qt,ce.relatedTarget=J,ye=null,vo(de)===Z&&(ke=new ke(K,B+"enter",Re,u,de),ke.target=J,ke.relatedTarget=qt,ye=ke),qt=ye,xe&&Re)t:{for(ke=xe,K=Re,B=0,J=ke;J;J=Ra(J))B++;for(J=0,ye=K;ye;ye=Ra(ye))J++;for(;0<B-J;)ke=Ra(ke),B--;for(;0<J-B;)K=Ra(K),J--;for(;B--;){if(ke===K||K!==null&&ke===K.alternate)break t;ke=Ra(ke),K=Ra(K)}ke=null}else ke=null;xe!==null&&x_(me,ce,xe,ke,!1),Re!==null&&qt!==null&&x_(me,qt,Re,ke,!0)}}e:{if(ce=Z?Oa(Z):window,xe=ce.nodeName&&ce.nodeName.toLowerCase(),xe==="select"||xe==="input"&&ce.type==="file")var De=MI;else if(i_(ce))if(o_)De=UI;else{De=VI;var Ue=FI}else(xe=ce.nodeName)&&xe.toLowerCase()==="input"&&(ce.type==="checkbox"||ce.type==="radio")&&(De=jI);if(De&&(De=De(s,Z))){s_(me,De,u,de);break e}Ue&&Ue(s,ce,Z),s==="focusout"&&(Ue=ce._wrapperState)&&Ue.controlled&&ce.type==="number"&&Y(ce,"number",ce.value)}switch(Ue=Z?Oa(Z):window,s){case"focusin":(i_(Ue)||Ue.contentEditable==="true")&&(Pa=Ue,ap=Z,Jl=null);break;case"focusout":Jl=ap=Pa=null;break;case"mousedown":lp=!0;break;case"contextmenu":case"mouseup":case"dragend":lp=!1,p_(me,u,de);break;case"selectionchange":if(zI)break;case"keydown":case"keyup":p_(me,u,de)}var $e;if(Gt)e:{switch(s){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else Ia?n_(s,u)&&(Ge="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ge="onCompositionStart");Ge&&(yo&&u.locale!=="ko"&&(Ia||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&Ia&&($e=zl()):(hr=de,va="value"in hr?hr.value:hr.textContent,Ia=!0)),Ue=Jc(Z,Ge),0<Ue.length&&(Ge=new Wl(Ge,s,null,u,de),me.push({event:Ge,listeners:Ue}),$e?Ge.data=$e:($e=r_(u),$e!==null&&(Ge.data=$e)))),($e=pr?OI(s,u):NI(s,u))&&(Z=Jc(Z,"onBeforeInput"),0<Z.length&&(de=new Wl("onBeforeInput","beforeinput",null,u,de),me.push({event:de,listeners:Z}),de.data=$e))}S_(me,o)})}function Zl(s,o,u){return{instance:s,listener:o,currentTarget:u}}function Jc(s,o){for(var u=o+"Capture",d=[];s!==null;){var m=s,_=m.stateNode;m.tag===5&&_!==null&&(m=_,_=zt(s,u),_!=null&&d.unshift(Zl(s,_,m)),_=zt(s,o),_!=null&&d.push(Zl(s,_,m))),s=s.return}return d}function Ra(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function x_(s,o,u,d,m){for(var _=o._reactName,b=[];u!==null&&u!==d;){var F=u,$=F.alternate,Z=F.stateNode;if($!==null&&$===d)break;F.tag===5&&Z!==null&&(F=Z,m?($=zt(u,_),$!=null&&b.unshift(Zl(u,$,F))):m||($=zt(u,_),$!=null&&b.push(Zl(u,$,F)))),u=u.return}b.length!==0&&s.push({event:o,listeners:b})}var GI=/\r\n?/g,KI=/\u0000|\uFFFD/g;function A_(s){return(typeof s=="string"?s:""+s).replace(GI,`
`).replace(KI,"")}function Yc(s,o,u){if(o=A_(o),A_(s)!==o&&u)throw Error(t(425))}function Xc(){}var pp=null,mp=null;function gp(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var yp=typeof setTimeout=="function"?setTimeout:void 0,QI=typeof clearTimeout=="function"?clearTimeout:void 0,I_=typeof Promise=="function"?Promise:void 0,JI=typeof queueMicrotask=="function"?queueMicrotask:typeof I_<"u"?function(s){return I_.resolve(null).then(s).catch(YI)}:yp;function YI(s){setTimeout(function(){throw s})}function vp(s,o){var u=o,d=0;do{var m=u.nextSibling;if(s.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(d===0){s.removeChild(m),Wr(o);return}d--}else u!=="$"&&u!=="$?"&&u!=="$!"||d++;u=m}while(u);Wr(o)}function Rs(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function P_(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}var ka=Math.random().toString(36).slice(2),wi="__reactFiber$"+ka,eu="__reactProps$"+ka,qi="__reactContainer$"+ka,_p="__reactEvents$"+ka,XI="__reactListeners$"+ka,ZI="__reactHandles$"+ka;function vo(s){var o=s[wi];if(o)return o;for(var u=s.parentNode;u;){if(o=u[qi]||u[wi]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=P_(s);s!==null;){if(u=s[wi])return u;s=P_(s)}return o}s=u,u=s.parentNode}return null}function tu(s){return s=s[wi]||s[qi],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Oa(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Zc(s){return s[eu]||null}var wp=[],Na=-1;function ks(s){return{current:s}}function Rt(s){0>Na||(s.current=wp[Na],wp[Na]=null,Na--)}function It(s,o){Na++,wp[Na]=s.current,s.current=o}var Os={},kn=ks(Os),Jn=ks(!1),_o=Os;function Da(s,o){var u=s.type.contextTypes;if(!u)return Os;var d=s.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var m={},_;for(_ in u)m[_]=o[_];return d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=m),m}function Yn(s){return s=s.childContextTypes,s!=null}function ef(){Rt(Jn),Rt(kn)}function C_(s,o,u){if(kn.current!==Os)throw Error(t(168));It(kn,o),It(Jn,u)}function R_(s,o,u){var d=s.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return u;d=d.getChildContext();for(var m in d)if(!(m in o))throw Error(t(108,Ze(s)||"Unknown",m));return fe({},u,d)}function tf(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Os,_o=kn.current,It(kn,s),It(Jn,Jn.current),!0}function k_(s,o,u){var d=s.stateNode;if(!d)throw Error(t(169));u?(s=R_(s,o,_o),d.__reactInternalMemoizedMergedChildContext=s,Rt(Jn),Rt(kn),It(kn,s)):Rt(Jn),It(Jn,u)}var Hi=null,nf=!1,Ep=!1;function O_(s){Hi===null?Hi=[s]:Hi.push(s)}function eP(s){nf=!0,O_(s)}function Ns(){if(!Ep&&Hi!==null){Ep=!0;var s=0,o=ot;try{var u=Hi;for(ot=1;s<u.length;s++){var d=u[s];do d=d(!0);while(d!==null)}Hi=null,nf=!1}catch(m){throw Hi!==null&&(Hi=Hi.slice(s+1)),ha(uo,Ns),m}finally{ot=o,Ep=!1}}return null}var La=[],Ma=0,rf=null,sf=0,Cr=[],Rr=0,wo=null,Wi=1,Gi="";function Eo(s,o){La[Ma++]=sf,La[Ma++]=rf,rf=s,sf=o}function N_(s,o,u){Cr[Rr++]=Wi,Cr[Rr++]=Gi,Cr[Rr++]=wo,wo=s;var d=Wi;s=Gi;var m=32-$n(d)-1;d&=~(1<<m),u+=1;var _=32-$n(o)+m;if(30<_){var b=m-m%5;_=(d&(1<<b)-1).toString(32),d>>=b,m-=b,Wi=1<<32-$n(o)+m|u<<m|d,Gi=_+s}else Wi=1<<_|u<<m|d,Gi=s}function bp(s){s.return!==null&&(Eo(s,1),N_(s,1,0))}function Sp(s){for(;s===rf;)rf=La[--Ma],La[Ma]=null,sf=La[--Ma],La[Ma]=null;for(;s===wo;)wo=Cr[--Rr],Cr[Rr]=null,Gi=Cr[--Rr],Cr[Rr]=null,Wi=Cr[--Rr],Cr[Rr]=null}var mr=null,gr=null,Ot=!1,Qr=null;function D_(s,o){var u=Dr(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=s,o=s.deletions,o===null?(s.deletions=[u],s.flags|=16):o.push(u)}function L_(s,o){switch(s.tag){case 5:var u=s.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,mr=s,gr=Rs(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,mr=s,gr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=wo!==null?{id:Wi,overflow:Gi}:null,s.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Dr(18,null,null,0),u.stateNode=o,u.return=s,s.child=u,mr=s,gr=null,!0):!1;default:return!1}}function Tp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function xp(s){if(Ot){var o=gr;if(o){var u=o;if(!L_(s,o)){if(Tp(s))throw Error(t(418));o=Rs(u.nextSibling);var d=mr;o&&L_(s,o)?D_(d,u):(s.flags=s.flags&-4097|2,Ot=!1,mr=s)}}else{if(Tp(s))throw Error(t(418));s.flags=s.flags&-4097|2,Ot=!1,mr=s}}}function M_(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;mr=s}function of(s){if(s!==mr)return!1;if(!Ot)return M_(s),Ot=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!gp(s.type,s.memoizedProps)),o&&(o=gr)){if(Tp(s))throw F_(),Error(t(418));for(;o;)D_(s,o),o=Rs(o.nextSibling)}if(M_(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(o===0){gr=Rs(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}s=s.nextSibling}gr=null}}else gr=mr?Rs(s.stateNode.nextSibling):null;return!0}function F_(){for(var s=gr;s;)s=Rs(s.nextSibling)}function Fa(){gr=mr=null,Ot=!1}function Ap(s){Qr===null?Qr=[s]:Qr.push(s)}var tP=q.ReactCurrentBatchConfig;function nu(s,o,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var d=u.stateNode}if(!d)throw Error(t(147,s));var m=d,_=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===_?o.ref:(o=function(b){var F=m.refs;b===null?delete F[_]:F[_]=b},o._stringRef=_,o)}if(typeof s!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,s))}return s}function af(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function V_(s){var o=s._init;return o(s._payload)}function j_(s){function o(K,B){if(s){var J=K.deletions;J===null?(K.deletions=[B],K.flags|=16):J.push(B)}}function u(K,B){if(!s)return null;for(;B!==null;)o(K,B),B=B.sibling;return null}function d(K,B){for(K=new Map;B!==null;)B.key!==null?K.set(B.key,B):K.set(B.index,B),B=B.sibling;return K}function m(K,B){return K=$s(K,B),K.index=0,K.sibling=null,K}function _(K,B,J){return K.index=J,s?(J=K.alternate,J!==null?(J=J.index,J<B?(K.flags|=2,B):J):(K.flags|=2,B)):(K.flags|=1048576,B)}function b(K){return s&&K.alternate===null&&(K.flags|=2),K}function F(K,B,J,ye){return B===null||B.tag!==6?(B=ym(J,K.mode,ye),B.return=K,B):(B=m(B,J),B.return=K,B)}function $(K,B,J,ye){var De=J.type;return De===R?de(K,B,J.props.children,ye,J.key):B!==null&&(B.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===qe&&V_(De)===B.type)?(ye=m(B,J.props),ye.ref=nu(K,B,J),ye.return=K,ye):(ye=kf(J.type,J.key,J.props,null,K.mode,ye),ye.ref=nu(K,B,J),ye.return=K,ye)}function Z(K,B,J,ye){return B===null||B.tag!==4||B.stateNode.containerInfo!==J.containerInfo||B.stateNode.implementation!==J.implementation?(B=vm(J,K.mode,ye),B.return=K,B):(B=m(B,J.children||[]),B.return=K,B)}function de(K,B,J,ye,De){return B===null||B.tag!==7?(B=Co(J,K.mode,ye,De),B.return=K,B):(B=m(B,J),B.return=K,B)}function me(K,B,J){if(typeof B=="string"&&B!==""||typeof B=="number")return B=ym(""+B,K.mode,J),B.return=K,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case W:return J=kf(B.type,B.key,B.props,null,K.mode,J),J.ref=nu(K,null,B),J.return=K,J;case X:return B=vm(B,K.mode,J),B.return=K,B;case qe:var ye=B._init;return me(K,ye(B._payload),J)}if(re(B)||be(B))return B=Co(B,K.mode,J,null),B.return=K,B;af(K,B)}return null}function ce(K,B,J,ye){var De=B!==null?B.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return De!==null?null:F(K,B,""+J,ye);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case W:return J.key===De?$(K,B,J,ye):null;case X:return J.key===De?Z(K,B,J,ye):null;case qe:return De=J._init,ce(K,B,De(J._payload),ye)}if(re(J)||be(J))return De!==null?null:de(K,B,J,ye,null);af(K,J)}return null}function xe(K,B,J,ye,De){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return K=K.get(J)||null,F(B,K,""+ye,De);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case W:return K=K.get(ye.key===null?J:ye.key)||null,$(B,K,ye,De);case X:return K=K.get(ye.key===null?J:ye.key)||null,Z(B,K,ye,De);case qe:var Ue=ye._init;return xe(K,B,J,Ue(ye._payload),De)}if(re(ye)||be(ye))return K=K.get(J)||null,de(B,K,ye,De,null);af(B,ye)}return null}function Re(K,B,J,ye){for(var De=null,Ue=null,$e=B,Ge=B=0,fn=null;$e!==null&&Ge<J.length;Ge++){$e.index>Ge?(fn=$e,$e=null):fn=$e.sibling;var dt=ce(K,$e,J[Ge],ye);if(dt===null){$e===null&&($e=fn);break}s&&$e&&dt.alternate===null&&o(K,$e),B=_(dt,B,Ge),Ue===null?De=dt:Ue.sibling=dt,Ue=dt,$e=fn}if(Ge===J.length)return u(K,$e),Ot&&Eo(K,Ge),De;if($e===null){for(;Ge<J.length;Ge++)$e=me(K,J[Ge],ye),$e!==null&&(B=_($e,B,Ge),Ue===null?De=$e:Ue.sibling=$e,Ue=$e);return Ot&&Eo(K,Ge),De}for($e=d(K,$e);Ge<J.length;Ge++)fn=xe($e,K,Ge,J[Ge],ye),fn!==null&&(s&&fn.alternate!==null&&$e.delete(fn.key===null?Ge:fn.key),B=_(fn,B,Ge),Ue===null?De=fn:Ue.sibling=fn,Ue=fn);return s&&$e.forEach(function(Bs){return o(K,Bs)}),Ot&&Eo(K,Ge),De}function ke(K,B,J,ye){var De=be(J);if(typeof De!="function")throw Error(t(150));if(J=De.call(J),J==null)throw Error(t(151));for(var Ue=De=null,$e=B,Ge=B=0,fn=null,dt=J.next();$e!==null&&!dt.done;Ge++,dt=J.next()){$e.index>Ge?(fn=$e,$e=null):fn=$e.sibling;var Bs=ce(K,$e,dt.value,ye);if(Bs===null){$e===null&&($e=fn);break}s&&$e&&Bs.alternate===null&&o(K,$e),B=_(Bs,B,Ge),Ue===null?De=Bs:Ue.sibling=Bs,Ue=Bs,$e=fn}if(dt.done)return u(K,$e),Ot&&Eo(K,Ge),De;if($e===null){for(;!dt.done;Ge++,dt=J.next())dt=me(K,dt.value,ye),dt!==null&&(B=_(dt,B,Ge),Ue===null?De=dt:Ue.sibling=dt,Ue=dt);return Ot&&Eo(K,Ge),De}for($e=d(K,$e);!dt.done;Ge++,dt=J.next())dt=xe($e,K,Ge,dt.value,ye),dt!==null&&(s&&dt.alternate!==null&&$e.delete(dt.key===null?Ge:dt.key),B=_(dt,B,Ge),Ue===null?De=dt:Ue.sibling=dt,Ue=dt);return s&&$e.forEach(function(DP){return o(K,DP)}),Ot&&Eo(K,Ge),De}function qt(K,B,J,ye){if(typeof J=="object"&&J!==null&&J.type===R&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case W:e:{for(var De=J.key,Ue=B;Ue!==null;){if(Ue.key===De){if(De=J.type,De===R){if(Ue.tag===7){u(K,Ue.sibling),B=m(Ue,J.props.children),B.return=K,K=B;break e}}else if(Ue.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===qe&&V_(De)===Ue.type){u(K,Ue.sibling),B=m(Ue,J.props),B.ref=nu(K,Ue,J),B.return=K,K=B;break e}u(K,Ue);break}else o(K,Ue);Ue=Ue.sibling}J.type===R?(B=Co(J.props.children,K.mode,ye,J.key),B.return=K,K=B):(ye=kf(J.type,J.key,J.props,null,K.mode,ye),ye.ref=nu(K,B,J),ye.return=K,K=ye)}return b(K);case X:e:{for(Ue=J.key;B!==null;){if(B.key===Ue)if(B.tag===4&&B.stateNode.containerInfo===J.containerInfo&&B.stateNode.implementation===J.implementation){u(K,B.sibling),B=m(B,J.children||[]),B.return=K,K=B;break e}else{u(K,B);break}else o(K,B);B=B.sibling}B=vm(J,K.mode,ye),B.return=K,K=B}return b(K);case qe:return Ue=J._init,qt(K,B,Ue(J._payload),ye)}if(re(J))return Re(K,B,J,ye);if(be(J))return ke(K,B,J,ye);af(K,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,B!==null&&B.tag===6?(u(K,B.sibling),B=m(B,J),B.return=K,K=B):(u(K,B),B=ym(J,K.mode,ye),B.return=K,K=B),b(K)):u(K,B)}return qt}var Va=j_(!0),U_=j_(!1),lf=ks(null),uf=null,ja=null,Ip=null;function Pp(){Ip=ja=uf=null}function Cp(s){var o=lf.current;Rt(lf),s._currentValue=o}function Rp(s,o,u){for(;s!==null;){var d=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),s===u)break;s=s.return}}function Ua(s,o){uf=s,Ip=ja=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&o&&(Xn=!0),s.firstContext=null)}function kr(s){var o=s._currentValue;if(Ip!==s)if(s={context:s,memoizedValue:o,next:null},ja===null){if(uf===null)throw Error(t(308));ja=s,uf.dependencies={lanes:0,firstContext:s}}else ja=ja.next=s;return o}var bo=null;function kp(s){bo===null?bo=[s]:bo.push(s)}function $_(s,o,u,d){var m=o.interleaved;return m===null?(u.next=u,kp(o)):(u.next=m.next,m.next=u),o.interleaved=u,Ki(s,d)}function Ki(s,o){s.lanes|=o;var u=s.alternate;for(u!==null&&(u.lanes|=o),u=s,s=s.return;s!==null;)s.childLanes|=o,u=s.alternate,u!==null&&(u.childLanes|=o),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Ds=!1;function Op(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function B_(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Qi(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Ls(s,o,u){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,ct&2){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,Ki(s,u)}return m=d.interleaved,m===null?(o.next=o,kp(d)):(o.next=m.next,m.next=o),d.interleaved=o,Ki(s,u)}function cf(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var d=o.lanes;d&=s.pendingLanes,u|=d,o.lanes=u,Ts(s,u)}}function z_(s,o){var u=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var m=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var b={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};_===null?m=_=b:_=_.next=b,u=u.next}while(u!==null);_===null?m=_=o:_=_.next=o}else m=_=o;u={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:_,shared:d.shared,effects:d.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}function ff(s,o,u,d){var m=s.updateQueue;Ds=!1;var _=m.firstBaseUpdate,b=m.lastBaseUpdate,F=m.shared.pending;if(F!==null){m.shared.pending=null;var $=F,Z=$.next;$.next=null,b===null?_=Z:b.next=Z,b=$;var de=s.alternate;de!==null&&(de=de.updateQueue,F=de.lastBaseUpdate,F!==b&&(F===null?de.firstBaseUpdate=Z:F.next=Z,de.lastBaseUpdate=$))}if(_!==null){var me=m.baseState;b=0,de=Z=$=null,F=_;do{var ce=F.lane,xe=F.eventTime;if((d&ce)===ce){de!==null&&(de=de.next={eventTime:xe,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var Re=s,ke=F;switch(ce=o,xe=u,ke.tag){case 1:if(Re=ke.payload,typeof Re=="function"){me=Re.call(xe,me,ce);break e}me=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=ke.payload,ce=typeof Re=="function"?Re.call(xe,me,ce):Re,ce==null)break e;me=fe({},me,ce);break e;case 2:Ds=!0}}F.callback!==null&&F.lane!==0&&(s.flags|=64,ce=m.effects,ce===null?m.effects=[F]:ce.push(F))}else xe={eventTime:xe,lane:ce,tag:F.tag,payload:F.payload,callback:F.callback,next:null},de===null?(Z=de=xe,$=me):de=de.next=xe,b|=ce;if(F=F.next,F===null){if(F=m.shared.pending,F===null)break;ce=F,F=ce.next,ce.next=null,m.lastBaseUpdate=ce,m.shared.pending=null}}while(!0);if(de===null&&($=me),m.baseState=$,m.firstBaseUpdate=Z,m.lastBaseUpdate=de,o=m.shared.interleaved,o!==null){m=o;do b|=m.lane,m=m.next;while(m!==o)}else _===null&&(m.shared.lanes=0);xo|=b,s.lanes=b,s.memoizedState=me}}function q_(s,o,u){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var d=s[o],m=d.callback;if(m!==null){if(d.callback=null,d=u,typeof m!="function")throw Error(t(191,m));m.call(d)}}}var ru={},Ei=ks(ru),iu=ks(ru),su=ks(ru);function So(s){if(s===ru)throw Error(t(174));return s}function Np(s,o){switch(It(su,o),It(iu,s),It(Ei,ru),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:se(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=se(o,s)}Rt(Ei),It(Ei,o)}function $a(){Rt(Ei),Rt(iu),Rt(su)}function H_(s){So(su.current);var o=So(Ei.current),u=se(o,s.type);o!==u&&(It(iu,s),It(Ei,u))}function Dp(s){iu.current===s&&(Rt(Ei),Rt(iu))}var Mt=ks(0);function df(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Lp=[];function Mp(){for(var s=0;s<Lp.length;s++)Lp[s]._workInProgressVersionPrimary=null;Lp.length=0}var hf=q.ReactCurrentDispatcher,Fp=q.ReactCurrentBatchConfig,To=0,Ft=null,Zt=null,un=null,pf=!1,ou=!1,au=0,nP=0;function On(){throw Error(t(321))}function Vp(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!Kr(s[u],o[u]))return!1;return!0}function jp(s,o,u,d,m,_){if(To=_,Ft=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,hf.current=s===null||s.memoizedState===null?oP:aP,s=u(d,m),ou){_=0;do{if(ou=!1,au=0,25<=_)throw Error(t(301));_+=1,un=Zt=null,o.updateQueue=null,hf.current=lP,s=u(d,m)}while(ou)}if(hf.current=yf,o=Zt!==null&&Zt.next!==null,To=0,un=Zt=Ft=null,pf=!1,o)throw Error(t(300));return s}function Up(){var s=au!==0;return au=0,s}function bi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?Ft.memoizedState=un=s:un=un.next=s,un}function Or(){if(Zt===null){var s=Ft.alternate;s=s!==null?s.memoizedState:null}else s=Zt.next;var o=un===null?Ft.memoizedState:un.next;if(o!==null)un=o,Zt=s;else{if(s===null)throw Error(t(310));Zt=s,s={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},un===null?Ft.memoizedState=un=s:un=un.next=s}return un}function lu(s,o){return typeof o=="function"?o(s):o}function $p(s){var o=Or(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var d=Zt,m=d.baseQueue,_=u.pending;if(_!==null){if(m!==null){var b=m.next;m.next=_.next,_.next=b}d.baseQueue=m=_,u.pending=null}if(m!==null){_=m.next,d=d.baseState;var F=b=null,$=null,Z=_;do{var de=Z.lane;if((To&de)===de)$!==null&&($=$.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),d=Z.hasEagerState?Z.eagerState:s(d,Z.action);else{var me={lane:de,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};$===null?(F=$=me,b=d):$=$.next=me,Ft.lanes|=de,xo|=de}Z=Z.next}while(Z!==null&&Z!==_);$===null?b=d:$.next=F,Kr(d,o.memoizedState)||(Xn=!0),o.memoizedState=d,o.baseState=b,o.baseQueue=$,u.lastRenderedState=d}if(s=u.interleaved,s!==null){m=s;do _=m.lane,Ft.lanes|=_,xo|=_,m=m.next;while(m!==s)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Bp(s){var o=Or(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var d=u.dispatch,m=u.pending,_=o.memoizedState;if(m!==null){u.pending=null;var b=m=m.next;do _=s(_,b.action),b=b.next;while(b!==m);Kr(_,o.memoizedState)||(Xn=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),u.lastRenderedState=_}return[_,d]}function W_(){}function G_(s,o){var u=Ft,d=Or(),m=o(),_=!Kr(d.memoizedState,m);if(_&&(d.memoizedState=m,Xn=!0),d=d.queue,zp(J_.bind(null,u,d,s),[s]),d.getSnapshot!==o||_||un!==null&&un.memoizedState.tag&1){if(u.flags|=2048,uu(9,Q_.bind(null,u,d,m,o),void 0,null),cn===null)throw Error(t(349));To&30||K_(u,o,m)}return m}function K_(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=Ft.updateQueue,o===null?(o={lastEffect:null,stores:null},Ft.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function Q_(s,o,u,d){o.value=u,o.getSnapshot=d,Y_(o)&&X_(s)}function J_(s,o,u){return u(function(){Y_(o)&&X_(s)})}function Y_(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!Kr(s,u)}catch{return!0}}function X_(s){var o=Ki(s,1);o!==null&&Zr(o,s,1,-1)}function Z_(s){var o=bi();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lu,lastRenderedState:s},o.queue=s,s=s.dispatch=sP.bind(null,Ft,s),[o.memoizedState,s]}function uu(s,o,u,d){return s={tag:s,create:o,destroy:u,deps:d,next:null},o=Ft.updateQueue,o===null?(o={lastEffect:null,stores:null},Ft.updateQueue=o,o.lastEffect=s.next=s):(u=o.lastEffect,u===null?o.lastEffect=s.next=s:(d=u.next,u.next=s,s.next=d,o.lastEffect=s)),s}function ew(){return Or().memoizedState}function mf(s,o,u,d){var m=bi();Ft.flags|=s,m.memoizedState=uu(1|o,u,void 0,d===void 0?null:d)}function gf(s,o,u,d){var m=Or();d=d===void 0?null:d;var _=void 0;if(Zt!==null){var b=Zt.memoizedState;if(_=b.destroy,d!==null&&Vp(d,b.deps)){m.memoizedState=uu(o,u,_,d);return}}Ft.flags|=s,m.memoizedState=uu(1|o,u,_,d)}function tw(s,o){return mf(8390656,8,s,o)}function zp(s,o){return gf(2048,8,s,o)}function nw(s,o){return gf(4,2,s,o)}function rw(s,o){return gf(4,4,s,o)}function iw(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function sw(s,o,u){return u=u!=null?u.concat([s]):null,gf(4,4,iw.bind(null,o,s),u)}function qp(){}function ow(s,o){var u=Or();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&Vp(o,d[1])?d[0]:(u.memoizedState=[s,o],s)}function aw(s,o){var u=Or();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&Vp(o,d[1])?d[0]:(s=s(),u.memoizedState=[s,o],s)}function lw(s,o,u){return To&21?(Kr(u,o)||(u=ho(),Ft.lanes|=u,xo|=u,s.baseState=!0),o):(s.baseState&&(s.baseState=!1,Xn=!0),s.memoizedState=u)}function rP(s,o){var u=ot;ot=u!==0&&4>u?u:4,s(!0);var d=Fp.transition;Fp.transition={};try{s(!1),o()}finally{ot=u,Fp.transition=d}}function uw(){return Or().memoizedState}function iP(s,o,u){var d=js(s);if(u={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null},cw(s))fw(o,u);else if(u=$_(s,o,u,d),u!==null){var m=qn();Zr(u,s,d,m),dw(u,o,d)}}function sP(s,o,u){var d=js(s),m={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null};if(cw(s))fw(o,m);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var b=o.lastRenderedState,F=_(b,u);if(m.hasEagerState=!0,m.eagerState=F,Kr(F,b)){var $=o.interleaved;$===null?(m.next=m,kp(o)):(m.next=$.next,$.next=m),o.interleaved=m;return}}catch{}finally{}u=$_(s,o,m,d),u!==null&&(m=qn(),Zr(u,s,d,m),dw(u,o,d))}}function cw(s){var o=s.alternate;return s===Ft||o!==null&&o===Ft}function fw(s,o){ou=pf=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function dw(s,o,u){if(u&4194240){var d=o.lanes;d&=s.pendingLanes,u|=d,o.lanes=u,Ts(s,u)}}var yf={readContext:kr,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useInsertionEffect:On,useLayoutEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useMutableSource:On,useSyncExternalStore:On,useId:On,unstable_isNewReconciler:!1},oP={readContext:kr,useCallback:function(s,o){return bi().memoizedState=[s,o===void 0?null:o],s},useContext:kr,useEffect:tw,useImperativeHandle:function(s,o,u){return u=u!=null?u.concat([s]):null,mf(4194308,4,iw.bind(null,o,s),u)},useLayoutEffect:function(s,o){return mf(4194308,4,s,o)},useInsertionEffect:function(s,o){return mf(4,2,s,o)},useMemo:function(s,o){var u=bi();return o=o===void 0?null:o,s=s(),u.memoizedState=[s,o],s},useReducer:function(s,o,u){var d=bi();return o=u!==void 0?u(o):o,d.memoizedState=d.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},d.queue=s,s=s.dispatch=iP.bind(null,Ft,s),[d.memoizedState,s]},useRef:function(s){var o=bi();return s={current:s},o.memoizedState=s},useState:Z_,useDebugValue:qp,useDeferredValue:function(s){return bi().memoizedState=s},useTransition:function(){var s=Z_(!1),o=s[0];return s=rP.bind(null,s[1]),bi().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,u){var d=Ft,m=bi();if(Ot){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),cn===null)throw Error(t(349));To&30||K_(d,o,u)}m.memoizedState=u;var _={value:u,getSnapshot:o};return m.queue=_,tw(J_.bind(null,d,_,s),[s]),d.flags|=2048,uu(9,Q_.bind(null,d,_,u,o),void 0,null),u},useId:function(){var s=bi(),o=cn.identifierPrefix;if(Ot){var u=Gi,d=Wi;u=(d&~(1<<32-$n(d)-1)).toString(32)+u,o=":"+o+"R"+u,u=au++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=nP++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},aP={readContext:kr,useCallback:ow,useContext:kr,useEffect:zp,useImperativeHandle:sw,useInsertionEffect:nw,useLayoutEffect:rw,useMemo:aw,useReducer:$p,useRef:ew,useState:function(){return $p(lu)},useDebugValue:qp,useDeferredValue:function(s){var o=Or();return lw(o,Zt.memoizedState,s)},useTransition:function(){var s=$p(lu)[0],o=Or().memoizedState;return[s,o]},useMutableSource:W_,useSyncExternalStore:G_,useId:uw,unstable_isNewReconciler:!1},lP={readContext:kr,useCallback:ow,useContext:kr,useEffect:zp,useImperativeHandle:sw,useInsertionEffect:nw,useLayoutEffect:rw,useMemo:aw,useReducer:Bp,useRef:ew,useState:function(){return Bp(lu)},useDebugValue:qp,useDeferredValue:function(s){var o=Or();return Zt===null?o.memoizedState=s:lw(o,Zt.memoizedState,s)},useTransition:function(){var s=Bp(lu)[0],o=Or().memoizedState;return[s,o]},useMutableSource:W_,useSyncExternalStore:G_,useId:uw,unstable_isNewReconciler:!1};function Jr(s,o){if(s&&s.defaultProps){o=fe({},o),s=s.defaultProps;for(var u in s)o[u]===void 0&&(o[u]=s[u]);return o}return o}function Hp(s,o,u,d){o=s.memoizedState,u=u(d,o),u=u==null?o:fe({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var vf={isMounted:function(s){return(s=s._reactInternals)?$r(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var d=qn(),m=js(s),_=Qi(d,m);_.payload=o,u!=null&&(_.callback=u),o=Ls(s,_,m),o!==null&&(Zr(o,s,m,d),cf(o,s,m))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var d=qn(),m=js(s),_=Qi(d,m);_.tag=1,_.payload=o,u!=null&&(_.callback=u),o=Ls(s,_,m),o!==null&&(Zr(o,s,m,d),cf(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=qn(),d=js(s),m=Qi(u,d);m.tag=2,o!=null&&(m.callback=o),o=Ls(s,m,d),o!==null&&(Zr(o,s,d,u),cf(o,s,d))}};function hw(s,o,u,d,m,_,b){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,_,b):o.prototype&&o.prototype.isPureReactComponent?!Ql(u,d)||!Ql(m,_):!0}function pw(s,o,u){var d=!1,m=Os,_=o.contextType;return typeof _=="object"&&_!==null?_=kr(_):(m=Yn(o)?_o:kn.current,d=o.contextTypes,_=(d=d!=null)?Da(s,m):Os),o=new o(u,_),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=vf,s.stateNode=o,o._reactInternals=s,d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=_),o}function mw(s,o,u,d){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==s&&vf.enqueueReplaceState(o,o.state,null)}function Wp(s,o,u,d){var m=s.stateNode;m.props=u,m.state=s.memoizedState,m.refs={},Op(s);var _=o.contextType;typeof _=="object"&&_!==null?m.context=kr(_):(_=Yn(o)?_o:kn.current,m.context=Da(s,_)),m.state=s.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(Hp(s,o,_,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&vf.enqueueReplaceState(m,m.state,null),ff(s,u,m,d),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function Ba(s,o){try{var u="",d=o;do u+=Ve(d),d=d.return;while(d);var m=u}catch(_){m=`
Error generating stack: `+_.message+`
`+_.stack}return{value:s,source:o,stack:m,digest:null}}function Gp(s,o,u){return{value:s,source:null,stack:u??null,digest:o??null}}function Kp(s,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var uP=typeof WeakMap=="function"?WeakMap:Map;function gw(s,o,u){u=Qi(-1,u),u.tag=3,u.payload={element:null};var d=o.value;return u.callback=function(){xf||(xf=!0,um=d),Kp(s,o)},u}function yw(s,o,u){u=Qi(-1,u),u.tag=3;var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;u.payload=function(){return d(m)},u.callback=function(){Kp(s,o)}}var _=s.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(u.callback=function(){Kp(s,o),typeof d!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})}),u}function vw(s,o,u){var d=s.pingCache;if(d===null){d=s.pingCache=new uP;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(u)||(m.add(u),s=SP.bind(null,s,o,u),o.then(s,s))}function _w(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function ww(s,o,u,d,m){return s.mode&1?(s.flags|=65536,s.lanes=m,s):(s===o?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Qi(-1,1),o.tag=2,Ls(u,o,1))),u.lanes|=1),s)}var cP=q.ReactCurrentOwner,Xn=!1;function zn(s,o,u,d){o.child=s===null?U_(o,null,u,d):Va(o,s.child,u,d)}function Ew(s,o,u,d,m){u=u.render;var _=o.ref;return Ua(o,m),d=jp(s,o,u,d,_,m),u=Up(),s!==null&&!Xn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,Ji(s,o,m)):(Ot&&u&&bp(o),o.flags|=1,zn(s,o,d,m),o.child)}function bw(s,o,u,d,m){if(s===null){var _=u.type;return typeof _=="function"&&!gm(_)&&_.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=_,Sw(s,o,_,d,m)):(s=kf(u.type,null,d,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(_=s.child,!(s.lanes&m)){var b=_.memoizedProps;if(u=u.compare,u=u!==null?u:Ql,u(b,d)&&s.ref===o.ref)return Ji(s,o,m)}return o.flags|=1,s=$s(_,d),s.ref=o.ref,s.return=o,o.child=s}function Sw(s,o,u,d,m){if(s!==null){var _=s.memoizedProps;if(Ql(_,d)&&s.ref===o.ref)if(Xn=!1,o.pendingProps=d=_,(s.lanes&m)!==0)s.flags&131072&&(Xn=!0);else return o.lanes=s.lanes,Ji(s,o,m)}return Qp(s,o,u,d,m)}function Tw(s,o,u){var d=o.pendingProps,m=d.children,_=s!==null?s.memoizedState:null;if(d.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},It(qa,yr),yr|=u;else{if(!(u&1073741824))return s=_!==null?_.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,It(qa,yr),yr|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=_!==null?_.baseLanes:u,It(qa,yr),yr|=d}else _!==null?(d=_.baseLanes|u,o.memoizedState=null):d=u,It(qa,yr),yr|=d;return zn(s,o,m,u),o.child}function xw(s,o){var u=o.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Qp(s,o,u,d,m){var _=Yn(u)?_o:kn.current;return _=Da(o,_),Ua(o,m),u=jp(s,o,u,d,_,m),d=Up(),s!==null&&!Xn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,Ji(s,o,m)):(Ot&&d&&bp(o),o.flags|=1,zn(s,o,u,m),o.child)}function Aw(s,o,u,d,m){if(Yn(u)){var _=!0;tf(o)}else _=!1;if(Ua(o,m),o.stateNode===null)wf(s,o),pw(o,u,d),Wp(o,u,d,m),d=!0;else if(s===null){var b=o.stateNode,F=o.memoizedProps;b.props=F;var $=b.context,Z=u.contextType;typeof Z=="object"&&Z!==null?Z=kr(Z):(Z=Yn(u)?_o:kn.current,Z=Da(o,Z));var de=u.getDerivedStateFromProps,me=typeof de=="function"||typeof b.getSnapshotBeforeUpdate=="function";me||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(F!==d||$!==Z)&&mw(o,b,d,Z),Ds=!1;var ce=o.memoizedState;b.state=ce,ff(o,d,b,m),$=o.memoizedState,F!==d||ce!==$||Jn.current||Ds?(typeof de=="function"&&(Hp(o,u,de,d),$=o.memoizedState),(F=Ds||hw(o,u,F,d,ce,$,Z))?(me||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=$),b.props=d,b.state=$,b.context=Z,d=F):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{b=o.stateNode,B_(s,o),F=o.memoizedProps,Z=o.type===o.elementType?F:Jr(o.type,F),b.props=Z,me=o.pendingProps,ce=b.context,$=u.contextType,typeof $=="object"&&$!==null?$=kr($):($=Yn(u)?_o:kn.current,$=Da(o,$));var xe=u.getDerivedStateFromProps;(de=typeof xe=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(F!==me||ce!==$)&&mw(o,b,d,$),Ds=!1,ce=o.memoizedState,b.state=ce,ff(o,d,b,m);var Re=o.memoizedState;F!==me||ce!==Re||Jn.current||Ds?(typeof xe=="function"&&(Hp(o,u,xe,d),Re=o.memoizedState),(Z=Ds||hw(o,u,Z,d,ce,Re,$)||!1)?(de||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,Re,$),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,Re,$)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||F===s.memoizedProps&&ce===s.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||F===s.memoizedProps&&ce===s.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=Re),b.props=d,b.state=Re,b.context=$,d=Z):(typeof b.componentDidUpdate!="function"||F===s.memoizedProps&&ce===s.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||F===s.memoizedProps&&ce===s.memoizedState||(o.flags|=1024),d=!1)}return Jp(s,o,u,d,_,m)}function Jp(s,o,u,d,m,_){xw(s,o);var b=(o.flags&128)!==0;if(!d&&!b)return m&&k_(o,u,!1),Ji(s,o,_);d=o.stateNode,cP.current=o;var F=b&&typeof u.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,s!==null&&b?(o.child=Va(o,s.child,null,_),o.child=Va(o,null,F,_)):zn(s,o,F,_),o.memoizedState=d.state,m&&k_(o,u,!0),o.child}function Iw(s){var o=s.stateNode;o.pendingContext?C_(s,o.pendingContext,o.pendingContext!==o.context):o.context&&C_(s,o.context,!1),Np(s,o.containerInfo)}function Pw(s,o,u,d,m){return Fa(),Ap(m),o.flags|=256,zn(s,o,u,d),o.child}var Yp={dehydrated:null,treeContext:null,retryLane:0};function Xp(s){return{baseLanes:s,cachePool:null,transitions:null}}function Cw(s,o,u){var d=o.pendingProps,m=Mt.current,_=!1,b=(o.flags&128)!==0,F;if((F=b)||(F=s!==null&&s.memoizedState===null?!1:(m&2)!==0),F?(_=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),It(Mt,m&1),s===null)return xp(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(o.mode&1?s.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(b=d.children,s=d.fallback,_?(d=o.mode,_=o.child,b={mode:"hidden",children:b},!(d&1)&&_!==null?(_.childLanes=0,_.pendingProps=b):_=Of(b,d,0,null),s=Co(s,d,u,null),_.return=o,s.return=o,_.sibling=s,o.child=_,o.child.memoizedState=Xp(u),o.memoizedState=Yp,s):Zp(o,b));if(m=s.memoizedState,m!==null&&(F=m.dehydrated,F!==null))return fP(s,o,b,d,F,m,u);if(_){_=d.fallback,b=o.mode,m=s.child,F=m.sibling;var $={mode:"hidden",children:d.children};return!(b&1)&&o.child!==m?(d=o.child,d.childLanes=0,d.pendingProps=$,o.deletions=null):(d=$s(m,$),d.subtreeFlags=m.subtreeFlags&14680064),F!==null?_=$s(F,_):(_=Co(_,b,u,null),_.flags|=2),_.return=o,d.return=o,d.sibling=_,o.child=d,d=_,_=o.child,b=s.child.memoizedState,b=b===null?Xp(u):{baseLanes:b.baseLanes|u,cachePool:null,transitions:b.transitions},_.memoizedState=b,_.childLanes=s.childLanes&~u,o.memoizedState=Yp,d}return _=s.child,s=_.sibling,d=$s(_,{mode:"visible",children:d.children}),!(o.mode&1)&&(d.lanes=u),d.return=o,d.sibling=null,s!==null&&(u=o.deletions,u===null?(o.deletions=[s],o.flags|=16):u.push(s)),o.child=d,o.memoizedState=null,d}function Zp(s,o){return o=Of({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function _f(s,o,u,d){return d!==null&&Ap(d),Va(o,s.child,null,u),s=Zp(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function fP(s,o,u,d,m,_,b){if(u)return o.flags&256?(o.flags&=-257,d=Gp(Error(t(422))),_f(s,o,b,d)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(_=d.fallback,m=o.mode,d=Of({mode:"visible",children:d.children},m,0,null),_=Co(_,m,b,null),_.flags|=2,d.return=o,_.return=o,d.sibling=_,o.child=d,o.mode&1&&Va(o,s.child,null,b),o.child.memoizedState=Xp(b),o.memoizedState=Yp,_);if(!(o.mode&1))return _f(s,o,b,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var F=d.dgst;return d=F,_=Error(t(419)),d=Gp(_,d,void 0),_f(s,o,b,d)}if(F=(b&s.childLanes)!==0,Xn||F){if(d=cn,d!==null){switch(b&-b){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(d.suspendedLanes|b)?0:m,m!==0&&m!==_.retryLane&&(_.retryLane=m,Ki(s,m),Zr(d,s,m,-1))}return mm(),d=Gp(Error(t(421))),_f(s,o,b,d)}return m.data==="$?"?(o.flags|=128,o.child=s.child,o=TP.bind(null,s),m._reactRetry=o,null):(s=_.treeContext,gr=Rs(m.nextSibling),mr=o,Ot=!0,Qr=null,s!==null&&(Cr[Rr++]=Wi,Cr[Rr++]=Gi,Cr[Rr++]=wo,Wi=s.id,Gi=s.overflow,wo=o),o=Zp(o,d.children),o.flags|=4096,o)}function Rw(s,o,u){s.lanes|=o;var d=s.alternate;d!==null&&(d.lanes|=o),Rp(s.return,o,u)}function em(s,o,u,d,m){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:m}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=d,_.tail=u,_.tailMode=m)}function kw(s,o,u){var d=o.pendingProps,m=d.revealOrder,_=d.tail;if(zn(s,o,d.children,u),d=Mt.current,d&2)d=d&1|2,o.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Rw(s,u,o);else if(s.tag===19)Rw(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}if(It(Mt,d),!(o.mode&1))o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)s=u.alternate,s!==null&&df(s)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),em(o,!1,m,u,_);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&df(s)===null){o.child=m;break}s=m.sibling,m.sibling=u,u=m,m=s}em(o,!0,u,null,_);break;case"together":em(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function wf(s,o){!(o.mode&1)&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function Ji(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),xo|=o.lanes,!(u&o.childLanes))return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,u=$s(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=$s(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function dP(s,o,u){switch(o.tag){case 3:Iw(o),Fa();break;case 5:H_(o);break;case 1:Yn(o.type)&&tf(o);break;case 4:Np(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,m=o.memoizedProps.value;It(lf,d._currentValue),d._currentValue=m;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(It(Mt,Mt.current&1),o.flags|=128,null):u&o.child.childLanes?Cw(s,o,u):(It(Mt,Mt.current&1),s=Ji(s,o,u),s!==null?s.sibling:null);It(Mt,Mt.current&1);break;case 19:if(d=(u&o.childLanes)!==0,s.flags&128){if(d)return kw(s,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),It(Mt,Mt.current),d)break;return null;case 22:case 23:return o.lanes=0,Tw(s,o,u)}return Ji(s,o,u)}var Ow,tm,Nw,Dw;Ow=function(s,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},tm=function(){},Nw=function(s,o,u,d){var m=s.memoizedProps;if(m!==d){s=o.stateNode,So(Ei.current);var _=null;switch(u){case"input":m=Sr(s,m),d=Sr(s,d),_=[];break;case"select":m=fe({},m,{value:void 0}),d=fe({},d,{value:void 0}),_=[];break;case"textarea":m=ge(s,m),d=ge(s,d),_=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(s.onclick=Xc)}Te(u,d);var b;u=null;for(Z in m)if(!d.hasOwnProperty(Z)&&m.hasOwnProperty(Z)&&m[Z]!=null)if(Z==="style"){var F=m[Z];for(b in F)F.hasOwnProperty(b)&&(u||(u={}),u[b]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(i.hasOwnProperty(Z)?_||(_=[]):(_=_||[]).push(Z,null));for(Z in d){var $=d[Z];if(F=m!=null?m[Z]:void 0,d.hasOwnProperty(Z)&&$!==F&&($!=null||F!=null))if(Z==="style")if(F){for(b in F)!F.hasOwnProperty(b)||$&&$.hasOwnProperty(b)||(u||(u={}),u[b]="");for(b in $)$.hasOwnProperty(b)&&F[b]!==$[b]&&(u||(u={}),u[b]=$[b])}else u||(_||(_=[]),_.push(Z,u)),u=$;else Z==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,F=F?F.__html:void 0,$!=null&&F!==$&&(_=_||[]).push(Z,$)):Z==="children"?typeof $!="string"&&typeof $!="number"||(_=_||[]).push(Z,""+$):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(i.hasOwnProperty(Z)?($!=null&&Z==="onScroll"&&Ct("scroll",s),_||F===$||(_=[])):(_=_||[]).push(Z,$))}u&&(_=_||[]).push("style",u);var Z=_;(o.updateQueue=Z)&&(o.flags|=4)}},Dw=function(s,o,u,d){u!==d&&(o.flags|=4)};function cu(s,o){if(!Ot)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function Nn(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,d=0;if(o)for(var m=s.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=d,s.childLanes=u,o}function hP(s,o,u){var d=o.pendingProps;switch(Sp(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(o),null;case 1:return Yn(o.type)&&ef(),Nn(o),null;case 3:return d=o.stateNode,$a(),Rt(Jn),Rt(kn),Mp(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(of(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,Qr!==null&&(dm(Qr),Qr=null))),tm(s,o),Nn(o),null;case 5:Dp(o);var m=So(su.current);if(u=o.type,s!==null&&o.stateNode!=null)Nw(s,o,u,d,m),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(t(166));return Nn(o),null}if(s=So(Ei.current),of(o)){d=o.stateNode,u=o.type;var _=o.memoizedProps;switch(d[wi]=o,d[eu]=_,s=(o.mode&1)!==0,u){case"dialog":Ct("cancel",d),Ct("close",d);break;case"iframe":case"object":case"embed":Ct("load",d);break;case"video":case"audio":for(m=0;m<Yl.length;m++)Ct(Yl[m],d);break;case"source":Ct("error",d);break;case"img":case"image":case"link":Ct("error",d),Ct("load",d);break;case"details":Ct("toggle",d);break;case"input":pi(d,_),Ct("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!_.multiple},Ct("invalid",d);break;case"textarea":pe(d,_),Ct("invalid",d)}Te(u,_),m=null;for(var b in _)if(_.hasOwnProperty(b)){var F=_[b];b==="children"?typeof F=="string"?d.textContent!==F&&(_.suppressHydrationWarning!==!0&&Yc(d.textContent,F,s),m=["children",F]):typeof F=="number"&&d.textContent!==""+F&&(_.suppressHydrationWarning!==!0&&Yc(d.textContent,F,s),m=["children",""+F]):i.hasOwnProperty(b)&&F!=null&&b==="onScroll"&&Ct("scroll",d)}switch(u){case"input":mt(d),j(d,_,!0);break;case"textarea":mt(d),ee(d);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(d.onclick=Xc)}d=m,o.updateQueue=d,d!==null&&(o.flags|=4)}else{b=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=z(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=b.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof d.is=="string"?s=b.createElement(u,{is:d.is}):(s=b.createElement(u),u==="select"&&(b=s,d.multiple?b.multiple=!0:d.size&&(b.size=d.size))):s=b.createElementNS(s,u),s[wi]=o,s[eu]=d,Ow(s,o,!1,!1),o.stateNode=s;e:{switch(b=Je(u,d),u){case"dialog":Ct("cancel",s),Ct("close",s),m=d;break;case"iframe":case"object":case"embed":Ct("load",s),m=d;break;case"video":case"audio":for(m=0;m<Yl.length;m++)Ct(Yl[m],s);m=d;break;case"source":Ct("error",s),m=d;break;case"img":case"image":case"link":Ct("error",s),Ct("load",s),m=d;break;case"details":Ct("toggle",s),m=d;break;case"input":pi(s,d),m=Sr(s,d),Ct("invalid",s);break;case"option":m=d;break;case"select":s._wrapperState={wasMultiple:!!d.multiple},m=fe({},d,{value:void 0}),Ct("invalid",s);break;case"textarea":pe(s,d),m=ge(s,d),Ct("invalid",s);break;default:m=d}Te(u,m),F=m;for(_ in F)if(F.hasOwnProperty(_)){var $=F[_];_==="style"?Ae(s,$):_==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&We(s,$)):_==="children"?typeof $=="string"?(u!=="textarea"||$!=="")&&Be(s,$):typeof $=="number"&&Be(s,""+$):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(i.hasOwnProperty(_)?$!=null&&_==="onScroll"&&Ct("scroll",s):$!=null&&U(s,_,$,b))}switch(u){case"input":mt(s),j(s,d,!1);break;case"textarea":mt(s),ee(s);break;case"option":d.value!=null&&s.setAttribute("value",""+Qe(d.value));break;case"select":s.multiple=!!d.multiple,_=d.value,_!=null?_e(s,!!d.multiple,_,!1):d.defaultValue!=null&&_e(s,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=Xc)}switch(u){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Nn(o),null;case 6:if(s&&o.stateNode!=null)Dw(s,o,s.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(t(166));if(u=So(su.current),So(Ei.current),of(o)){if(d=o.stateNode,u=o.memoizedProps,d[wi]=o,(_=d.nodeValue!==u)&&(s=mr,s!==null))switch(s.tag){case 3:Yc(d.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Yc(d.nodeValue,u,(s.mode&1)!==0)}_&&(o.flags|=4)}else d=(u.nodeType===9?u:u.ownerDocument).createTextNode(d),d[wi]=o,o.stateNode=d}return Nn(o),null;case 13:if(Rt(Mt),d=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Ot&&gr!==null&&o.mode&1&&!(o.flags&128))F_(),Fa(),o.flags|=98560,_=!1;else if(_=of(o),d!==null&&d.dehydrated!==null){if(s===null){if(!_)throw Error(t(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[wi]=o}else Fa(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;Nn(o),_=!1}else Qr!==null&&(dm(Qr),Qr=null),_=!0;if(!_)return o.flags&65536?o:null}return o.flags&128?(o.lanes=u,o):(d=d!==null,d!==(s!==null&&s.memoizedState!==null)&&d&&(o.child.flags|=8192,o.mode&1&&(s===null||Mt.current&1?en===0&&(en=3):mm())),o.updateQueue!==null&&(o.flags|=4),Nn(o),null);case 4:return $a(),tm(s,o),s===null&&Xl(o.stateNode.containerInfo),Nn(o),null;case 10:return Cp(o.type._context),Nn(o),null;case 17:return Yn(o.type)&&ef(),Nn(o),null;case 19:if(Rt(Mt),_=o.memoizedState,_===null)return Nn(o),null;if(d=(o.flags&128)!==0,b=_.rendering,b===null)if(d)cu(_,!1);else{if(en!==0||s!==null&&s.flags&128)for(s=o.child;s!==null;){if(b=df(s),b!==null){for(o.flags|=128,cu(_,!1),d=b.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=u,u=o.child;u!==null;)_=u,s=d,_.flags&=14680066,b=_.alternate,b===null?(_.childLanes=0,_.lanes=s,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=b.childLanes,_.lanes=b.lanes,_.child=b.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=b.memoizedProps,_.memoizedState=b.memoizedState,_.updateQueue=b.updateQueue,_.type=b.type,s=b.dependencies,_.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return It(Mt,Mt.current&1|2),o.child}s=s.sibling}_.tail!==null&&At()>Ha&&(o.flags|=128,d=!0,cu(_,!1),o.lanes=4194304)}else{if(!d)if(s=df(b),s!==null){if(o.flags|=128,d=!0,u=s.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),cu(_,!0),_.tail===null&&_.tailMode==="hidden"&&!b.alternate&&!Ot)return Nn(o),null}else 2*At()-_.renderingStartTime>Ha&&u!==1073741824&&(o.flags|=128,d=!0,cu(_,!1),o.lanes=4194304);_.isBackwards?(b.sibling=o.child,o.child=b):(u=_.last,u!==null?u.sibling=b:o.child=b,_.last=b)}return _.tail!==null?(o=_.tail,_.rendering=o,_.tail=o.sibling,_.renderingStartTime=At(),o.sibling=null,u=Mt.current,It(Mt,d?u&1|2:u&1),o):(Nn(o),null);case 22:case 23:return pm(),d=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==d&&(o.flags|=8192),d&&o.mode&1?yr&1073741824&&(Nn(o),o.subtreeFlags&6&&(o.flags|=8192)):Nn(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function pP(s,o){switch(Sp(o),o.tag){case 1:return Yn(o.type)&&ef(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return $a(),Rt(Jn),Rt(kn),Mp(),s=o.flags,s&65536&&!(s&128)?(o.flags=s&-65537|128,o):null;case 5:return Dp(o),null;case 13:if(Rt(Mt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Fa()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return Rt(Mt),null;case 4:return $a(),null;case 10:return Cp(o.type._context),null;case 22:case 23:return pm(),null;case 24:return null;default:return null}}var Ef=!1,Dn=!1,mP=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function za(s,o){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(d){jt(s,o,d)}else u.current=null}function nm(s,o,u){try{u()}catch(d){jt(s,o,d)}}var Lw=!1;function gP(s,o){if(pp=Is,s=h_(),op(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var m=d.anchorOffset,_=d.focusNode;d=d.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var b=0,F=-1,$=-1,Z=0,de=0,me=s,ce=null;t:for(;;){for(var xe;me!==u||m!==0&&me.nodeType!==3||(F=b+m),me!==_||d!==0&&me.nodeType!==3||($=b+d),me.nodeType===3&&(b+=me.nodeValue.length),(xe=me.firstChild)!==null;)ce=me,me=xe;for(;;){if(me===s)break t;if(ce===u&&++Z===m&&(F=b),ce===_&&++de===d&&($=b),(xe=me.nextSibling)!==null)break;me=ce,ce=me.parentNode}me=xe}u=F===-1||$===-1?null:{start:F,end:$}}else u=null}u=u||{start:0,end:0}}else u=null;for(mp={focusedElem:s,selectionRange:u},Is=!1,Ce=o;Ce!==null;)if(o=Ce,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Ce=s;else for(;Ce!==null;){o=Ce;try{var Re=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Re!==null){var ke=Re.memoizedProps,qt=Re.memoizedState,K=o.stateNode,B=K.getSnapshotBeforeUpdate(o.elementType===o.type?ke:Jr(o.type,ke),qt);K.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var J=o.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ye){jt(o,o.return,ye)}if(s=o.sibling,s!==null){s.return=o.return,Ce=s;break}Ce=o.return}return Re=Lw,Lw=!1,Re}function fu(s,o,u){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&s)===s){var _=m.destroy;m.destroy=void 0,_!==void 0&&nm(o,u,_)}m=m.next}while(m!==d)}}function bf(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&s)===s){var d=u.create;u.destroy=d()}u=u.next}while(u!==o)}}function rm(s){var o=s.ref;if(o!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof o=="function"?o(s):o.current=s}}function Mw(s){var o=s.alternate;o!==null&&(s.alternate=null,Mw(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[wi],delete o[eu],delete o[_p],delete o[XI],delete o[ZI])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Fw(s){return s.tag===5||s.tag===3||s.tag===4}function Vw(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Fw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function im(s,o,u){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Xc));else if(d!==4&&(s=s.child,s!==null))for(im(s,o,u),s=s.sibling;s!==null;)im(s,o,u),s=s.sibling}function sm(s,o,u){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(d!==4&&(s=s.child,s!==null))for(sm(s,o,u),s=s.sibling;s!==null;)sm(s,o,u),s=s.sibling}var _n=null,Yr=!1;function Ms(s,o,u){for(u=u.child;u!==null;)jw(s,o,u),u=u.sibling}function jw(s,o,u){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(co,u)}catch{}switch(u.tag){case 5:Dn||za(u,o);case 6:var d=_n,m=Yr;_n=null,Ms(s,o,u),_n=d,Yr=m,_n!==null&&(Yr?(s=_n,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):_n.removeChild(u.stateNode));break;case 18:_n!==null&&(Yr?(s=_n,u=u.stateNode,s.nodeType===8?vp(s.parentNode,u):s.nodeType===1&&vp(s,u),Wr(s)):vp(_n,u.stateNode));break;case 4:d=_n,m=Yr,_n=u.stateNode.containerInfo,Yr=!0,Ms(s,o,u),_n=d,Yr=m;break;case 0:case 11:case 14:case 15:if(!Dn&&(d=u.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var _=m,b=_.destroy;_=_.tag,b!==void 0&&(_&2||_&4)&&nm(u,o,b),m=m.next}while(m!==d)}Ms(s,o,u);break;case 1:if(!Dn&&(za(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=u.memoizedProps,d.state=u.memoizedState,d.componentWillUnmount()}catch(F){jt(u,o,F)}Ms(s,o,u);break;case 21:Ms(s,o,u);break;case 22:u.mode&1?(Dn=(d=Dn)||u.memoizedState!==null,Ms(s,o,u),Dn=d):Ms(s,o,u);break;default:Ms(s,o,u)}}function Uw(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new mP),o.forEach(function(d){var m=xP.bind(null,s,d);u.has(d)||(u.add(d),d.then(m,m))})}}function Xr(s,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var m=u[d];try{var _=s,b=o,F=b;e:for(;F!==null;){switch(F.tag){case 5:_n=F.stateNode,Yr=!1;break e;case 3:_n=F.stateNode.containerInfo,Yr=!0;break e;case 4:_n=F.stateNode.containerInfo,Yr=!0;break e}F=F.return}if(_n===null)throw Error(t(160));jw(_,b,m),_n=null,Yr=!1;var $=m.alternate;$!==null&&($.return=null),m.return=null}catch(Z){jt(m,o,Z)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)$w(o,s),o=o.sibling}function $w(s,o){var u=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Xr(o,s),Si(s),d&4){try{fu(3,s,s.return),bf(3,s)}catch(ke){jt(s,s.return,ke)}try{fu(5,s,s.return)}catch(ke){jt(s,s.return,ke)}}break;case 1:Xr(o,s),Si(s),d&512&&u!==null&&za(u,u.return);break;case 5:if(Xr(o,s),Si(s),d&512&&u!==null&&za(u,u.return),s.flags&32){var m=s.stateNode;try{Be(m,"")}catch(ke){jt(s,s.return,ke)}}if(d&4&&(m=s.stateNode,m!=null)){var _=s.memoizedProps,b=u!==null?u.memoizedProps:_,F=s.type,$=s.updateQueue;if(s.updateQueue=null,$!==null)try{F==="input"&&_.type==="radio"&&_.name!=null&&Vi(m,_),Je(F,b);var Z=Je(F,_);for(b=0;b<$.length;b+=2){var de=$[b],me=$[b+1];de==="style"?Ae(m,me):de==="dangerouslySetInnerHTML"?We(m,me):de==="children"?Be(m,me):U(m,de,me,Z)}switch(F){case"input":vs(m,_);break;case"textarea":Ne(m,_);break;case"select":var ce=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!_.multiple;var xe=_.value;xe!=null?_e(m,!!_.multiple,xe,!1):ce!==!!_.multiple&&(_.defaultValue!=null?_e(m,!!_.multiple,_.defaultValue,!0):_e(m,!!_.multiple,_.multiple?[]:"",!1))}m[eu]=_}catch(ke){jt(s,s.return,ke)}}break;case 6:if(Xr(o,s),Si(s),d&4){if(s.stateNode===null)throw Error(t(162));m=s.stateNode,_=s.memoizedProps;try{m.nodeValue=_}catch(ke){jt(s,s.return,ke)}}break;case 3:if(Xr(o,s),Si(s),d&4&&u!==null&&u.memoizedState.isDehydrated)try{Wr(o.containerInfo)}catch(ke){jt(s,s.return,ke)}break;case 4:Xr(o,s),Si(s);break;case 13:Xr(o,s),Si(s),m=s.child,m.flags&8192&&(_=m.memoizedState!==null,m.stateNode.isHidden=_,!_||m.alternate!==null&&m.alternate.memoizedState!==null||(lm=At())),d&4&&Uw(s);break;case 22:if(de=u!==null&&u.memoizedState!==null,s.mode&1?(Dn=(Z=Dn)||de,Xr(o,s),Dn=Z):Xr(o,s),Si(s),d&8192){if(Z=s.memoizedState!==null,(s.stateNode.isHidden=Z)&&!de&&s.mode&1)for(Ce=s,de=s.child;de!==null;){for(me=Ce=de;Ce!==null;){switch(ce=Ce,xe=ce.child,ce.tag){case 0:case 11:case 14:case 15:fu(4,ce,ce.return);break;case 1:za(ce,ce.return);var Re=ce.stateNode;if(typeof Re.componentWillUnmount=="function"){d=ce,u=ce.return;try{o=d,Re.props=o.memoizedProps,Re.state=o.memoizedState,Re.componentWillUnmount()}catch(ke){jt(d,u,ke)}}break;case 5:za(ce,ce.return);break;case 22:if(ce.memoizedState!==null){qw(me);continue}}xe!==null?(xe.return=ce,Ce=xe):qw(me)}de=de.sibling}e:for(de=null,me=s;;){if(me.tag===5){if(de===null){de=me;try{m=me.stateNode,Z?(_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(F=me.stateNode,$=me.memoizedProps.style,b=$!=null&&$.hasOwnProperty("display")?$.display:null,F.style.display=ae("display",b))}catch(ke){jt(s,s.return,ke)}}}else if(me.tag===6){if(de===null)try{me.stateNode.nodeValue=Z?"":me.memoizedProps}catch(ke){jt(s,s.return,ke)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===s)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===s)break e;for(;me.sibling===null;){if(me.return===null||me.return===s)break e;de===me&&(de=null),me=me.return}de===me&&(de=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:Xr(o,s),Si(s),d&4&&Uw(s);break;case 21:break;default:Xr(o,s),Si(s)}}function Si(s){var o=s.flags;if(o&2){try{e:{for(var u=s.return;u!==null;){if(Fw(u)){var d=u;break e}u=u.return}throw Error(t(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(Be(m,""),d.flags&=-33);var _=Vw(s);sm(s,_,m);break;case 3:case 4:var b=d.stateNode.containerInfo,F=Vw(s);im(s,F,b);break;default:throw Error(t(161))}}catch($){jt(s,s.return,$)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function yP(s,o,u){Ce=s,Bw(s)}function Bw(s,o,u){for(var d=(s.mode&1)!==0;Ce!==null;){var m=Ce,_=m.child;if(m.tag===22&&d){var b=m.memoizedState!==null||Ef;if(!b){var F=m.alternate,$=F!==null&&F.memoizedState!==null||Dn;F=Ef;var Z=Dn;if(Ef=b,(Dn=$)&&!Z)for(Ce=m;Ce!==null;)b=Ce,$=b.child,b.tag===22&&b.memoizedState!==null?Hw(m):$!==null?($.return=b,Ce=$):Hw(m);for(;_!==null;)Ce=_,Bw(_),_=_.sibling;Ce=m,Ef=F,Dn=Z}zw(s)}else m.subtreeFlags&8772&&_!==null?(_.return=m,Ce=_):zw(s)}}function zw(s){for(;Ce!==null;){var o=Ce;if(o.flags&8772){var u=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:Dn||bf(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!Dn)if(u===null)d.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:Jr(o.type,u.memoizedProps);d.componentDidUpdate(m,u.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var _=o.updateQueue;_!==null&&q_(o,_,d);break;case 3:var b=o.updateQueue;if(b!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}q_(o,b,u)}break;case 5:var F=o.stateNode;if(u===null&&o.flags&4){u=F;var $=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&u.focus();break;case"img":$.src&&(u.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Z=o.alternate;if(Z!==null){var de=Z.memoizedState;if(de!==null){var me=de.dehydrated;me!==null&&Wr(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Dn||o.flags&512&&rm(o)}catch(ce){jt(o,o.return,ce)}}if(o===s){Ce=null;break}if(u=o.sibling,u!==null){u.return=o.return,Ce=u;break}Ce=o.return}}function qw(s){for(;Ce!==null;){var o=Ce;if(o===s){Ce=null;break}var u=o.sibling;if(u!==null){u.return=o.return,Ce=u;break}Ce=o.return}}function Hw(s){for(;Ce!==null;){var o=Ce;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{bf(4,o)}catch($){jt(o,u,$)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var m=o.return;try{d.componentDidMount()}catch($){jt(o,m,$)}}var _=o.return;try{rm(o)}catch($){jt(o,_,$)}break;case 5:var b=o.return;try{rm(o)}catch($){jt(o,b,$)}}}catch($){jt(o,o.return,$)}if(o===s){Ce=null;break}var F=o.sibling;if(F!==null){F.return=o.return,Ce=F;break}Ce=o.return}}var vP=Math.ceil,Sf=q.ReactCurrentDispatcher,om=q.ReactCurrentOwner,Nr=q.ReactCurrentBatchConfig,ct=0,cn=null,Kt=null,wn=0,yr=0,qa=ks(0),en=0,du=null,xo=0,Tf=0,am=0,hu=null,Zn=null,lm=0,Ha=1/0,Yi=null,xf=!1,um=null,Fs=null,Af=!1,Vs=null,If=0,pu=0,cm=null,Pf=-1,Cf=0;function qn(){return ct&6?At():Pf!==-1?Pf:Pf=At()}function js(s){return s.mode&1?ct&2&&wn!==0?wn&-wn:tP.transition!==null?(Cf===0&&(Cf=ho()),Cf):(s=ot,s!==0||(s=window.event,s=s===void 0?16:Bl(s.type)),s):1}function Zr(s,o,u,d){if(50<pu)throw pu=0,cm=null,Error(t(185));Ss(s,u,d),(!(ct&2)||s!==cn)&&(s===cn&&(!(ct&2)&&(Tf|=u),en===4&&Us(s,wn)),er(s,d),u===1&&ct===0&&!(o.mode&1)&&(Ha=At()+500,nf&&Ns()))}function er(s,o){var u=s.callbackNode;ji(s,o);var d=fo(s,s===cn?wn:0);if(d===0)u!==null&&Fl(u),s.callbackNode=null,s.callbackPriority=0;else if(o=d&-d,s.callbackPriority!==o){if(u!=null&&Fl(u),o===1)s.tag===0?eP(Gw.bind(null,s)):O_(Gw.bind(null,s)),JI(function(){!(ct&6)&&Ns()}),u=null;else{switch(xs(d)){case 1:u=uo;break;case 4:u=ws;break;case 16:u=Ar;break;case 536870912:u=Pc;break;default:u=Ar}u=t0(u,Ww.bind(null,s))}s.callbackPriority=o,s.callbackNode=u}}function Ww(s,o){if(Pf=-1,Cf=0,ct&6)throw Error(t(327));var u=s.callbackNode;if(Wa()&&s.callbackNode!==u)return null;var d=fo(s,s===cn?wn:0);if(d===0)return null;if(d&30||d&s.expiredLanes||o)o=Rf(s,d);else{o=d;var m=ct;ct|=2;var _=Qw();(cn!==s||wn!==o)&&(Yi=null,Ha=At()+500,Io(s,o));do try{EP();break}catch(F){Kw(s,F)}while(!0);Pp(),Sf.current=_,ct=m,Kt!==null?o=0:(cn=null,wn=0,o=en)}if(o!==0){if(o===2&&(m=dr(s),m!==0&&(d=m,o=fm(s,m))),o===1)throw u=du,Io(s,0),Us(s,d),er(s,At()),u;if(o===6)Us(s,d);else{if(m=s.current.alternate,!(d&30)&&!_P(m)&&(o=Rf(s,d),o===2&&(_=dr(s),_!==0&&(d=_,o=fm(s,_))),o===1))throw u=du,Io(s,0),Us(s,d),er(s,At()),u;switch(s.finishedWork=m,s.finishedLanes=d,o){case 0:case 1:throw Error(t(345));case 2:Po(s,Zn,Yi);break;case 3:if(Us(s,d),(d&130023424)===d&&(o=lm+500-At(),10<o)){if(fo(s,0)!==0)break;if(m=s.suspendedLanes,(m&d)!==d){qn(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=yp(Po.bind(null,s,Zn,Yi),o);break}Po(s,Zn,Yi);break;case 4:if(Us(s,d),(d&4194240)===d)break;for(o=s.eventTimes,m=-1;0<d;){var b=31-$n(d);_=1<<b,b=o[b],b>m&&(m=b),d&=~_}if(d=m,d=At()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*vP(d/1960))-d,10<d){s.timeoutHandle=yp(Po.bind(null,s,Zn,Yi),d);break}Po(s,Zn,Yi);break;case 5:Po(s,Zn,Yi);break;default:throw Error(t(329))}}}return er(s,At()),s.callbackNode===u?Ww.bind(null,s):null}function fm(s,o){var u=hu;return s.current.memoizedState.isDehydrated&&(Io(s,o).flags|=256),s=Rf(s,o),s!==2&&(o=Zn,Zn=u,o!==null&&dm(o)),s}function dm(s){Zn===null?Zn=s:Zn.push.apply(Zn,s)}function _P(s){for(var o=s;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var d=0;d<u.length;d++){var m=u[d],_=m.getSnapshot;m=m.value;try{if(!Kr(_(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Us(s,o){for(o&=~am,o&=~Tf,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var u=31-$n(o),d=1<<u;s[u]=-1,o&=~d}}function Gw(s){if(ct&6)throw Error(t(327));Wa();var o=fo(s,0);if(!(o&1))return er(s,At()),null;var u=Rf(s,o);if(s.tag!==0&&u===2){var d=dr(s);d!==0&&(o=d,u=fm(s,d))}if(u===1)throw u=du,Io(s,0),Us(s,o),er(s,At()),u;if(u===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Po(s,Zn,Yi),er(s,At()),null}function hm(s,o){var u=ct;ct|=1;try{return s(o)}finally{ct=u,ct===0&&(Ha=At()+500,nf&&Ns())}}function Ao(s){Vs!==null&&Vs.tag===0&&!(ct&6)&&Wa();var o=ct;ct|=1;var u=Nr.transition,d=ot;try{if(Nr.transition=null,ot=1,s)return s()}finally{ot=d,Nr.transition=u,ct=o,!(ct&6)&&Ns()}}function pm(){yr=qa.current,Rt(qa)}function Io(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,QI(u)),Kt!==null)for(u=Kt.return;u!==null;){var d=u;switch(Sp(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&ef();break;case 3:$a(),Rt(Jn),Rt(kn),Mp();break;case 5:Dp(d);break;case 4:$a();break;case 13:Rt(Mt);break;case 19:Rt(Mt);break;case 10:Cp(d.type._context);break;case 22:case 23:pm()}u=u.return}if(cn=s,Kt=s=$s(s.current,null),wn=yr=o,en=0,du=null,am=Tf=xo=0,Zn=hu=null,bo!==null){for(o=0;o<bo.length;o++)if(u=bo[o],d=u.interleaved,d!==null){u.interleaved=null;var m=d.next,_=u.pending;if(_!==null){var b=_.next;_.next=m,d.next=b}u.pending=d}bo=null}return s}function Kw(s,o){do{var u=Kt;try{if(Pp(),hf.current=yf,pf){for(var d=Ft.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}pf=!1}if(To=0,un=Zt=Ft=null,ou=!1,au=0,om.current=null,u===null||u.return===null){en=1,du=o,Kt=null;break}e:{var _=s,b=u.return,F=u,$=o;if(o=wn,F.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var Z=$,de=F,me=de.tag;if(!(de.mode&1)&&(me===0||me===11||me===15)){var ce=de.alternate;ce?(de.updateQueue=ce.updateQueue,de.memoizedState=ce.memoizedState,de.lanes=ce.lanes):(de.updateQueue=null,de.memoizedState=null)}var xe=_w(b);if(xe!==null){xe.flags&=-257,ww(xe,b,F,_,o),xe.mode&1&&vw(_,Z,o),o=xe,$=Z;var Re=o.updateQueue;if(Re===null){var ke=new Set;ke.add($),o.updateQueue=ke}else Re.add($);break e}else{if(!(o&1)){vw(_,Z,o),mm();break e}$=Error(t(426))}}else if(Ot&&F.mode&1){var qt=_w(b);if(qt!==null){!(qt.flags&65536)&&(qt.flags|=256),ww(qt,b,F,_,o),Ap(Ba($,F));break e}}_=$=Ba($,F),en!==4&&(en=2),hu===null?hu=[_]:hu.push(_),_=b;do{switch(_.tag){case 3:_.flags|=65536,o&=-o,_.lanes|=o;var K=gw(_,$,o);z_(_,K);break e;case 1:F=$;var B=_.type,J=_.stateNode;if(!(_.flags&128)&&(typeof B.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(Fs===null||!Fs.has(J)))){_.flags|=65536,o&=-o,_.lanes|=o;var ye=yw(_,F,o);z_(_,ye);break e}}_=_.return}while(_!==null)}Yw(u)}catch(De){o=De,Kt===u&&u!==null&&(Kt=u=u.return);continue}break}while(!0)}function Qw(){var s=Sf.current;return Sf.current=yf,s===null?yf:s}function mm(){(en===0||en===3||en===2)&&(en=4),cn===null||!(xo&268435455)&&!(Tf&268435455)||Us(cn,wn)}function Rf(s,o){var u=ct;ct|=2;var d=Qw();(cn!==s||wn!==o)&&(Yi=null,Io(s,o));do try{wP();break}catch(m){Kw(s,m)}while(!0);if(Pp(),ct=u,Sf.current=d,Kt!==null)throw Error(t(261));return cn=null,wn=0,en}function wP(){for(;Kt!==null;)Jw(Kt)}function EP(){for(;Kt!==null&&!Ac();)Jw(Kt)}function Jw(s){var o=e0(s.alternate,s,yr);s.memoizedProps=s.pendingProps,o===null?Yw(s):Kt=o,om.current=null}function Yw(s){var o=s;do{var u=o.alternate;if(s=o.return,o.flags&32768){if(u=pP(u,o),u!==null){u.flags&=32767,Kt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{en=6,Kt=null;return}}else if(u=hP(u,o,yr),u!==null){Kt=u;return}if(o=o.sibling,o!==null){Kt=o;return}Kt=o=s}while(o!==null);en===0&&(en=5)}function Po(s,o,u){var d=ot,m=Nr.transition;try{Nr.transition=null,ot=1,bP(s,o,u,d)}finally{Nr.transition=m,ot=d}return null}function bP(s,o,u,d){do Wa();while(Vs!==null);if(ct&6)throw Error(t(327));u=s.finishedWork;var m=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var _=u.lanes|u.childLanes;if(Tt(s,_),s===cn&&(Kt=cn=null,wn=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||Af||(Af=!0,t0(Ar,function(){return Wa(),null})),_=(u.flags&15990)!==0,u.subtreeFlags&15990||_){_=Nr.transition,Nr.transition=null;var b=ot;ot=1;var F=ct;ct|=4,om.current=null,gP(s,u),$w(u,s),BI(mp),Is=!!pp,mp=pp=null,s.current=u,yP(u),Xh(),ct=F,ot=b,Nr.transition=_}else s.current=u;if(Af&&(Af=!1,Vs=s,If=m),_=s.pendingLanes,_===0&&(Fs=null),Cc(u.stateNode),er(s,At()),o!==null)for(d=s.onRecoverableError,u=0;u<o.length;u++)m=o[u],d(m.value,{componentStack:m.stack,digest:m.digest});if(xf)throw xf=!1,s=um,um=null,s;return If&1&&s.tag!==0&&Wa(),_=s.pendingLanes,_&1?s===cm?pu++:(pu=0,cm=s):pu=0,Ns(),null}function Wa(){if(Vs!==null){var s=xs(If),o=Nr.transition,u=ot;try{if(Nr.transition=null,ot=16>s?16:s,Vs===null)var d=!1;else{if(s=Vs,Vs=null,If=0,ct&6)throw Error(t(331));var m=ct;for(ct|=4,Ce=s.current;Ce!==null;){var _=Ce,b=_.child;if(Ce.flags&16){var F=_.deletions;if(F!==null){for(var $=0;$<F.length;$++){var Z=F[$];for(Ce=Z;Ce!==null;){var de=Ce;switch(de.tag){case 0:case 11:case 15:fu(8,de,_)}var me=de.child;if(me!==null)me.return=de,Ce=me;else for(;Ce!==null;){de=Ce;var ce=de.sibling,xe=de.return;if(Mw(de),de===Z){Ce=null;break}if(ce!==null){ce.return=xe,Ce=ce;break}Ce=xe}}}var Re=_.alternate;if(Re!==null){var ke=Re.child;if(ke!==null){Re.child=null;do{var qt=ke.sibling;ke.sibling=null,ke=qt}while(ke!==null)}}Ce=_}}if(_.subtreeFlags&2064&&b!==null)b.return=_,Ce=b;else e:for(;Ce!==null;){if(_=Ce,_.flags&2048)switch(_.tag){case 0:case 11:case 15:fu(9,_,_.return)}var K=_.sibling;if(K!==null){K.return=_.return,Ce=K;break e}Ce=_.return}}var B=s.current;for(Ce=B;Ce!==null;){b=Ce;var J=b.child;if(b.subtreeFlags&2064&&J!==null)J.return=b,Ce=J;else e:for(b=B;Ce!==null;){if(F=Ce,F.flags&2048)try{switch(F.tag){case 0:case 11:case 15:bf(9,F)}}catch(De){jt(F,F.return,De)}if(F===b){Ce=null;break e}var ye=F.sibling;if(ye!==null){ye.return=F.return,Ce=ye;break e}Ce=F.return}}if(ct=m,Ns(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(co,s)}catch{}d=!0}return d}finally{ot=u,Nr.transition=o}}return!1}function Xw(s,o,u){o=Ba(u,o),o=gw(s,o,1),s=Ls(s,o,1),o=qn(),s!==null&&(Ss(s,1,o),er(s,o))}function jt(s,o,u){if(s.tag===3)Xw(s,s,u);else for(;o!==null;){if(o.tag===3){Xw(o,s,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Fs===null||!Fs.has(d))){s=Ba(u,s),s=yw(o,s,1),o=Ls(o,s,1),s=qn(),o!==null&&(Ss(o,1,s),er(o,s));break}}o=o.return}}function SP(s,o,u){var d=s.pingCache;d!==null&&d.delete(o),o=qn(),s.pingedLanes|=s.suspendedLanes&u,cn===s&&(wn&u)===u&&(en===4||en===3&&(wn&130023424)===wn&&500>At()-lm?Io(s,0):am|=u),er(s,o)}function Zw(s,o){o===0&&(s.mode&1?(o=ma,ma<<=1,!(ma&130023424)&&(ma=4194304)):o=1);var u=qn();s=Ki(s,o),s!==null&&(Ss(s,o,u),er(s,u))}function TP(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),Zw(s,u)}function xP(s,o){var u=0;switch(s.tag){case 13:var d=s.stateNode,m=s.memoizedState;m!==null&&(u=m.retryLane);break;case 19:d=s.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(o),Zw(s,u)}var e0;e0=function(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps||Jn.current)Xn=!0;else{if(!(s.lanes&u)&&!(o.flags&128))return Xn=!1,dP(s,o,u);Xn=!!(s.flags&131072)}else Xn=!1,Ot&&o.flags&1048576&&N_(o,sf,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;wf(s,o),s=o.pendingProps;var m=Da(o,kn.current);Ua(o,u),m=jp(null,o,d,s,m,u);var _=Up();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Yn(d)?(_=!0,tf(o)):_=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Op(o),m.updater=vf,o.stateNode=m,m._reactInternals=o,Wp(o,d,s,u),o=Jp(null,o,d,!0,_,u)):(o.tag=0,Ot&&_&&bp(o),zn(null,o,m,u),o=o.child),o;case 16:d=o.elementType;e:{switch(wf(s,o),s=o.pendingProps,m=d._init,d=m(d._payload),o.type=d,m=o.tag=IP(d),s=Jr(d,s),m){case 0:o=Qp(null,o,d,s,u);break e;case 1:o=Aw(null,o,d,s,u);break e;case 11:o=Ew(null,o,d,s,u);break e;case 14:o=bw(null,o,d,Jr(d.type,s),u);break e}throw Error(t(306,d,""))}return o;case 0:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Jr(d,m),Qp(s,o,d,m,u);case 1:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Jr(d,m),Aw(s,o,d,m,u);case 3:e:{if(Iw(o),s===null)throw Error(t(387));d=o.pendingProps,_=o.memoizedState,m=_.element,B_(s,o),ff(o,d,null,u);var b=o.memoizedState;if(d=b.element,_.isDehydrated)if(_={element:d,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){m=Ba(Error(t(423)),o),o=Pw(s,o,d,u,m);break e}else if(d!==m){m=Ba(Error(t(424)),o),o=Pw(s,o,d,u,m);break e}else for(gr=Rs(o.stateNode.containerInfo.firstChild),mr=o,Ot=!0,Qr=null,u=U_(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Fa(),d===m){o=Ji(s,o,u);break e}zn(s,o,d,u)}o=o.child}return o;case 5:return H_(o),s===null&&xp(o),d=o.type,m=o.pendingProps,_=s!==null?s.memoizedProps:null,b=m.children,gp(d,m)?b=null:_!==null&&gp(d,_)&&(o.flags|=32),xw(s,o),zn(s,o,b,u),o.child;case 6:return s===null&&xp(o),null;case 13:return Cw(s,o,u);case 4:return Np(o,o.stateNode.containerInfo),d=o.pendingProps,s===null?o.child=Va(o,null,d,u):zn(s,o,d,u),o.child;case 11:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Jr(d,m),Ew(s,o,d,m,u);case 7:return zn(s,o,o.pendingProps,u),o.child;case 8:return zn(s,o,o.pendingProps.children,u),o.child;case 12:return zn(s,o,o.pendingProps.children,u),o.child;case 10:e:{if(d=o.type._context,m=o.pendingProps,_=o.memoizedProps,b=m.value,It(lf,d._currentValue),d._currentValue=b,_!==null)if(Kr(_.value,b)){if(_.children===m.children&&!Jn.current){o=Ji(s,o,u);break e}}else for(_=o.child,_!==null&&(_.return=o);_!==null;){var F=_.dependencies;if(F!==null){b=_.child;for(var $=F.firstContext;$!==null;){if($.context===d){if(_.tag===1){$=Qi(-1,u&-u),$.tag=2;var Z=_.updateQueue;if(Z!==null){Z=Z.shared;var de=Z.pending;de===null?$.next=$:($.next=de.next,de.next=$),Z.pending=$}}_.lanes|=u,$=_.alternate,$!==null&&($.lanes|=u),Rp(_.return,u,o),F.lanes|=u;break}$=$.next}}else if(_.tag===10)b=_.type===o.type?null:_.child;else if(_.tag===18){if(b=_.return,b===null)throw Error(t(341));b.lanes|=u,F=b.alternate,F!==null&&(F.lanes|=u),Rp(b,u,o),b=_.sibling}else b=_.child;if(b!==null)b.return=_;else for(b=_;b!==null;){if(b===o){b=null;break}if(_=b.sibling,_!==null){_.return=b.return,b=_;break}b=b.return}_=b}zn(s,o,m.children,u),o=o.child}return o;case 9:return m=o.type,d=o.pendingProps.children,Ua(o,u),m=kr(m),d=d(m),o.flags|=1,zn(s,o,d,u),o.child;case 14:return d=o.type,m=Jr(d,o.pendingProps),m=Jr(d.type,m),bw(s,o,d,m,u);case 15:return Sw(s,o,o.type,o.pendingProps,u);case 17:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Jr(d,m),wf(s,o),o.tag=1,Yn(d)?(s=!0,tf(o)):s=!1,Ua(o,u),pw(o,d,m),Wp(o,d,m,u),Jp(null,o,d,!0,s,u);case 19:return kw(s,o,u);case 22:return Tw(s,o,u)}throw Error(t(156,o.tag))};function t0(s,o){return ha(s,o)}function AP(s,o,u,d){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dr(s,o,u,d){return new AP(s,o,u,d)}function gm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function IP(s){if(typeof s=="function")return gm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===M)return 11;if(s===je)return 14}return 2}function $s(s,o){var u=s.alternate;return u===null?(u=Dr(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function kf(s,o,u,d,m,_){var b=2;if(d=s,typeof s=="function")gm(s)&&(b=1);else if(typeof s=="string")b=5;else e:switch(s){case R:return Co(u.children,m,_,o);case T:b=8,m|=8;break;case I:return s=Dr(12,u,o,m|2),s.elementType=I,s.lanes=_,s;case k:return s=Dr(13,u,o,m),s.elementType=k,s.lanes=_,s;case Pe:return s=Dr(19,u,o,m),s.elementType=Pe,s.lanes=_,s;case Me:return Of(u,m,_,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case N:b=10;break e;case D:b=9;break e;case M:b=11;break e;case je:b=14;break e;case qe:b=16,d=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=Dr(b,u,o,m),o.elementType=s,o.type=d,o.lanes=_,o}function Co(s,o,u,d){return s=Dr(7,s,d,o),s.lanes=u,s}function Of(s,o,u,d){return s=Dr(22,s,d,o),s.elementType=Me,s.lanes=u,s.stateNode={isHidden:!1},s}function ym(s,o,u){return s=Dr(6,s,null,o),s.lanes=u,s}function vm(s,o,u){return o=Dr(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function PP(s,o,u,d,m){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bs(0),this.expirationTimes=bs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bs(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function _m(s,o,u,d,m,_,b,F,$){return s=new PP(s,o,u,F,$),o===1?(o=1,_===!0&&(o|=8)):o=0,_=Dr(3,null,null,o),s.current=_,_.stateNode=s,_.memoizedState={element:d,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Op(_),s}function CP(s,o,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:d==null?null:""+d,children:s,containerInfo:o,implementation:u}}function n0(s){if(!s)return Os;s=s._reactInternals;e:{if($r(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Yn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var u=s.type;if(Yn(u))return R_(s,u,o)}return o}function r0(s,o,u,d,m,_,b,F,$){return s=_m(u,d,!0,s,m,_,b,F,$),s.context=n0(null),u=s.current,d=qn(),m=js(u),_=Qi(d,m),_.callback=o??null,Ls(u,_,m),s.current.lanes=m,Ss(s,m,d),er(s,d),s}function Nf(s,o,u,d){var m=o.current,_=qn(),b=js(m);return u=n0(u),o.context===null?o.context=u:o.pendingContext=u,o=Qi(_,b),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=Ls(m,o,b),s!==null&&(Zr(s,m,b,_),cf(s,m,b)),b}function Df(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function i0(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function wm(s,o){i0(s,o),(s=s.alternate)&&i0(s,o)}function RP(){return null}var s0=typeof reportError=="function"?reportError:function(s){console.error(s)};function Em(s){this._internalRoot=s}Lf.prototype.render=Em.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));Nf(s,o,null,null)},Lf.prototype.unmount=Em.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Ao(function(){Nf(null,s,null,null)}),o[qi]=null}};function Lf(s){this._internalRoot=s}Lf.prototype.unstable_scheduleHydration=function(s){if(s){var o=Dc();s={blockedOn:null,target:s,priority:o};for(var u=0;u<gi.length&&o!==0&&o<gi[u].priority;u++);gi.splice(u,0,s),u===0&&Fc(s)}};function bm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Mf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function o0(){}function kP(s,o,u,d,m){if(m){if(typeof d=="function"){var _=d;d=function(){var Z=Df(b);_.call(Z)}}var b=r0(o,d,s,0,null,!1,!1,"",o0);return s._reactRootContainer=b,s[qi]=b.current,Xl(s.nodeType===8?s.parentNode:s),Ao(),b}for(;m=s.lastChild;)s.removeChild(m);if(typeof d=="function"){var F=d;d=function(){var Z=Df($);F.call(Z)}}var $=_m(s,0,!1,null,null,!1,!1,"",o0);return s._reactRootContainer=$,s[qi]=$.current,Xl(s.nodeType===8?s.parentNode:s),Ao(function(){Nf(o,$,u,d)}),$}function Ff(s,o,u,d,m){var _=u._reactRootContainer;if(_){var b=_;if(typeof m=="function"){var F=m;m=function(){var $=Df(b);F.call($)}}Nf(o,b,s,m)}else b=kP(u,o,s,m,d);return Df(b)}Oc=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var u=Es(o.pendingLanes);u!==0&&(Ts(o,u|1),er(o,At()),!(ct&6)&&(Ha=At()+500,Ns()))}break;case 13:Ao(function(){var d=Ki(s,1);if(d!==null){var m=qn();Zr(d,s,1,m)}}),wm(s,1)}},ga=function(s){if(s.tag===13){var o=Ki(s,134217728);if(o!==null){var u=qn();Zr(o,s,134217728,u)}wm(s,134217728)}},Nc=function(s){if(s.tag===13){var o=js(s),u=Ki(s,o);if(u!==null){var d=qn();Zr(u,s,o,d)}wm(s,o)}},Dc=function(){return ot},Lc=function(s,o){var u=ot;try{return ot=s,o()}finally{ot=u}},ft=function(s,o,u){switch(o){case"input":if(vs(s,u),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==s&&d.form===s.form){var m=Zc(d);if(!m)throw Error(t(90));Bt(d),vs(d,m)}}}break;case"textarea":Ne(s,u);break;case"select":o=u.value,o!=null&&_e(s,!!u.multiple,o,!1)}},Tr=hm,_s=Ao;var OP={usingClientEntryPoint:!1,Events:[tu,Oa,Zc,gn,cr,hm]},mu={findFiberByHostInstance:vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NP={bundleType:mu.bundleType,version:mu.version,rendererPackageName:mu.rendererPackageName,rendererConfig:mu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ml(s),s===null?null:s.stateNode},findFiberByHostInstance:mu.findFiberByHostInstance||RP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vf.isDisabled&&Vf.supportsFiber)try{co=Vf.inject(NP),fr=Vf}catch{}}return tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OP,tr.createPortal=function(s,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bm(o))throw Error(t(200));return CP(s,o,null,u)},tr.createRoot=function(s,o){if(!bm(s))throw Error(t(299));var u=!1,d="",m=s0;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=_m(s,1,!1,null,null,u,!1,d,m),s[qi]=o.current,Xl(s.nodeType===8?s.parentNode:s),new Em(o)},tr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Ml(o),s=s===null?null:s.stateNode,s},tr.flushSync=function(s){return Ao(s)},tr.hydrate=function(s,o,u){if(!Mf(o))throw Error(t(200));return Ff(null,s,o,!0,u)},tr.hydrateRoot=function(s,o,u){if(!bm(s))throw Error(t(405));var d=u!=null&&u.hydratedSources||null,m=!1,_="",b=s0;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onRecoverableError!==void 0&&(b=u.onRecoverableError)),o=r0(o,null,s,1,u??null,m,!1,_,b),s[qi]=o.current,Xl(s),d)for(s=0;s<d.length;s++)u=d[s],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new Lf(o)},tr.render=function(s,o,u){if(!Mf(o))throw Error(t(200));return Ff(null,s,o,!1,u)},tr.unmountComponentAtNode=function(s){if(!Mf(s))throw Error(t(40));return s._reactRootContainer?(Ao(function(){Ff(null,null,s,!1,function(){s._reactRootContainer=null,s[qi]=null})}),!0):!1},tr.unstable_batchedUpdates=hm,tr.unstable_renderSubtreeIntoContainer=function(s,o,u,d){if(!Mf(u))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Ff(s,o,u,!1,d)},tr.version="18.3.1-next-f1338f8080-20240426",tr}var p0;function $P(){if(p0)return xm.exports;p0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),xm.exports=UP(),xm.exports}var m0;function BP(){if(m0)return jf;m0=1;var n=$P();return jf.createRoot=n.createRoot,jf.hydrateRoot=n.hydrateRoot,jf}var zP=BP(),yu={},g0;function qP(){if(g0)return yu;g0=1,Object.defineProperty(yu,"__esModule",{value:!0}),yu.parse=l,yu.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function l(E,A){const S=new a,C=E.length;if(C<2)return S;const x=(A==null?void 0:A.decode)||g;let L=0;do{const O=E.indexOf("=",L);if(O===-1)break;const U=E.indexOf(";",L),q=U===-1?C:U;if(O>q){L=E.lastIndexOf(";",O-1)+1;continue}const W=f(E,L,O),X=h(E,O,W),R=E.slice(W,X);if(S[R]===void 0){let T=f(E,O+1,q),I=h(E,q,T);const N=x(E.slice(T,I));S[R]=N}L=q+1}while(L<C);return S}function f(E,A,S){do{const C=E.charCodeAt(A);if(C!==32&&C!==9)return A}while(++A<S);return S}function h(E,A,S){for(;A>S;){const C=E.charCodeAt(--A);if(C!==32&&C!==9)return A+1}return S}function p(E,A,S){const C=(S==null?void 0:S.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const x=C(A);if(!e.test(x))throw new TypeError(`argument val is invalid: ${A}`);let L=E+"="+x;if(!S)return L;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);L+="; Max-Age="+S.maxAge}if(S.domain){if(!t.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);L+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);L+="; Path="+S.path}if(S.expires){if(!y(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);L+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(L+="; HttpOnly"),S.secure&&(L+="; Secure"),S.partitioned&&(L+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return L}function g(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function y(E){return i.call(E)==="[object Date]"}return yu}qP();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var y0="popstate";function HP(n={}){function e(r,i){let{pathname:a,search:l,hash:f}=r.location;return Tg("",{pathname:a,search:l,hash:f},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:$u(i)}return GP(e,t,null,n)}function Dt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ci(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WP(){return Math.random().toString(36).substring(2,10)}function v0(n,e){return{usr:n.state,key:n.key,idx:e}}function Tg(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?bl(e):e,state:t,key:e&&e.key||r||WP()}}function $u({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function bl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function GP(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,f="POP",h=null,p=g();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function g(){return(l.state||{idx:null}).idx}function y(){f="POP";let x=g(),L=x==null?null:x-p;p=x,h&&h({action:f,location:C.location,delta:L})}function E(x,L){f="PUSH";let O=Tg(C.location,x,L);p=g()+1;let U=v0(O,p),q=C.createHref(O);try{l.pushState(U,"",q)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;i.location.assign(q)}a&&h&&h({action:f,location:C.location,delta:1})}function A(x,L){f="REPLACE";let O=Tg(C.location,x,L);p=g();let U=v0(O,p),q=C.createHref(O);l.replaceState(U,"",q),a&&h&&h({action:f,location:C.location,delta:0})}function S(x){let L=i.location.origin!=="null"?i.location.origin:i.location.href,O=typeof x=="string"?x:$u(x);return O=O.replace(/ $/,"%20"),Dt(L,`No window.location.(origin|href) available to create URL for href: ${O}`),new URL(O,L)}let C={get action(){return f},get location(){return n(i,l)},listen(x){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(y0,y),h=x,()=>{i.removeEventListener(y0,y),h=null}},createHref(x){return e(i,x)},createURL:S,encodeLocation(x){let L=S(x);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:E,replace:A,go(x){return l.go(x)}};return C}function uS(n,e,t="/"){return KP(n,e,t,!1)}function KP(n,e,t,r){let i=typeof e=="string"?bl(e):e,a=Zs(i.pathname||"/",t);if(a==null)return null;let l=cS(n);QP(l);let f=null;for(let h=0;f==null&&h<l.length;++h){let p=o1(a);f=i1(l[h],p,r)}return f}function cS(n,e=[],t=[],r=""){let i=(a,l,f)=>{let h={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(Dt(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let p=as([r,h.relativePath]),g=t.concat(h);a.children&&a.children.length>0&&(Dt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),cS(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:n1(p,a.index),routesMeta:g})};return n.forEach((a,l)=>{var f;if(a.path===""||!((f=a.path)!=null&&f.includes("?")))i(a,l);else for(let h of fS(a.path))i(a,l,h)}),e}function fS(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=fS(r.join("/")),f=[];return f.push(...l.map(h=>h===""?a:[a,h].join("/"))),i&&f.push(...l),f.map(h=>n.startsWith("/")&&h===""?"/":h)}function QP(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:r1(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var JP=/^:[\w-]+$/,YP=3,XP=2,ZP=1,e1=10,t1=-2,_0=n=>n==="*";function n1(n,e){let t=n.split("/"),r=t.length;return t.some(_0)&&(r+=t1),e&&(r+=XP),t.filter(i=>!_0(i)).reduce((i,a)=>i+(JP.test(a)?YP:a===""?ZP:e1),r)}function r1(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function i1(n,e,t=!1){let{routesMeta:r}=n,i={},a="/",l=[];for(let f=0;f<r.length;++f){let h=r[f],p=f===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",y=Ld({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),E=h.route;if(!y&&p&&t&&!r[r.length-1].route.index&&(y=Ld({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!y)return null;Object.assign(i,y.params),l.push({params:i,pathname:as([a,y.pathname]),pathnameBase:c1(as([a,y.pathnameBase])),route:E}),y.pathnameBase!=="/"&&(a=as([a,y.pathnameBase]))}return l}function Ld(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=s1(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:y},E)=>{if(g==="*"){let S=f[E]||"";l=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const A=f[E];return y&&!A?p[g]=void 0:p[g]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:n}}function s1(n,e=!1,t=!0){ci(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,f,h)=>(r.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function o1(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ci(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Zs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function a1(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?bl(n):n;return{pathname:t?t.startsWith("/")?t:l1(t,e):e,search:f1(r),hash:d1(i)}}function l1(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Pm(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function u1(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function by(n){let e=u1(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Sy(n,e,t,r=!1){let i;typeof n=="string"?i=bl(n):(i={...n},Dt(!i.pathname||!i.pathname.includes("?"),Pm("?","pathname","search",i)),Dt(!i.pathname||!i.pathname.includes("#"),Pm("#","pathname","hash",i)),Dt(!i.search||!i.search.includes("#"),Pm("#","search","hash",i)));let a=n===""||i.pathname==="",l=a?"/":i.pathname,f;if(l==null)f=t;else{let y=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),y-=1;i.pathname=E.join("/")}f=y>=0?e[y]:"/"}let h=a1(i,f),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}var as=n=>n.join("/").replace(/\/\/+/g,"/"),c1=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),f1=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,d1=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function h1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var dS=["POST","PUT","PATCH","DELETE"];new Set(dS);var p1=["GET",...dS];new Set(p1);var Sl=Q.createContext(null);Sl.displayName="DataRouter";var yh=Q.createContext(null);yh.displayName="DataRouterState";var hS=Q.createContext({isTransitioning:!1});hS.displayName="ViewTransition";var m1=Q.createContext(new Map);m1.displayName="Fetchers";var g1=Q.createContext(null);g1.displayName="Await";var fi=Q.createContext(null);fi.displayName="Navigation";var ic=Q.createContext(null);ic.displayName="Location";var Vr=Q.createContext({outlet:null,matches:[],isDataRoute:!1});Vr.displayName="Route";var Ty=Q.createContext(null);Ty.displayName="RouteError";function y1(n,{relative:e}={}){Dt(Tl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=Q.useContext(fi),{hash:i,pathname:a,search:l}=oc(n,{relative:e}),f=a;return t!=="/"&&(f=a==="/"?t:as([t,a])),r.createHref({pathname:f,search:l,hash:i})}function Tl(){return Q.useContext(ic)!=null}function ms(){return Dt(Tl(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(ic).location}var pS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mS(n){Q.useContext(fi).static||Q.useLayoutEffect(n)}function sc(){let{isDataRoute:n}=Q.useContext(Vr);return n?N1():v1()}function v1(){Dt(Tl(),"useNavigate() may be used only in the context of a <Router> component.");let n=Q.useContext(Sl),{basename:e,navigator:t}=Q.useContext(fi),{matches:r}=Q.useContext(Vr),{pathname:i}=ms(),a=JSON.stringify(by(r)),l=Q.useRef(!1);return mS(()=>{l.current=!0}),Q.useCallback((h,p={})=>{if(ci(l.current,pS),!l.current)return;if(typeof h=="number"){t.go(h);return}let g=Sy(h,JSON.parse(a),i,p.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:as([e,g.pathname])),(p.replace?t.replace:t.push)(g,p.state,p)},[e,t,a,i,n])}var _1=Q.createContext(null);function w1(n){let e=Q.useContext(Vr).outlet;return e&&Q.createElement(_1.Provider,{value:n},e)}function E1(){let{matches:n}=Q.useContext(Vr),e=n[n.length-1];return e?e.params:{}}function oc(n,{relative:e}={}){let{matches:t}=Q.useContext(Vr),{pathname:r}=ms(),i=JSON.stringify(by(t));return Q.useMemo(()=>Sy(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function b1(n,e){return gS(n,e)}function gS(n,e,t,r){var L;Dt(Tl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=Q.useContext(fi),{matches:a}=Q.useContext(Vr),l=a[a.length-1],f=l?l.params:{},h=l?l.pathname:"/",p=l?l.pathnameBase:"/",g=l&&l.route;{let O=g&&g.path||"";yS(h,!g||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let y=ms(),E;if(e){let O=typeof e=="string"?bl(e):e;Dt(p==="/"||((L=O.pathname)==null?void 0:L.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${O.pathname}" was given in the \`location\` prop.`),E=O}else E=y;let A=E.pathname||"/",S=A;if(p!=="/"){let O=p.replace(/^\//,"").split("/");S="/"+A.replace(/^\//,"").split("/").slice(O.length).join("/")}let C=uS(n,{pathname:S});ci(g||C!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),ci(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=I1(C&&C.map(O=>Object.assign({},O,{params:Object.assign({},f,O.params),pathname:as([p,i.encodeLocation?i.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?p:as([p,i.encodeLocation?i.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),a,t,r);return e&&x?Q.createElement(ic.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},x):x}function S1(){let n=O1(),e=h1(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=Q.createElement(Q.Fragment,null,Q.createElement("p",null,"💿 Hey developer 👋"),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:a},"ErrorBoundary")," or"," ",Q.createElement("code",{style:a},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),t?Q.createElement("pre",{style:i},t):null,l)}var T1=Q.createElement(S1,null),x1=class extends Q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?Q.createElement(Vr.Provider,{value:this.props.routeContext},Q.createElement(Ty.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function A1({routeContext:n,match:e,children:t}){let r=Q.useContext(Sl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(Vr.Provider,{value:n},t)}function I1(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,a=t==null?void 0:t.errors;if(a!=null){let h=i.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);Dt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let l=!1,f=-1;if(t)for(let h=0;h<i.length;h++){let p=i[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=h),p.route.id){let{loaderData:g,errors:y}=t,E=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||E){l=!0,f>=0?i=i.slice(0,f+1):i=[i[0]];break}}}return i.reduceRight((h,p,g)=>{let y,E=!1,A=null,S=null;t&&(y=a&&p.route.id?a[p.route.id]:void 0,A=p.route.errorElement||T1,l&&(f<0&&g===0?(yS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,S=null):f===g&&(E=!0,S=p.route.hydrateFallbackElement||null)));let C=e.concat(i.slice(0,g+1)),x=()=>{let L;return y?L=A:E?L=S:p.route.Component?L=Q.createElement(p.route.Component,null):p.route.element?L=p.route.element:L=h,Q.createElement(A1,{match:p,routeContext:{outlet:h,matches:C,isDataRoute:t!=null},children:L})};return t&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?Q.createElement(x1,{location:t.location,revalidation:t.revalidation,component:A,error:y,children:x(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):x()},null)}function xy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function P1(n){let e=Q.useContext(Sl);return Dt(e,xy(n)),e}function C1(n){let e=Q.useContext(yh);return Dt(e,xy(n)),e}function R1(n){let e=Q.useContext(Vr);return Dt(e,xy(n)),e}function Ay(n){let e=R1(n),t=e.matches[e.matches.length-1];return Dt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function k1(){return Ay("useRouteId")}function O1(){var r;let n=Q.useContext(Ty),e=C1("useRouteError"),t=Ay("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function N1(){let{router:n}=P1("useNavigate"),e=Ay("useNavigate"),t=Q.useRef(!1);return mS(()=>{t.current=!0}),Q.useCallback(async(i,a={})=>{ci(t.current,pS),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...a}))},[n,e])}var w0={};function yS(n,e,t){!e&&!w0[n]&&(w0[n]=!0,ci(!1,t))}Q.memo(D1);function D1({routes:n,future:e,state:t}){return gS(n,void 0,t,e)}function vS({to:n,replace:e,state:t,relative:r}){Dt(Tl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=Q.useContext(fi);ci(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=Q.useContext(Vr),{pathname:l}=ms(),f=sc(),h=Sy(n,by(a),l,r==="path"),p=JSON.stringify(h);return Q.useEffect(()=>{f(JSON.parse(p),{replace:e,state:t,relative:r})},[f,p,r,e,t]),null}function L1(n){return w1(n.context)}function ts(n){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function M1({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:a=!1}){Dt(!Tl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),f=Q.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof t=="string"&&(t=bl(t));let{pathname:h="/",search:p="",hash:g="",state:y=null,key:E="default"}=t,A=Q.useMemo(()=>{let S=Zs(h,l);return S==null?null:{location:{pathname:S,search:p,hash:g,state:y,key:E},navigationType:r}},[l,h,p,g,y,E,r]);return ci(A!=null,`<Router basename="${l}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:Q.createElement(fi.Provider,{value:f},Q.createElement(ic.Provider,{children:e,value:A}))}function F1({children:n,location:e}){return b1(xg(n),e)}function xg(n,e=[]){let t=[];return Q.Children.forEach(n,(r,i)=>{if(!Q.isValidElement(r))return;let a=[...e,i];if(r.type===Q.Fragment){t.push.apply(t,xg(r.props.children,a));return}Dt(r.type===ts,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=xg(r.props.children,a)),t.push(l)}),t}var cd="get",fd="application/x-www-form-urlencoded";function vh(n){return n!=null&&typeof n.tagName=="string"}function V1(n){return vh(n)&&n.tagName.toLowerCase()==="button"}function j1(n){return vh(n)&&n.tagName.toLowerCase()==="form"}function U1(n){return vh(n)&&n.tagName.toLowerCase()==="input"}function $1(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function B1(n,e){return n.button===0&&(!e||e==="_self")&&!$1(n)}var Uf=null;function z1(){if(Uf===null)try{new FormData(document.createElement("form"),0),Uf=!1}catch{Uf=!0}return Uf}var q1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cm(n){return n!=null&&!q1.has(n)?(ci(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fd}"`),null):n}function H1(n,e){let t,r,i,a,l;if(j1(n)){let f=n.getAttribute("action");r=f?Zs(f,e):null,t=n.getAttribute("method")||cd,i=Cm(n.getAttribute("enctype"))||fd,a=new FormData(n)}else if(V1(n)||U1(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||f.getAttribute("action");if(r=h?Zs(h,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||cd,i=Cm(n.getAttribute("formenctype"))||Cm(f.getAttribute("enctype"))||fd,a=new FormData(f,n),!z1()){let{name:p,type:g,value:y}=n;if(g==="image"){let E=p?`${p}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else p&&a.append(p,y)}}else{if(vh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=cd,r=null,i=fd,l=n}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:a,body:l}}function Iy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function W1(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function G1(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function K1(n,e,t){let r=await Promise.all(n.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await W1(a,t);return l.links?l.links():[]}return[]}));return X1(r.flat(1).filter(G1).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function E0(n,e,t,r,i,a){let l=(h,p)=>t[p]?h.route.id!==t[p].route.id:!0,f=(h,p)=>{var g;return t[p].pathname!==h.pathname||((g=t[p].route.path)==null?void 0:g.endsWith("*"))&&t[p].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,p)=>l(h,p)||f(h,p)):a==="data"?e.filter((h,p)=>{var y;let g=r.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(l(h,p)||f(h,p))return!0;if(h.route.shouldRevalidate){let E=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function Q1(n,e){return J1(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function J1(n){return[...new Set(n)]}function Y1(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function X1(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let a=JSON.stringify(Y1(i));return t.has(a)||(t.add(a),r.push({key:a,link:i})),r},[])}function Z1(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function eC(){let n=Q.useContext(Sl);return Iy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function tC(){let n=Q.useContext(yh);return Iy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Py=Q.createContext(void 0);Py.displayName="FrameworkContext";function _S(){let n=Q.useContext(Py);return Iy(n,"You must render this element inside a <HydratedRouter> element"),n}function nC(n,e){let t=Q.useContext(Py),[r,i]=Q.useState(!1),[a,l]=Q.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:p,onMouseLeave:g,onTouchStart:y}=e,E=Q.useRef(null);Q.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let C=L=>{L.forEach(O=>{l(O.isIntersecting)})},x=new IntersectionObserver(C,{threshold:.5});return E.current&&x.observe(E.current),()=>{x.disconnect()}}},[n]),Q.useEffect(()=>{if(r){let C=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(C)}}},[r]);let A=()=>{i(!0)},S=()=>{i(!1),l(!1)};return t?n!=="intent"?[a,E,{}]:[a,E,{onFocus:vu(f,A),onBlur:vu(h,S),onMouseEnter:vu(p,A),onMouseLeave:vu(g,S),onTouchStart:vu(y,A)}]:[!1,E,{}]}function vu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function rC({page:n,...e}){let{router:t}=eC(),r=Q.useMemo(()=>uS(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?Q.createElement(sC,{page:n,matches:r,...e}):(console.warn(`Tried to prefetch ${n} but no routes matched.`),null)}function iC(n){let{manifest:e,routeModules:t}=_S(),[r,i]=Q.useState([]);return Q.useEffect(()=>{let a=!1;return K1(n,e,t).then(l=>{a||i(l)}),()=>{a=!0}},[n,e,t]),r}function sC({page:n,matches:e,...t}){let r=ms(),{manifest:i,routeModules:a}=_S(),{loaderData:l,matches:f}=tC(),h=Q.useMemo(()=>E0(n,e,f,i,r,"data"),[n,e,f,i,r]),p=Q.useMemo(()=>E0(n,e,f,i,r,"assets"),[n,e,f,i,r]),g=Q.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let A=new Set,S=!1;if(e.forEach(x=>{var O;let L=i.routes[x.route.id];!L||!L.hasLoader||(!h.some(U=>U.route.id===x.route.id)&&x.route.id in l&&((O=a[x.route.id])!=null&&O.shouldRevalidate)||L.hasClientLoader?S=!0:A.add(x.route.id))}),A.size===0)return[];let C=Z1(n);return S&&A.size>0&&C.searchParams.set("_routes",e.filter(x=>A.has(x.route.id)).map(x=>x.route.id).join(",")),[C.pathname+C.search]},[l,r,i,h,e,n,a]),y=Q.useMemo(()=>Q1(p,i),[p,i]),E=iC(p);return Q.createElement(Q.Fragment,null,g.map(A=>Q.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),y.map(A=>Q.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),E.map(({key:A,link:S})=>Q.createElement("link",{key:A,...S})))}function oC(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var wS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wS&&(window.__reactRouterVersion="7.0.2")}catch{}function aC({basename:n,children:e,window:t}){let r=Q.useRef();r.current==null&&(r.current=HP({window:t,v5Compat:!0}));let i=r.current,[a,l]=Q.useState({action:i.action,location:i.location}),f=Q.useCallback(h=>{Q.startTransition(()=>l(h))},[l]);return Q.useLayoutEffect(()=>i.listen(f),[i,f]),Q.createElement(M1,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:i})}var ES=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_h=Q.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:f,target:h,to:p,preventScrollReset:g,viewTransition:y,...E},A){let{basename:S}=Q.useContext(fi),C=typeof p=="string"&&ES.test(p),x,L=!1;if(typeof p=="string"&&C&&(x=p,wS))try{let I=new URL(window.location.href),N=p.startsWith("//")?new URL(I.protocol+p):new URL(p),D=Zs(N.pathname,S);N.origin===I.origin&&D!=null?p=D+N.search+N.hash:L=!0}catch{ci(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=y1(p,{relative:i}),[U,q,W]=nC(r,E),X=fC(p,{replace:l,state:f,target:h,preventScrollReset:g,relative:i,viewTransition:y});function R(I){e&&e(I),I.defaultPrevented||X(I)}let T=Q.createElement("a",{...E,...W,href:x||O,onClick:L||a?e:R,ref:oC(A,q),target:h,"data-discover":!C&&t==="render"?"true":void 0});return U&&!C?Q.createElement(Q.Fragment,null,T,Q.createElement(rC,{page:O})):T});_h.displayName="Link";var lC=Q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:f,children:h,...p},g){let y=oc(l,{relative:p.relative}),E=ms(),A=Q.useContext(yh),{navigator:S,basename:C}=Q.useContext(fi),x=A!=null&&gC(y)&&f===!0,L=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,O=E.pathname,U=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;t||(O=O.toLowerCase(),U=U?U.toLowerCase():null,L=L.toLowerCase()),U&&C&&(U=Zs(U,C)||U);const q=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let W=O===L||!i&&O.startsWith(L)&&O.charAt(q)==="/",X=U!=null&&(U===L||!i&&U.startsWith(L)&&U.charAt(L.length)==="/"),R={isActive:W,isPending:X,isTransitioning:x},T=W?e:void 0,I;typeof r=="function"?I=r(R):I=[r,W?"active":null,X?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(R):a;return Q.createElement(_h,{...p,"aria-current":T,className:I,ref:g,style:N,to:l,viewTransition:f},typeof h=="function"?h(R):h)});lC.displayName="NavLink";var uC=Q.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:a,method:l=cd,action:f,onSubmit:h,relative:p,preventScrollReset:g,viewTransition:y,...E},A)=>{let S=pC(),C=mC(f,{relative:p}),x=l.toLowerCase()==="get"?"get":"post",L=typeof f=="string"&&ES.test(f),O=U=>{if(h&&h(U),U.defaultPrevented)return;U.preventDefault();let q=U.nativeEvent.submitter,W=(q==null?void 0:q.getAttribute("formmethod"))||l;S(q||U.currentTarget,{fetcherKey:e,method:W,navigate:t,replace:i,state:a,relative:p,preventScrollReset:g,viewTransition:y})};return Q.createElement("form",{ref:A,method:x,action:C,onSubmit:r?h:O,...E,"data-discover":!L&&n==="render"?"true":void 0})});uC.displayName="Form";function cC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bS(n){let e=Q.useContext(Sl);return Dt(e,cC(n)),e}function fC(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let f=sc(),h=ms(),p=oc(n,{relative:a});return Q.useCallback(g=>{if(B1(g,e)){g.preventDefault();let y=t!==void 0?t:$u(h)===$u(p);f(n,{replace:y,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[h,f,p,t,r,e,n,i,a,l])}var dC=0,hC=()=>`__${String(++dC)}__`;function pC(){let{router:n}=bS("useSubmit"),{basename:e}=Q.useContext(fi),t=k1();return Q.useCallback(async(r,i={})=>{let{action:a,method:l,encType:f,formData:h,body:p}=H1(r,e);if(i.navigate===!1){let g=i.fetcherKey||hC();await n.fetch(g,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:h,body:p,formMethod:i.method||l,formEncType:i.encType||f,flushSync:i.flushSync})}else await n.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:h,body:p,formMethod:i.method||l,formEncType:i.encType||f,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function mC(n,{relative:e}={}){let{basename:t}=Q.useContext(fi),r=Q.useContext(Vr);Dt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...oc(n||".",{relative:e})},l=ms();if(n==null){a.search=l.search;let f=new URLSearchParams(a.search),h=f.getAll("index");if(h.some(g=>g==="")){f.delete("index"),h.filter(y=>y).forEach(y=>f.append("index",y));let g=f.toString();a.search=g?`?${g}`:""}}return(!n||n===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:as([t,a.pathname])),$u(a)}function gC(n,e={}){let t=Q.useContext(hS);Dt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=bS("useViewTransitionState"),i=oc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Zs(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=Zs(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Ld(i.pathname,l)!=null||Ld(i.pathname,a)!=null}new TextEncoder;var Rm={exports:{}},km={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0;function yC(){if(b0)return km;b0=1;var n=rc();function e(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var t=typeof Object.is=="function"?Object.is:e,r=n.useSyncExternalStore,i=n.useRef,a=n.useEffect,l=n.useMemo,f=n.useDebugValue;return km.useSyncExternalStoreWithSelector=function(h,p,g,y,E){var A=i(null);if(A.current===null){var S={hasValue:!1,value:null};A.current=S}else S=A.current;A=l(function(){function x(W){if(!L){if(L=!0,O=W,W=y(W),E!==void 0&&S.hasValue){var X=S.value;if(E(X,W))return U=X}return U=W}if(X=U,t(O,W))return X;var R=y(W);return E!==void 0&&E(X,R)?(O=W,X):(O=W,U=R)}var L=!1,O,U,q=g===void 0?null:g;return[function(){return x(p())},q===null?void 0:function(){return x(q())}]},[p,g,y,E]);var C=r(h,A[0],A[1]);return a(function(){S.hasValue=!0,S.value=C},[C]),f(C),C},km}var S0;function vC(){return S0||(S0=1,Rm.exports=yC()),Rm.exports}var _C=vC();function wC(n){n()}function EC(){let n=null,e=null;return{clear(){n=null,e=null},notify(){wC(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=n;for(;r;)t.push(r),r=r.next;return t},subscribe(t){let r=!0;const i=e={callback:t,next:null,prev:e};return i.prev?i.prev.next=i:n=i,function(){!r||n===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:n=i.next)}}}}var T0={notify(){},get:()=>[]};function bC(n,e){let t,r=T0,i=0,a=!1;function l(C){g();const x=r.subscribe(C);let L=!1;return()=>{L||(L=!0,x(),y())}}function f(){r.notify()}function h(){S.onStateChange&&S.onStateChange()}function p(){return a}function g(){i++,t||(t=n.subscribe(h),r=EC())}function y(){i--,t&&i===0&&(t(),t=void 0,r.clear(),r=T0)}function E(){a||(a=!0,g())}function A(){a&&(a=!1,y())}const S={addNestedSub:l,notifyNestedSubs:f,handleChangeWrapper:h,isSubscribed:p,trySubscribe:E,tryUnsubscribe:A,getListeners:()=>r};return S}var SC=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TC=SC(),xC=()=>typeof navigator<"u"&&navigator.product==="ReactNative",AC=xC(),IC=()=>TC||AC?Q.useLayoutEffect:Q.useEffect,PC=IC(),Om=Symbol.for("react-redux-context"),Nm=typeof globalThis<"u"?globalThis:{};function CC(){if(!Q.createContext)return{};const n=Nm[Om]??(Nm[Om]=new Map);let e=n.get(Q.createContext);return e||(e=Q.createContext(null),n.set(Q.createContext,e)),e}var eo=CC();function RC(n){const{children:e,context:t,serverState:r,store:i}=n,a=Q.useMemo(()=>{const h=bC(i);return{store:i,subscription:h,getServerState:r?()=>r:void 0}},[i,r]),l=Q.useMemo(()=>i.getState(),[i]);PC(()=>{const{subscription:h}=a;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),l!==i.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[a,l]);const f=t||eo;return Q.createElement(f.Provider,{value:a},e)}var kC=RC;function Cy(n=eo){return function(){return Q.useContext(n)}}var SS=Cy();function TS(n=eo){const e=n===eo?SS:Cy(n),t=()=>{const{store:r}=e();return r};return Object.assign(t,{withTypes:()=>t}),t}var OC=TS();function NC(n=eo){const e=n===eo?OC:TS(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var xS=NC(),DC=(n,e)=>n===e;function LC(n=eo){const e=n===eo?SS:Cy(n),t=(r,i={})=>{const{equalityFn:a=DC}=typeof i=="function"?{equalityFn:i}:i,l=e(),{store:f,subscription:h,getServerState:p}=l;Q.useRef(!0);const g=Q.useCallback({[r.name](E){return r(E)}}[r.name],[r]),y=_C.useSyncExternalStoreWithSelector(h.addNestedSub,f.getState,p||f.getState,g,a);return Q.useDebugValue(y),y};return Object.assign(t,{withTypes:()=>t}),t}var Ry=LC();function bn(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var MC=typeof Symbol=="function"&&Symbol.observable||"@@observable",x0=MC,Dm=()=>Math.random().toString(36).substring(7).split("").join("."),FC={INIT:`@@redux/INIT${Dm()}`,REPLACE:`@@redux/REPLACE${Dm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Dm()}`},Md=FC;function ky(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function AS(n,e,t){if(typeof n!="function")throw new Error(bn(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(bn(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(bn(1));return t(AS)(n,e)}let r=n,i=e,a=new Map,l=a,f=0,h=!1;function p(){l===a&&(l=new Map,a.forEach((x,L)=>{l.set(L,x)}))}function g(){if(h)throw new Error(bn(3));return i}function y(x){if(typeof x!="function")throw new Error(bn(4));if(h)throw new Error(bn(5));let L=!0;p();const O=f++;return l.set(O,x),function(){if(L){if(h)throw new Error(bn(6));L=!1,p(),l.delete(O),a=null}}}function E(x){if(!ky(x))throw new Error(bn(7));if(typeof x.type>"u")throw new Error(bn(8));if(typeof x.type!="string")throw new Error(bn(17));if(h)throw new Error(bn(9));try{h=!0,i=r(i,x)}finally{h=!1}return(a=l).forEach(O=>{O()}),x}function A(x){if(typeof x!="function")throw new Error(bn(10));r=x,E({type:Md.REPLACE})}function S(){const x=y;return{subscribe(L){if(typeof L!="object"||L===null)throw new Error(bn(11));function O(){const q=L;q.next&&q.next(g())}return O(),{unsubscribe:x(O)}},[x0](){return this}}}return E({type:Md.INIT}),{dispatch:E,subscribe:y,getState:g,replaceReducer:A,[x0]:S}}function VC(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:Md.INIT})>"u")throw new Error(bn(12));if(typeof t(void 0,{type:Md.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(bn(13))})}function jC(n){const e=Object.keys(n),t={};for(let a=0;a<e.length;a++){const l=e[a];typeof n[l]=="function"&&(t[l]=n[l])}const r=Object.keys(t);let i;try{VC(t)}catch(a){i=a}return function(l={},f){if(i)throw i;let h=!1;const p={};for(let g=0;g<r.length;g++){const y=r[g],E=t[y],A=l[y],S=E(A,f);if(typeof S>"u")throw f&&f.type,new Error(bn(14));p[y]=S,h=h||S!==A}return h=h||r.length!==Object.keys(l).length,h?p:l}}function Fd(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...r)=>e(t(...r)))}function UC(...n){return e=>(t,r)=>{const i=e(t,r);let a=()=>{throw new Error(bn(15))};const l={getState:i.getState,dispatch:(h,...p)=>a(h,...p)},f=n.map(h=>h(l));return a=Fd(...f)(i.dispatch),{...i,dispatch:a}}}function $C(n){return ky(n)&&"type"in n&&typeof n.type=="string"}var IS=Symbol.for("immer-nothing"),A0=Symbol.for("immer-draftable"),Er=Symbol.for("immer-state");function ri(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var dl=Object.getPrototypeOf;function Wo(n){return!!n&&!!n[Er]}function ds(n){var e;return n?PS(n)||Array.isArray(n)||!!n[A0]||!!((e=n.constructor)!=null&&e[A0])||Eh(n)||bh(n):!1}var BC=Object.prototype.constructor.toString();function PS(n){if(!n||typeof n!="object")return!1;const e=dl(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===BC}function Vd(n,e){wh(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,r)=>e(r,t,n))}function wh(n){const e=n[Er];return e?e.type_:Array.isArray(n)?1:Eh(n)?2:bh(n)?3:0}function Ag(n,e){return wh(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function CS(n,e,t){const r=wh(n);r===2?n.set(e,t):r===3?n.add(t):n[e]=t}function zC(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function Eh(n){return n instanceof Map}function bh(n){return n instanceof Set}function Ro(n){return n.copy_||n.base_}function Ig(n,e){if(Eh(n))return new Map(n);if(bh(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=PS(n);if(e===!0||e==="class_only"&&!t){const r=Object.getOwnPropertyDescriptors(n);delete r[Er];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const l=i[a],f=r[l];f.writable===!1&&(f.writable=!0,f.configurable=!0),(f.get||f.set)&&(r[l]={configurable:!0,writable:!0,enumerable:f.enumerable,value:n[l]})}return Object.create(dl(n),r)}else{const r=dl(n);if(r!==null&&t)return{...n};const i=Object.create(r);return Object.assign(i,n)}}function Oy(n,e=!1){return Sh(n)||Wo(n)||!ds(n)||(wh(n)>1&&(n.set=n.add=n.clear=n.delete=qC),Object.freeze(n),e&&Object.entries(n).forEach(([t,r])=>Oy(r,!0))),n}function qC(){ri(2)}function Sh(n){return Object.isFrozen(n)}var HC={};function Go(n){const e=HC[n];return e||ri(0,n),e}var Bu;function RS(){return Bu}function WC(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function I0(n,e){e&&(Go("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function Pg(n){Cg(n),n.drafts_.forEach(GC),n.drafts_=null}function Cg(n){n===Bu&&(Bu=n.parent_)}function P0(n){return Bu=WC(Bu,n)}function GC(n){const e=n[Er];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function C0(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[Er].modified_&&(Pg(e),ri(4)),ds(n)&&(n=jd(e,n),e.parent_||Ud(e,n)),e.patches_&&Go("Patches").generateReplacementPatches_(t[Er].base_,n,e.patches_,e.inversePatches_)):n=jd(e,t,[]),Pg(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==IS?n:void 0}function jd(n,e,t){if(Sh(e))return e;const r=e[Er];if(!r)return Vd(e,(i,a)=>R0(n,r,e,i,a,t)),e;if(r.scope_!==n)return e;if(!r.modified_)return Ud(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,l=!1;r.type_===3&&(a=new Set(i),i.clear(),l=!0),Vd(a,(f,h)=>R0(n,r,i,f,h,t,l)),Ud(n,i,!1),t&&n.patches_&&Go("Patches").generatePatches_(r,t,n.patches_,n.inversePatches_)}return r.copy_}function R0(n,e,t,r,i,a,l){if(Wo(i)){const f=a&&e&&e.type_!==3&&!Ag(e.assigned_,r)?a.concat(r):void 0,h=jd(n,i,f);if(CS(t,r,h),Wo(h))n.canAutoFreeze_=!1;else return}else l&&t.add(i);if(ds(i)&&!Sh(i)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;jd(n,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,r)&&Ud(n,i)}}function Ud(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&Oy(e,t)}function KC(n,e){const t=Array.isArray(n),r={type_:t?1:0,scope_:e?e.scope_:RS(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=Ny;t&&(i=[r],a=zu);const{revoke:l,proxy:f}=Proxy.revocable(i,a);return r.draft_=f,r.revoke_=l,f}var Ny={get(n,e){if(e===Er)return n;const t=Ro(n);if(!Ag(t,e))return QC(n,t,e);const r=t[e];return n.finalized_||!ds(r)?r:r===Lm(n.base_,e)?(Mm(n),n.copy_[e]=kg(r,n)):r},has(n,e){return e in Ro(n)},ownKeys(n){return Reflect.ownKeys(Ro(n))},set(n,e,t){const r=kS(Ro(n),e);if(r!=null&&r.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const i=Lm(Ro(n),e),a=i==null?void 0:i[Er];if(a&&a.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(zC(t,i)&&(t!==void 0||Ag(n.base_,e)))return!0;Mm(n),Rg(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return Lm(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,Mm(n),Rg(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=Ro(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:r.enumerable,value:t[e]}},defineProperty(){ri(11)},getPrototypeOf(n){return dl(n.base_)},setPrototypeOf(){ri(12)}},zu={};Vd(Ny,(n,e)=>{zu[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});zu.deleteProperty=function(n,e){return zu.set.call(this,n,e,void 0)};zu.set=function(n,e,t){return Ny.set.call(this,n[0],e,t,n[0])};function Lm(n,e){const t=n[Er];return(t?Ro(t):n)[e]}function QC(n,e,t){var i;const r=kS(e,t);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(n.draft_):void 0}function kS(n,e){if(!(e in n))return;let t=dl(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=dl(t)}}function Rg(n){n.modified_||(n.modified_=!0,n.parent_&&Rg(n.parent_))}function Mm(n){n.copy_||(n.copy_=Ig(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var JC=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if(typeof e=="function"&&typeof t!="function"){const a=t;t=e;const l=this;return function(h=a,...p){return l.produce(h,g=>t.call(this,g,...p))}}typeof t!="function"&&ri(6),r!==void 0&&typeof r!="function"&&ri(7);let i;if(ds(e)){const a=P0(this),l=kg(e,void 0);let f=!0;try{i=t(l),f=!1}finally{f?Pg(a):Cg(a)}return I0(a,r),C0(i,a)}else if(!e||typeof e!="object"){if(i=t(e),i===void 0&&(i=e),i===IS&&(i=void 0),this.autoFreeze_&&Oy(i,!0),r){const a=[],l=[];Go("Patches").generateReplacementPatches_(e,i,a,l),r(a,l)}return i}else ri(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(l,...f)=>this.produceWithPatches(l,h=>e(h,...f));let r,i;return[this.produce(e,t,(l,f)=>{r=l,i=f}),r,i]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){ds(n)||ri(8),Wo(n)&&(n=YC(n));const e=P0(this),t=kg(n,void 0);return t[Er].isManual_=!0,Cg(e),t}finishDraft(n,e){const t=n&&n[Er];(!t||!t.isManual_)&&ri(9);const{scope_:r}=t;return I0(r,e),C0(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const i=e[t];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}t>-1&&(e=e.slice(t+1));const r=Go("Patches").applyPatches_;return Wo(n)?r(n,e):this.produce(n,i=>r(i,e))}};function kg(n,e){const t=Eh(n)?Go("MapSet").proxyMap_(n,e):bh(n)?Go("MapSet").proxySet_(n,e):KC(n,e);return(e?e.scope_:RS()).drafts_.push(t),t}function YC(n){return Wo(n)||ri(10,n),OS(n)}function OS(n){if(!ds(n)||Sh(n))return n;const e=n[Er];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=Ig(n,e.scope_.immer_.useStrictShallowCopy_)}else t=Ig(n,!0);return Vd(t,(r,i)=>{CS(t,r,OS(i))}),e&&(e.finalized_=!1),t}var br=new JC,NS=br.produce;br.produceWithPatches.bind(br);br.setAutoFreeze.bind(br);br.setUseStrictShallowCopy.bind(br);br.applyPatches.bind(br);br.createDraft.bind(br);br.finishDraft.bind(br);function DS(n){return({dispatch:t,getState:r})=>i=>a=>typeof a=="function"?a(t,r,n):i(a)}var XC=DS(),ZC=DS,eR=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Fd:Fd.apply(null,arguments)};function k0(n,e){function t(...r){if(e){let i=e(...r);if(!i)throw new Error(ls(0));return{type:n,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:n,payload:r[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=r=>$C(r)&&r.type===n,t}var LS=class Su extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Su.prototype)}static get[Symbol.species](){return Su}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Su(...e[0].concat(this)):new Su(...e.concat(this))}};function O0(n){return ds(n)?NS(n,()=>{}):n}function N0(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function tR(n){return typeof n=="boolean"}var nR=()=>function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let l=new LS;return t&&(tR(t)?l.push(XC):l.push(ZC(t.extraArgument))),l},rR="RTK_autoBatch",D0=n=>e=>{setTimeout(e,n)},iR=(n={type:"raf"})=>e=>(...t)=>{const r=e(...t);let i=!0,a=!1,l=!1;const f=new Set,h=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:D0(10):n.type==="callback"?n.queueNotification:D0(n.timeout),p=()=>{l=!1,a&&(a=!1,f.forEach(g=>g()))};return Object.assign({},r,{subscribe(g){const y=()=>i&&g(),E=r.subscribe(y);return f.add(g),()=>{E(),f.delete(g)}},dispatch(g){var y;try{return i=!((y=g==null?void 0:g.meta)!=null&&y[rR]),a=!i,a&&(l||(l=!0,h(p))),r.dispatch(g)}finally{i=!0}}})},sR=n=>function(t){const{autoBatch:r=!0}=t??{};let i=new LS(n);return r&&i.push(iR(typeof r=="object"?r:void 0)),i};function oR(n){const e=nR(),{reducer:t=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:l=void 0}=n||{};let f;if(typeof t=="function")f=t;else if(ky(t))f=jC(t);else throw new Error(ls(1));let h;typeof r=="function"?h=r(e):h=e();let p=Fd;i&&(p=eR({trace:!1,...typeof i=="object"&&i}));const g=UC(...h),y=sR(g);let E=typeof l=="function"?l(y):y();const A=p(...E);return AS(f,a,A)}function MS(n){const e={},t=[];let r;const i={addCase(a,l){const f=typeof a=="string"?a:a.type;if(!f)throw new Error(ls(28));if(f in e)throw new Error(ls(29));return e[f]=l,i},addMatcher(a,l){return t.push({matcher:a,reducer:l}),i},addDefaultCase(a){return r=a,i}};return n(i),[e,t,r]}function aR(n){return typeof n=="function"}function lR(n,e){let[t,r,i]=MS(e),a;if(aR(n))a=()=>O0(n());else{const f=O0(n);a=()=>f}function l(f=a(),h){let p=[t[h.type],...r.filter(({matcher:g})=>g(h)).map(({reducer:g})=>g)];return p.filter(g=>!!g).length===0&&(p=[i]),p.reduce((g,y)=>{if(y)if(Wo(g)){const A=y(g,h);return A===void 0?g:A}else{if(ds(g))return NS(g,E=>y(E,h));{const E=y(g,h);if(E===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return E}}return g},f)}return l.getInitialState=a,l}var uR=Symbol.for("rtk-slice-createasyncthunk");function cR(n,e){return`${n}/${e}`}function fR({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[uR];return function(i){const{name:a,reducerPath:l=a}=i;if(!a)throw new Error(ls(11));typeof process<"u";const f=(typeof i.reducers=="function"?i.reducers(hR()):i.reducers)||{},h=Object.keys(f),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(U,q){const W=typeof U=="string"?U:U.type;if(!W)throw new Error(ls(12));if(W in p.sliceCaseReducersByType)throw new Error(ls(13));return p.sliceCaseReducersByType[W]=q,g},addMatcher(U,q){return p.sliceMatchers.push({matcher:U,reducer:q}),g},exposeAction(U,q){return p.actionCreators[U]=q,g},exposeCaseReducer(U,q){return p.sliceCaseReducersByName[U]=q,g}};h.forEach(U=>{const q=f[U],W={reducerName:U,type:cR(a,U),createNotation:typeof i.reducers=="function"};mR(q)?yR(W,q,g,e):pR(W,q,g)});function y(){const[U={},q=[],W=void 0]=typeof i.extraReducers=="function"?MS(i.extraReducers):[i.extraReducers],X={...U,...p.sliceCaseReducersByType};return lR(i.initialState,R=>{for(let T in X)R.addCase(T,X[T]);for(let T of p.sliceMatchers)R.addMatcher(T.matcher,T.reducer);for(let T of q)R.addMatcher(T.matcher,T.reducer);W&&R.addDefaultCase(W)})}const E=U=>U,A=new Map;let S;function C(U,q){return S||(S=y()),S(U,q)}function x(){return S||(S=y()),S.getInitialState()}function L(U,q=!1){function W(R){let T=R[U];return typeof T>"u"&&q&&(T=x()),T}function X(R=E){const T=N0(A,q,()=>new WeakMap);return N0(T,R,()=>{const I={};for(const[N,D]of Object.entries(i.selectors??{}))I[N]=dR(D,R,x,q);return I})}return{reducerPath:U,getSelectors:X,get selectors(){return X(W)},selectSlice:W}}const O={name:a,reducer:C,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:x,...L(l),injectInto(U,{reducerPath:q,...W}={}){const X=q??l;return U.inject({reducerPath:X,reducer:C},W),{...O,...L(X,!0)}}};return O}}function dR(n,e,t,r){function i(a,...l){let f=e(a);return typeof f>"u"&&r&&(f=t()),n(f,...l)}return i.unwrapped=n,i}var FS=fR();function hR(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function pR({type:n,reducerName:e,createNotation:t},r,i){let a,l;if("reducer"in r){if(t&&!gR(r))throw new Error(ls(17));a=r.reducer,l=r.prepare}else a=r;i.addCase(n,a).exposeCaseReducer(e,a).exposeAction(e,l?k0(n,l):k0(n))}function mR(n){return n._reducerDefinitionType==="asyncThunk"}function gR(n){return n._reducerDefinitionType==="reducerWithPrepare"}function yR({type:n,reducerName:e},t,r,i){if(!i)throw new Error(ls(18));const{payloadCreator:a,fulfilled:l,pending:f,rejected:h,settled:p,options:g}=t,y=i(n,a,g);r.exposeAction(e,y),l&&r.addCase(y.fulfilled,l),f&&r.addCase(y.pending,f),h&&r.addCase(y.rejected,h),p&&r.addMatcher(y.settled,p),r.exposeCaseReducer(e,{fulfilled:l||$f,pending:f||$f,rejected:h||$f,settled:p||$f})}function $f(){}function ls(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const vR={user:null},VS=FS({name:"user",initialState:vR,reducers:{setLogInState:(n,e)=>{n.user=e.payload},setLogOutState:n=>{n.user=null}}}),{setLogInState:_R,setLogOutState:wR}=VS.actions,ER=VS.reducer,bR={selectedLanguage:"en"},jS=FS({name:"language",initialState:bR,reducers:{setLanguage(n,e){n.selectedLanguage=e.payload}}}),{setLanguage:SR}=jS.actions,TR=jS.reducer,xR=oR({reducer:{user:ER,language:TR}});var L0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},AR=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],l=n[t++],f=n[t++],h=((i&7)<<18|(a&63)<<12|(l&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},$S={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],l=i+1<n.length,f=l?n[i+1]:0,h=i+2<n.length,p=h?n[i+2]:0,g=a>>2,y=(a&3)<<4|f>>4;let E=(f&15)<<2|p>>6,A=p&63;h||(A=64,l||(E=64)),r.push(t[g],t[y],t[E],t[A])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(US(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):AR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],f=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const y=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||f==null||p==null||y==null)throw new IR;const E=a<<2|f>>4;if(r.push(E),p!==64){const A=f<<4&240|p>>2;if(r.push(A),y!==64){const S=p<<6&192|y;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class IR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PR=function(n){const e=US(n);return $S.encodeByteArray(e,!0)},$d=function(n){return PR(n).replace(/\./g,"")},BS=function(n){try{return $S.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=()=>CR().__FIREBASE_DEFAULTS__,kR=()=>{if(typeof process>"u"||typeof L0>"u")return;const n=L0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},OR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&BS(n[1]);return e&&JSON.parse(e)},Th=()=>{try{return RR()||kR()||OR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},zS=n=>{var e,t;return(t=(e=Th())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},NR=n=>{const e=zS(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},qS=()=>{var n;return(n=Th())===null||n===void 0?void 0:n.config},HS=n=>{var e;return(e=Th())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[$d(JSON.stringify(t)),$d(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Un())}function FR(){var n;const e=(n=Th())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function UR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $R(){const n=Un();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function BR(){return!FR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zR(){try{return typeof indexedDB=="object"}catch{return!1}}function qR(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="FirebaseError";class gs extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=HR,Object.setPrototypeOf(this,gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ac.prototype.create)}}class ac{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?WR(a,r):"Error",f=`${this.serviceName}: ${l} (${i}).`;return new gs(i,f,r)}}function WR(n,e){return n.replace(GR,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const GR=/\{\$([^}]+)}/g;function KR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Bd(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],l=e[i];if(M0(a)&&M0(l)){if(!Bd(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function M0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Tu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function xu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function QR(n,e){const t=new JR(n,e);return t.subscribe.bind(t)}class JR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");YR(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Fm),i.error===void 0&&(i.error=Fm),i.complete===void 0&&(i.complete=Fm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Fm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(n){return n&&n._delegate?n._delegate:n}class Ko{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new DR;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ek(e))try{this.getOrInitializeService({instanceIdentifier:ko})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=ko){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ko){return this.instances.has(e)}getOptions(e=ko){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);r===f&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ZR(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ko){return this.component?this.component.multipleInstances?e:ko:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZR(n){return n===ko?void 0:n}function ek(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new XR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(nt||(nt={}));const nk={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},rk=nt.INFO,ik={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},sk=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=ik[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dy{constructor(e){this.name=e,this._logLevel=rk,this._logHandler=sk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...e),this._logHandler(this,nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...e),this._logHandler(this,nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...e),this._logHandler(this,nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...e),this._logHandler(this,nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...e),this._logHandler(this,nt.ERROR,...e)}}const ok=(n,e)=>e.some(t=>n instanceof t);let F0,V0;function ak(){return F0||(F0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lk(){return V0||(V0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WS=new WeakMap,Og=new WeakMap,GS=new WeakMap,Vm=new WeakMap,Ly=new WeakMap;function uk(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(Qs(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&WS.set(t,n)}).catch(()=>{}),Ly.set(e,n),e}function ck(n){if(Og.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});Og.set(n,e)}let Ng={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Og.get(n);if(e==="objectStoreNames")return n.objectStoreNames||GS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Qs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function fk(n){Ng=n(Ng)}function dk(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(jm(this),e,...t);return GS.set(r,e.sort?e.sort():[e]),Qs(r)}:lk().includes(n)?function(...e){return n.apply(jm(this),e),Qs(WS.get(this))}:function(...e){return Qs(n.apply(jm(this),e))}}function hk(n){return typeof n=="function"?dk(n):(n instanceof IDBTransaction&&ck(n),ok(n,ak())?new Proxy(n,Ng):n)}function Qs(n){if(n instanceof IDBRequest)return uk(n);if(Vm.has(n))return Vm.get(n);const e=hk(n);return e!==n&&(Vm.set(n,e),Ly.set(e,n)),e}const jm=n=>Ly.get(n);function pk(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(n,e),f=Qs(l);return r&&l.addEventListener("upgradeneeded",h=>{r(Qs(l.result),h.oldVersion,h.newVersion,Qs(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),f.then(h=>{a&&h.addEventListener("close",()=>a()),i&&h.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const mk=["get","getKey","getAll","getAllKeys","count"],gk=["put","add","delete","clear"],Um=new Map;function j0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Um.get(e))return Um.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=gk.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||mk.includes(t)))return;const a=async function(l,...f){const h=this.transaction(l,i?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(f.shift())),(await Promise.all([p[t](...f),i&&h.done]))[0]};return Um.set(e,a),a}fk(n=>({...n,get:(e,t,r)=>j0(e,t)||n.get(e,t,r),has:(e,t)=>!!j0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(vk(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function vk(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dg="@firebase/app",U0="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new Dy("@firebase/app"),_k="@firebase/app-compat",wk="@firebase/analytics-compat",Ek="@firebase/analytics",bk="@firebase/app-check-compat",Sk="@firebase/app-check",Tk="@firebase/auth",xk="@firebase/auth-compat",Ak="@firebase/database",Ik="@firebase/data-connect",Pk="@firebase/database-compat",Ck="@firebase/functions",Rk="@firebase/functions-compat",kk="@firebase/installations",Ok="@firebase/installations-compat",Nk="@firebase/messaging",Dk="@firebase/messaging-compat",Lk="@firebase/performance",Mk="@firebase/performance-compat",Fk="@firebase/remote-config",Vk="@firebase/remote-config-compat",jk="@firebase/storage",Uk="@firebase/storage-compat",$k="@firebase/firestore",Bk="@firebase/vertexai",zk="@firebase/firestore-compat",qk="firebase",Hk="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg="[DEFAULT]",Wk={[Dg]:"fire-core",[_k]:"fire-core-compat",[Ek]:"fire-analytics",[wk]:"fire-analytics-compat",[Sk]:"fire-app-check",[bk]:"fire-app-check-compat",[Tk]:"fire-auth",[xk]:"fire-auth-compat",[Ak]:"fire-rtdb",[Ik]:"fire-data-connect",[Pk]:"fire-rtdb-compat",[Ck]:"fire-fn",[Rk]:"fire-fn-compat",[kk]:"fire-iid",[Ok]:"fire-iid-compat",[Nk]:"fire-fcm",[Dk]:"fire-fcm-compat",[Lk]:"fire-perf",[Mk]:"fire-perf-compat",[Fk]:"fire-rc",[Vk]:"fire-rc-compat",[jk]:"fire-gcs",[Uk]:"fire-gcs-compat",[$k]:"fire-fst",[zk]:"fire-fst-compat",[Bk]:"fire-vertex","fire-js":"fire-js",[qk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu=new Map,Gk=new Map,Mg=new Map;function $0(n,e){try{n.container.addComponent(e)}catch(t){hs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function hl(n){const e=n.name;if(Mg.has(e))return hs.debug(`There were multiple attempts to register component ${e}.`),!1;Mg.set(e,n);for(const t of qu.values())$0(t,n);for(const t of Gk.values())$0(t,n);return!0}function My(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function si(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Js=new ac("app","Firebase",Kk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ko("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Js.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=Hk;function KS(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Lg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Js.create("bad-app-name",{appName:String(i)});if(t||(t=qS()),!t)throw Js.create("no-options");const a=qu.get(i);if(a){if(Bd(t,a.options)&&Bd(r,a.config))return a;throw Js.create("duplicate-app",{appName:i})}const l=new tk(i);for(const h of Mg.values())l.addComponent(h);const f=new Qk(t,r,l);return qu.set(i,f),f}function QS(n=Lg){const e=qu.get(n);if(!e&&n===Lg&&qS())return KS();if(!e)throw Js.create("no-app",{appName:n});return e}function B0(){return Array.from(qu.values())}function Ys(n,e,t){var r;let i=(r=Wk[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const f=[`Unable to register library "${i}" with version "${e}":`];a&&f.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&f.push("and"),l&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hs.warn(f.join(" "));return}hl(new Ko(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk="firebase-heartbeat-database",Yk=1,Hu="firebase-heartbeat-store";let $m=null;function JS(){return $m||($m=pk(Jk,Yk,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Hu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Js.create("idb-open",{originalErrorMessage:n.message})})),$m}async function Xk(n){try{const t=(await JS()).transaction(Hu),r=await t.objectStore(Hu).get(YS(n));return await t.done,r}catch(e){if(e instanceof gs)hs.warn(e.message);else{const t=Js.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hs.warn(t.message)}}}async function z0(n,e){try{const r=(await JS()).transaction(Hu,"readwrite");await r.objectStore(Hu).put(e,YS(n)),await r.done}catch(t){if(t instanceof gs)hs.warn(t.message);else{const r=Js.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});hs.warn(r.message)}}}function YS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk=1024,eO=30*24*60*60*1e3;class tO{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new rO(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=q0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const f=new Date(l.date).valueOf();return Date.now()-f<=eO}),this._storage.overwrite(this._heartbeatsCache))}catch(r){hs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=q0(),{heartbeatsToSend:r,unsentEntries:i}=nO(this._heartbeatsCache.heartbeats),a=$d(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return hs.warn(t),""}}}function q0(){return new Date().toISOString().substring(0,10)}function nO(n,e=Zk){const t=[];let r=n.slice();for(const i of n){const a=t.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),H0(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),H0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class rO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zR()?qR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Xk(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return z0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return z0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function H0(n){return $d(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(n){hl(new Ko("platform-logger",e=>new yk(e),"PRIVATE")),hl(new Ko("heartbeat",e=>new tO(e),"PRIVATE")),Ys(Dg,U0,n),Ys(Dg,U0,"esm2017"),Ys("fire-js","")}iO("");function Fy(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function XS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sO=XS,ZS=new ac("auth","Firebase",XS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd=new Dy("@firebase/auth");function oO(n,...e){zd.logLevel<=nt.WARN&&zd.warn(`Auth (${xl}): ${n}`,...e)}function dd(n,...e){zd.logLevel<=nt.ERROR&&zd.error(`Auth (${xl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(n,...e){throw jy(n,...e)}function ui(n,...e){return jy(n,...e)}function Vy(n,e,t){const r=Object.assign(Object.assign({},sO()),{[e]:t});return new ac("auth","Firebase",r).create(e,{appName:n.name})}function us(n){return Vy(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function aO(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Fr(n,"argument-error"),Vy(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function jy(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return ZS.create(n,...e)}function He(n,e,...t){if(!n)throw jy(e,...t)}function is(n){const e="INTERNAL ASSERTION FAILED: "+n;throw dd(e),new Error(e)}function ps(n,e){n||is(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function lO(){return W0()==="http:"||W0()==="https:"}function W0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lO()||jR()||"connection"in navigator)?navigator.onLine:!0}function cO(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,t){this.shortDelay=e,this.longDelay=t,ps(t>e,"Short delay should be less than long delay!"),this.isMobile=MR()||UR()}get(){return uO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(n,e){ps(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=new uc(3e4,6e4);function io(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ys(n,e,t,r,i={}){return tT(n,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const f=lc(Object.assign({key:n.config.apiKey},l)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:h},a);return VR()||(p.referrerPolicy="no-referrer"),eT.fetch()(nT(n,n.config.apiHost,t,f),p)})}async function tT(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},fO),e);try{const i=new pO(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Bf(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const f=a.ok?l.errorMessage:l.error.message,[h,p]=f.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bf(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Bf(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw Bf(n,"user-disabled",l);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Vy(n,g,p);Fr(n,g)}}catch(i){if(i instanceof gs)throw i;Fr(n,"network-request-failed",{message:String(i)})}}async function cc(n,e,t,r,i={}){const a=await ys(n,e,t,r,i);return"mfaPendingCredential"in a&&Fr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function nT(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?Uy(n.config,i):`${n.config.apiScheme}://${i}`}function hO(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ui(this.auth,"network-request-failed")),dO.get())})}}function Bf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=ui(n,e,r);return i.customData._tokenResponse=t,i}function G0(n){return n!==void 0&&n.enterprise!==void 0}class mO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return hO(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function gO(n,e){return ys(n,"GET","/v2/recaptchaConfig",io(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yO(n,e){return ys(n,"POST","/v1/accounts:delete",e)}async function rT(n,e){return ys(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function vO(n,e=!1){const t=Cn(n),r=await t.getIdToken(e),i=$y(r);He(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Nu(Bm(i.auth_time)),issuedAtTime:Nu(Bm(i.iat)),expirationTime:Nu(Bm(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Bm(n){return Number(n)*1e3}function $y(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return dd("JWT malformed, contained fewer than 3 sections"),null;try{const i=BS(t);return i?JSON.parse(i):(dd("Failed to decode base64 JWT payload"),null)}catch(i){return dd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function K0(n){const e=$y(n);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof gs&&_O(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function _O({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nu(this.lastLoginAt),this.creationTime=Nu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qd(n){var e;const t=n.auth,r=await n.getIdToken(),i=await pl(n,rT(t,{idToken:r}));He(i==null?void 0:i.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?iT(a.providerUserInfo):[],f=bO(n.providerData,l),h=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(f!=null&&f.length),g=h?p:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:f,metadata:new Vg(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,y)}async function EO(n){const e=Cn(n);await qd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bO(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function iT(n){return n.map(e=>{var{providerId:t}=e,r=Fy(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SO(n,e){const t=await tT(n,{},async()=>{const r=lc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,l=nT(n,i,"/v1/token",`key=${a}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",eT.fetch()(l,{method:"POST",headers:f,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function TO(n,e){return ys(n,"POST","/v2/accounts:revokeToken",io(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):K0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){He(e.length!==0,"internal-error");const t=K0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await SO(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,l=new il;return r&&(He(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(He(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(He(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new il,this.toJSON())}_performRefresh(){return is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(n,e){He(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ss{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,a=Fy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Vg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await pl(this,this.stsTokenManager.getToken(this.auth,e));return He(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return vO(this,e)}reload(){return EO(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ss(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await qd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(si(this.auth.app))return Promise.reject(us(this.auth));const e=await this.getIdToken();return await pl(this,yO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,a,l,f,h,p,g;const y=(r=t.displayName)!==null&&r!==void 0?r:void 0,E=(i=t.email)!==null&&i!==void 0?i:void 0,A=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,S=(l=t.photoURL)!==null&&l!==void 0?l:void 0,C=(f=t.tenantId)!==null&&f!==void 0?f:void 0,x=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,L=(p=t.createdAt)!==null&&p!==void 0?p:void 0,O=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:U,emailVerified:q,isAnonymous:W,providerData:X,stsTokenManager:R}=t;He(U&&R,e,"internal-error");const T=il.fromJSON(this.name,R);He(typeof U=="string",e,"internal-error"),zs(y,e.name),zs(E,e.name),He(typeof q=="boolean",e,"internal-error"),He(typeof W=="boolean",e,"internal-error"),zs(A,e.name),zs(S,e.name),zs(C,e.name),zs(x,e.name),zs(L,e.name),zs(O,e.name);const I=new ss({uid:U,auth:e,email:E,emailVerified:q,displayName:y,isAnonymous:W,photoURL:S,phoneNumber:A,tenantId:C,stsTokenManager:T,createdAt:L,lastLoginAt:O});return X&&Array.isArray(X)&&(I.providerData=X.map(N=>Object.assign({},N))),x&&(I._redirectEventId=x),I}static async _fromIdTokenResponse(e,t,r=!1){const i=new il;i.updateFromServerResponse(t);const a=new ss({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await qd(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];He(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?iT(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),f=new il;f.updateFromIdToken(r);const h=new ss({uid:i.localId,auth:e,stsTokenManager:f,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Vg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=new Map;function os(n){ps(n instanceof Function,"Expected a class definition");let e=Q0.get(n);return e?(ps(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Q0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}sT.type="NONE";const J0=sT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(n,e,t){return`firebase:${n}:${e}:${t}`}class sl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=hd(this.userKey,i.apiKey,a),this.fullPersistenceKey=hd("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ss._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new sl(os(J0),e,r);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||os(J0);const l=hd(r,e.config.apiKey,e.name);let f=null;for(const p of t)try{const g=await p._get(l);if(g){const y=ss._fromJSON(e,g);p!==a&&(f=y),a=p;break}}catch{}const h=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new sl(a,e,r):(a=h[0],f&&await a._set(l,f.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new sl(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fT(e))return"Blackberry";if(dT(e))return"Webos";if(aT(e))return"Safari";if((e.includes("chrome/")||lT(e))&&!e.includes("edge/"))return"Chrome";if(cT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function oT(n=Un()){return/firefox\//i.test(n)}function aT(n=Un()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lT(n=Un()){return/crios\//i.test(n)}function uT(n=Un()){return/iemobile/i.test(n)}function cT(n=Un()){return/android/i.test(n)}function fT(n=Un()){return/blackberry/i.test(n)}function dT(n=Un()){return/webos/i.test(n)}function By(n=Un()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function xO(n=Un()){var e;return By(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function AO(){return $R()&&document.documentMode===10}function hT(n=Un()){return By(n)||cT(n)||dT(n)||fT(n)||/windows phone/i.test(n)||uT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(n,e=[]){let t;switch(n){case"Browser":t=Y0(Un());break;case"Worker":t=`${Y0(Un())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${xl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,f)=>{try{const h=e(a);l(h)}catch(h){f(h)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PO(n,e={}){return ys(n,"GET","/v2/passwordPolicy",io(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=6;class RO{constructor(e){var t,r,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:CO,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,a,l,f;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(f=h.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new X0(this),this.idTokenSubscription=new X0(this),this.beforeStateQueue=new IO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=os(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await sl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await rT(this,{idToken:e}),r=await ss._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(si(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===f)&&(h!=null&&h.user)&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await qd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(si(this.app))return Promise.reject(us(this));const t=e?Cn(e):null;return t&&He(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return si(this.app)?Promise.reject(us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return si(this.app)?Promise.reject(us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(os(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PO(this),t=new RO(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ac("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await TO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&os(e)||this._popupRedirectResolver;He(t,this,"argument-error"),this.redirectPersistenceManager=await sl.create(this,[os(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(f,this,"internal-error"),f.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&oO(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function so(n){return Cn(n)}class X0{constructor(e){this.auth=e,this.observer=null,this.addObserver=QR(t=>this.observer=t)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OO(n){xh=n}function mT(n){return xh.loadJS(n)}function NO(){return xh.recaptchaEnterpriseScript}function DO(){return xh.gapiScript}function LO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class MO{constructor(){this.enterprise=new FO}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class FO{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const VO="recaptcha-enterprise",gT="NO_RECAPTCHA";class jO{constructor(e){this.type=VO,this.auth=so(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,f)=>{gO(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new mO(h);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(h=>{f(h)})})}function i(a,l,f){const h=window.grecaptcha;G0(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(gT)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new MO().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(f=>{if(!t&&G0(window.grecaptcha))i(f,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=NO();h.length!==0&&(h+=f),mT(h).then(()=>{i(f,a,l)}).catch(p=>{l(p)})}}).catch(f=>{l(f)})})}}async function Z0(n,e,t,r=!1,i=!1){const a=new jO(n);let l;if(i)l=gT;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const h=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const h=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:l}):Object.assign(f,{captchaResponse:l}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function jg(n,e,t,r,i){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Z0(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Z0(n,e,t,t==="getOobCode");return r(n,f)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(n,e){const t=My(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(Bd(a,e??{}))return i;Fr(i,"already-initialized")}return t.initialize({options:e})}function $O(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(os);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function BO(n,e,t){const r=so(n);He(r._canInitEmulator,r,"emulator-config-failed"),He(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=yT(e),{host:l,port:f}=zO(e),h=f===null?"":`:${f}`;r.config.emulator={url:`${a}//${l}${h}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:f,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),qO()}function yT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function zO(n){const e=yT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:eE(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:eE(l)}}}function eE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function qO(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return is("not implemented")}_getIdTokenResponse(e){return is("not implemented")}_linkToIdToken(e,t){return is("not implemented")}_getReauthenticationResolver(e){return is("not implemented")}}async function HO(n,e){return ys(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WO(n,e){return cc(n,"POST","/v1/accounts:signInWithPassword",io(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GO(n,e){return cc(n,"POST","/v1/accounts:signInWithEmailLink",io(n,e))}async function KO(n,e){return cc(n,"POST","/v1/accounts:signInWithEmailLink",io(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu extends zy{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Wu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Wu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jg(e,t,"signInWithPassword",WO);case"emailLink":return GO(e,{email:this._email,oobCode:this._password});default:Fr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jg(e,r,"signUpPassword",HO);case"emailLink":return KO(e,{idToken:t,email:this._email,oobCode:this._password});default:Fr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ol(n,e){return cc(n,"POST","/v1/accounts:signInWithIdp",io(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO="http://localhost";class Qo extends zy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Qo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Fr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,a=Fy(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Qo(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return ol(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ol(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ol(e,t)}buildRequest(){const e={requestUri:QO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=lc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function YO(n){const e=Tu(xu(n)).link,t=e?Tu(xu(e)).deep_link_id:null,r=Tu(xu(n)).deep_link_id;return(r?Tu(xu(r)).link:null)||r||t||e||n}class qy{constructor(e){var t,r,i,a,l,f;const h=Tu(xu(e)),p=(t=h.apiKey)!==null&&t!==void 0?t:null,g=(r=h.oobCode)!==null&&r!==void 0?r:null,y=JO((i=h.mode)!==null&&i!==void 0?i:null);He(p&&g&&y,"argument-error"),this.apiKey=p,this.operation=y,this.code=g,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=h.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(f=h.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=YO(e);try{return new qy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(){this.providerId=Al.PROVIDER_ID}static credential(e,t){return Wu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=qy.parseLink(t);return He(r,"argument-error"),Wu._fromEmailAndCode(e,r.code,r.tenantId)}}Al.PROVIDER_ID="password";Al.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Al.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc extends Hy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends fc{constructor(){super("facebook.com")}static credential(e){return Qo._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hs.credential(e.oauthAccessToken)}catch{return null}}}Hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends fc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Qo._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return rs.credential(t,r)}catch{return null}}}rs.GOOGLE_SIGN_IN_METHOD="google.com";rs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends fc{constructor(){super("github.com")}static credential(e){return Qo._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ws.credential(e.oauthAccessToken)}catch{return null}}}Ws.GITHUB_SIGN_IN_METHOD="github.com";Ws.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends fc{constructor(){super("twitter.com")}static credential(e,t){return Qo._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Gs.credential(t,r)}catch{return null}}}Gs.TWITTER_SIGN_IN_METHOD="twitter.com";Gs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XO(n,e){return cc(n,"POST","/v1/accounts:signUp",io(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await ss._fromIdTokenResponse(e,r,i),l=tE(r);return new Jo({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=tE(r);return new Jo({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function tE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd extends gs{constructor(e,t,r,i){var a;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Hd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Hd(e,t,r,i)}}function vT(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Hd._fromErrorAndOperation(n,a,e,r):a})}async function ZO(n,e,t=!1){const r=await pl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Jo._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eN(n,e,t=!1){const{auth:r}=n;if(si(r.app))return Promise.reject(us(r));const i="reauthenticate";try{const a=await pl(n,vT(r,i,e,n),t);He(a.idToken,r,"internal-error");const l=$y(a.idToken);He(l,r,"internal-error");const{sub:f}=l;return He(n.uid===f,r,"user-mismatch"),Jo._forOperation(n,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Fr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _T(n,e,t=!1){if(si(n.app))return Promise.reject(us(n));const r="signIn",i=await vT(n,r,e),a=await Jo._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}async function tN(n,e){return _T(so(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wT(n){const e=so(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function nN(n,e,t){if(si(n.app))return Promise.reject(us(n));const r=so(n),l=await jg(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",XO).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&wT(n),h}),f=await Jo._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(f.user),f}function rN(n,e,t){return si(n.app)?Promise.reject(us(n)):tN(Cn(n),Al.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&wT(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iN(n,e){return ys(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sN(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Cn(n),a={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await pl(r,iN(r.auth,a));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const f=r.providerData.find(({providerId:h})=>h==="password");f&&(f.displayName=r.displayName,f.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function oN(n,e,t,r){return Cn(n).onIdTokenChanged(e,t,r)}function aN(n,e,t){return Cn(n).beforeAuthStateChanged(e,t)}function lN(n,e,t,r){return Cn(n).onAuthStateChanged(e,t,r)}function uN(n){return Cn(n).signOut()}const Wd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Wd,"1"),this.storage.removeItem(Wd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=1e3,fN=10;class bT extends ET{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,f,h)=>{this.notifyListeners(l,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);AO()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,fN):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},cN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}bT.type="LOCAL";const dN=bT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST extends ET{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ST.type="SESSION";const TT=ST;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Ah(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const f=Array.from(l).map(async p=>p(t.origin,a)),h=await hN(f);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ah.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((f,h)=>{const p=Wy("",20);i.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(y){const E=y;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),f(E.data.response);break;default:clearTimeout(g),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(){return window}function mN(n){Ni().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function gN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yN(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function vN(){return xT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="firebaseLocalStorageDb",_N=1,Gd="firebaseLocalStorage",IT="fbase_key";class dc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ih(n,e){return n.transaction([Gd],e?"readwrite":"readonly").objectStore(Gd)}function wN(){const n=indexedDB.deleteDatabase(AT);return new dc(n).toPromise()}function Ug(){const n=indexedDB.open(AT,_N);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Gd,{keyPath:IT})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Gd)?e(r):(r.close(),await wN(),e(await Ug()))})})}async function nE(n,e,t){const r=Ih(n,!0).put({[IT]:e,value:t});return new dc(r).toPromise()}async function EN(n,e){const t=Ih(n,!1).get(e),r=await new dc(t).toPromise();return r===void 0?null:r.value}function rE(n,e){const t=Ih(n,!0).delete(e);return new dc(t).toPromise()}const bN=800,SN=3;class PT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ug(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>SN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ah._getInstance(vN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await gN(),!this.activeServiceWorker)return;this.sender=new pN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ug();return await nE(e,Wd,"1"),await rE(e,Wd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>nE(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>EN(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>rE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Ih(i,!1).getAll();return new dc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PT.type="LOCAL";const TN=PT;new uc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(n,e){return e?os(e):(He(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy extends zy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ol(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ol(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ol(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function xN(n){return _T(n.auth,new Gy(n),n.bypassAuthState)}function AN(n){const{auth:e,user:t}=n;return He(t,e,"internal-error"),eN(t,new Gy(n),n.bypassAuthState)}async function IN(n){const{auth:e,user:t}=n;return He(t,e,"internal-error"),ZO(t,new Gy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:l,type:f}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xN;case"linkViaPopup":case"linkViaRedirect":return IN;case"reauthViaPopup":case"reauthViaRedirect":return AN;default:Fr(this.auth,"internal-error")}}resolve(e){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=new uc(2e3,1e4);async function CN(n,e,t){if(si(n.app))return Promise.reject(ui(n,"operation-not-supported-in-this-environment"));const r=so(n);aO(n,e,Hy);const i=CT(r,t);return new Lo(r,"signInViaPopup",e,i).executeNotNull()}class Lo extends RT{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Lo.currentPopupAction&&Lo.currentPopupAction.cancel(),Lo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){ps(this.filter.length===1,"Popup operations only handle one event");const e=Wy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Lo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PN.get())};e()}}Lo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN="pendingRedirect",pd=new Map;class kN extends RT{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=pd.get(this.auth._key());if(!e){try{const r=await ON(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}pd.set(this.auth._key(),e)}return this.bypassAuthState||pd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ON(n,e){const t=LN(e),r=DN(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function NN(n,e){pd.set(n._key(),e)}function DN(n){return os(n._redirectPersistence)}function LN(n){return hd(RN,n.config.apiKey,n.name)}async function MN(n,e,t=!1){if(si(n.app))return Promise.reject(us(n));const r=so(n),i=CT(r,e),l=await new kN(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=10*60*1e3;class VN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!kT(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ui(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FN&&this.cachedEventUids.clear(),this.cachedEventUids.has(iE(e))}saveEventToCache(e){this.cachedEventUids.add(iE(e)),this.lastProcessedEventTime=Date.now()}}function iE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function kT({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function jN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UN(n,e={}){return ys(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BN=/^https?/;async function zN(n){if(n.config.emulator)return;const{authorizedDomains:e}=await UN(n);for(const t of e)try{if(qN(t))return}catch{}Fr(n,"unauthorized-domain")}function qN(n){const e=Fg(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!BN.test(t))return!1;if($N.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=new uc(3e4,6e4);function sE(){const n=Ni().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function WN(n){return new Promise((e,t)=>{var r,i,a;function l(){sE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sE(),t(ui(n,"network-request-failed"))},timeout:HN.get()})}if(!((i=(r=Ni().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Ni().gapi)===null||a===void 0)&&a.load)l();else{const f=LO("iframefcb");return Ni()[f]=()=>{gapi.load?l():t(ui(n,"network-request-failed"))},mT(`${DO()}?onload=${f}`).catch(h=>t(h))}}).catch(e=>{throw md=null,e})}let md=null;function GN(n){return md=md||WN(n),md}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=new uc(5e3,15e3),QN="__/auth/iframe",JN="emulator/auth/iframe",YN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZN(n){const e=n.config;He(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Uy(e,JN):`https://${n.config.authDomain}/${QN}`,r={apiKey:e.apiKey,appName:n.name,v:xl},i=XN.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${lc(r).slice(1)}`}async function eD(n){const e=await GN(n),t=Ni().gapi;return He(t,n,"internal-error"),e.open({where:document.body,url:ZN(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YN,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=ui(n,"network-request-failed"),f=Ni().setTimeout(()=>{a(l)},KN.get());function h(){Ni().clearTimeout(f),i(r)}r.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nD=500,rD=600,iD="_blank",sD="http://localhost";class oE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oD(n,e,t,r=nD,i=rD){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const h=Object.assign(Object.assign({},tD),{width:r.toString(),height:i.toString(),top:a,left:l}),p=Un().toLowerCase();t&&(f=lT(p)?iD:t),oT(p)&&(e=e||sD,h.scrollbars="yes");const g=Object.entries(h).reduce((E,[A,S])=>`${E}${A}=${S},`,"");if(xO(p)&&f!=="_self")return aD(e||"",f),new oE(null);const y=window.open(e||"",f,g);He(y,n,"popup-blocked");try{y.focus()}catch{}return new oE(y)}function aD(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD="__/auth/handler",uD="emulator/auth/handler",cD=encodeURIComponent("fac");async function aE(n,e,t,r,i,a){He(n.config.authDomain,n,"auth-domain-config-required"),He(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:xl,eventId:i};if(e instanceof Hy){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",KR(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))l[g]=y}if(e instanceof fc){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const f=l;for(const g of Object.keys(f))f[g]===void 0&&delete f[g];const h=await n._getAppCheckToken(),p=h?`#${cD}=${encodeURIComponent(h)}`:"";return`${fD(n)}?${lc(f).slice(1)}${p}`}function fD({config:n}){return n.emulator?Uy(n,uD):`https://${n.authDomain}/${lD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="webStorageSupport";class dD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TT,this._completeRedirectFn=MN,this._overrideRedirectResult=NN}async _openPopup(e,t,r,i){var a;ps((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await aE(e,t,r,Fg(),i);return oD(e,l,Wy())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await aE(e,t,r,Fg(),i);return mN(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(ps(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await eD(e),r=new VN(e);return t.register("authEvent",i=>(He(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(zm,{type:zm},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[zm];l!==void 0&&t(!!l),Fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=zN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return hT()||aT()||By()}}const hD=dD;var lE="@firebase/auth",uE="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gD(n){hl(new Ko("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:f}=r.options;He(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pT(n)},p=new kO(r,i,a,h);return $O(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),hl(new Ko("auth-internal",e=>{const t=so(e.getProvider("auth").getImmediate());return(r=>new pD(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ys(lE,uE,mD(n)),Ys(lE,uE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=5*60,vD=HS("authIdTokenMaxAge")||yD;let cE=null;const _D=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>vD)return;const i=t==null?void 0:t.token;cE!==i&&(cE=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function wD(n=QS()){const e=My(n,"auth");if(e.isInitialized())return e.getImmediate();const t=UO(n,{popupRedirectResolver:hD,persistence:[TN,dN,TT]}),r=HS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=_D(a.toString());aN(t,l,()=>l(t.currentUser)),oN(t,f=>l(f))}}const i=zS("auth");return i&&BO(t,`http://${i}`),t}function ED(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}OO({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=ui("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",ED().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gD("Browser");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function bD(n,e,t,r){function i(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function f(g){try{p(r.next(g))}catch(y){l(y)}}function h(g){try{p(r.throw(g))}catch(y){l(y)}}function p(g){g.done?a(g.value):i(g.value).then(f,h)}p((r=r.apply(n,[])).next())})}function SD(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(p){return function(g){return h([p,g])}}function h(p){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return t.label++,{value:p[1],done:!1};case 5:t.label++,i=p[1],p=[0];continue;case 7:p=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){t=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){t.label=p[1];break}if(p[0]===6&&t.label<a[1]){t.label=a[1],a=p;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(p);break}a[2]&&t.ops.pop(),t.trys.pop();continue}p=e.call(n,t)}catch(g){p=[6,g],i=0}finally{r=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var tl=function(){return tl=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},tl.apply(this,arguments)},OT=function(n){return{loading:n==null,value:n}},TD=function(){return function(n,e){switch(e.type){case"error":return tl(tl({},n),{error:e.error,loading:!1,value:void 0});case"reset":return OT(e.defaultValue);case"value":return tl(tl({},n),{error:void 0,loading:!1,value:e.value});default:return n}}},xD=function(n){var e=n?n():void 0,t=Q.useReducer(TD(),OT(e)),r=t[0],i=t[1],a=Q.useCallback(function(){var h=n?n():void 0;i({type:"reset",defaultValue:h})},[n]),l=Q.useCallback(function(h){i({type:"error",error:h})},[]),f=Q.useCallback(function(h){i({type:"value",value:h})},[]);return Q.useMemo(function(){return{error:r.error,loading:r.loading,reset:a,setError:l,setValue:f,value:r.value}},[r.error,r.loading,a,l,f,r.value])},Ky=function(n,e){var t=xD(function(){return n.currentUser}),r=t.error,i=t.loading,a=t.setError,l=t.setValue,f=t.value;return Q.useEffect(function(){var h=lN(n,function(p){return bD(void 0,void 0,void 0,function(){var g;return SD(this,function(y){switch(y.label){case 0:return[3,4];case 1:return y.trys.push([1,3,,4]),[4,e.onUserChanged(p)];case 2:return y.sent(),[3,4];case 3:return g=y.sent(),a(g),[3,4];case 4:return l(p),[2]}})})},a);return function(){h()}},[n]),[f,i,r]};const AD=()=>xS();var qm={exports:{}},fE;function ID(){return fE||(fE=1,(()=>{var n={296:(i,a,l)=>{var f=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,g=/^0o[0-7]+$/i,y=parseInt,E=typeof l.g=="object"&&l.g&&l.g.Object===Object&&l.g,A=typeof self=="object"&&self&&self.Object===Object&&self,S=E||A||Function("return this")(),C=Object.prototype.toString,x=Math.max,L=Math.min,O=function(){return S.Date.now()};function U(W){var X=typeof W;return!!W&&(X=="object"||X=="function")}function q(W){if(typeof W=="number")return W;if(function(T){return typeof T=="symbol"||function(I){return!!I&&typeof I=="object"}(T)&&C.call(T)=="[object Symbol]"}(W))return NaN;if(U(W)){var X=typeof W.valueOf=="function"?W.valueOf():W;W=U(X)?X+"":X}if(typeof W!="string")return W===0?W:+W;W=W.replace(f,"");var R=p.test(W);return R||g.test(W)?y(W.slice(2),R?2:8):h.test(W)?NaN:+W}i.exports=function(W,X,R){var T,I,N,D,M,k,Pe=0,je=!1,qe=!1,Me=!0;if(typeof W!="function")throw new TypeError("Expected a function");function he(Ee){var Le=T,Ve=I;return T=I=void 0,Pe=Ee,D=W.apply(Ve,Le)}function be(Ee){var Le=Ee-k;return k===void 0||Le>=X||Le<0||qe&&Ee-Pe>=N}function fe(){var Ee=O();if(be(Ee))return H(Ee);M=setTimeout(fe,function(Le){var Ve=X-(Le-k);return qe?L(Ve,N-(Le-Pe)):Ve}(Ee))}function H(Ee){return M=void 0,Me&&T?he(Ee):(T=I=void 0,D)}function oe(){var Ee=O(),Le=be(Ee);if(T=arguments,I=this,k=Ee,Le){if(M===void 0)return function(Ve){return Pe=Ve,M=setTimeout(fe,X),je?he(Ve):D}(k);if(qe)return M=setTimeout(fe,X),he(k)}return M===void 0&&(M=setTimeout(fe,X)),D}return X=q(X)||0,U(R)&&(je=!!R.leading,N=(qe="maxWait"in R)?x(q(R.maxWait)||0,X):N,Me="trailing"in R?!!R.trailing:Me),oe.cancel=function(){M!==void 0&&clearTimeout(M),Pe=0,T=k=I=M=void 0},oe.flush=function(){return M===void 0?D:H(O())},oe}},96:(i,a,l)=>{var f="Expected a function",h=NaN,p="[object Symbol]",g=/^\s+|\s+$/g,y=/^[-+]0x[0-9a-f]+$/i,E=/^0b[01]+$/i,A=/^0o[0-7]+$/i,S=parseInt,C=typeof l.g=="object"&&l.g&&l.g.Object===Object&&l.g,x=typeof self=="object"&&self&&self.Object===Object&&self,L=C||x||Function("return this")(),O=Object.prototype.toString,U=Math.max,q=Math.min,W=function(){return L.Date.now()};function X(T){var I=typeof T;return!!T&&(I=="object"||I=="function")}function R(T){if(typeof T=="number")return T;if(function(D){return typeof D=="symbol"||function(M){return!!M&&typeof M=="object"}(D)&&O.call(D)==p}(T))return h;if(X(T)){var I=typeof T.valueOf=="function"?T.valueOf():T;T=X(I)?I+"":I}if(typeof T!="string")return T===0?T:+T;T=T.replace(g,"");var N=E.test(T);return N||A.test(T)?S(T.slice(2),N?2:8):y.test(T)?h:+T}i.exports=function(T,I,N){var D=!0,M=!0;if(typeof T!="function")throw new TypeError(f);return X(N)&&(D="leading"in N?!!N.leading:D,M="trailing"in N?!!N.trailing:M),function(k,Pe,je){var qe,Me,he,be,fe,H,oe=0,Ee=!1,Le=!1,Ve=!0;if(typeof k!="function")throw new TypeError(f);function ze(mt){var Bt=qe,xt=Me;return qe=Me=void 0,oe=mt,be=k.apply(xt,Bt)}function Ze(mt){var Bt=mt-H;return H===void 0||Bt>=Pe||Bt<0||Le&&mt-oe>=he}function Qe(){var mt=W();if(Ze(mt))return st(mt);fe=setTimeout(Qe,function(Bt){var xt=Pe-(Bt-H);return Le?q(xt,he-(Bt-oe)):xt}(mt))}function st(mt){return fe=void 0,Ve&&qe?ze(mt):(qe=Me=void 0,be)}function vt(){var mt=W(),Bt=Ze(mt);if(qe=arguments,Me=this,H=mt,Bt){if(fe===void 0)return function(xt){return oe=xt,fe=setTimeout(Qe,Pe),Ee?ze(xt):be}(H);if(Le)return fe=setTimeout(Qe,Pe),ze(H)}return fe===void 0&&(fe=setTimeout(Qe,Pe)),be}return Pe=R(Pe)||0,X(je)&&(Ee=!!je.leading,he=(Le="maxWait"in je)?U(R(je.maxWait)||0,Pe):he,Ve="trailing"in je?!!je.trailing:Ve),vt.cancel=function(){fe!==void 0&&clearTimeout(fe),oe=0,qe=H=Me=fe=void 0},vt.flush=function(){return fe===void 0?be:st(W())},vt}(T,I,{leading:D,maxWait:I,trailing:M})}},703:(i,a,l)=>{var f=l(414);function h(){}function p(){}p.resetWarningCache=h,i.exports=function(){function g(A,S,C,x,L,O){if(O!==f){var U=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw U.name="Invariant Violation",U}}function y(){return g}g.isRequired=g;var E={array:g,bigint:g,bool:g,func:g,number:g,object:g,string:g,symbol:g,any:g,arrayOf:y,element:g,elementType:g,instanceOf:y,node:g,objectOf:y,oneOf:y,oneOfType:y,shape:y,exact:y,checkPropTypes:p,resetWarningCache:h};return E.PropTypes=E,E}},697:(i,a,l)=>{i.exports=l(703)()},414:i=>{i.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},e={};function t(i){var a=e[i];if(a!==void 0)return a.exports;var l=e[i]={exports:{}};return n[i](l,l.exports,t),l.exports}t.n=i=>{var a=i&&i.__esModule?()=>i.default:()=>i;return t.d(a,{a}),a},t.d=(i,a)=>{for(var l in a)t.o(a,l)&&!t.o(i,l)&&Object.defineProperty(i,l,{enumerable:!0,get:a[l]})},t.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),t.o=(i,a)=>Object.prototype.hasOwnProperty.call(i,a),t.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var r={};(()=>{t.r(r),t.d(r,{LazyLoadComponent:()=>Bt,LazyLoadImage:()=>Ne,trackWindowScroll:()=>be});const i=rc();var a=t.n(i),l=t(697);function f(){return typeof window<"u"&&"IntersectionObserver"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}function h(ee){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},h(ee)}function p(ee,z){var se=Object.keys(ee);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(ee);z&&(ue=ue.filter(function(We){return Object.getOwnPropertyDescriptor(ee,We).enumerable})),se.push.apply(se,ue)}return se}function g(ee,z,se){return(z=E(z))in ee?Object.defineProperty(ee,z,{value:se,enumerable:!0,configurable:!0,writable:!0}):ee[z]=se,ee}function y(ee,z){for(var se=0;se<z.length;se++){var ue=z[se];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty(ee,E(ue.key),ue)}}function E(ee){var z=function(se,ue){if(h(se)!=="object"||se===null)return se;var We=se[Symbol.toPrimitive];if(We!==void 0){var Be=We.call(se,"string");if(h(Be)!=="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(se)}(ee);return h(z)==="symbol"?z:String(z)}function A(ee,z){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(se,ue){return se.__proto__=ue,se},A(ee,z)}function S(ee){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(z){return z.__proto__||Object.getPrototypeOf(z)},S(ee)}var C=function(ee){ee.forEach(function(z){z.isIntersecting&&z.target.onVisible()})},x={},L=function(ee){(function(te,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Super expression must either be null or a function");te.prototype=Object.create(ae&&ae.prototype,{constructor:{value:te,writable:!0,configurable:!0}}),Object.defineProperty(te,"prototype",{writable:!1}),ae&&A(te,ae)})(Xe,ee);var z,se,ue,We,Be=(ue=Xe,We=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var te,ae=S(ue);if(We){var Ae=S(this).constructor;te=Reflect.construct(ae,arguments,Ae)}else te=ae.apply(this,arguments);return function(Se,Te){if(Te&&(h(Te)==="object"||typeof Te=="function"))return Te;if(Te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Je){if(Je===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Je}(Se)}(this,te)});function Xe(te){var ae;if(function(Se,Te){if(!(Se instanceof Te))throw new TypeError("Cannot call a class as a function")}(this,Xe),(ae=Be.call(this,te)).supportsObserver=!te.scrollPosition&&te.useIntersectionObserver&&f(),ae.supportsObserver){var Ae=te.threshold;ae.observer=function(Se){return x[Se]=x[Se]||new IntersectionObserver(C,{rootMargin:Se+"px"}),x[Se]}(Ae)}return ae}return z=Xe,se=[{key:"componentDidMount",value:function(){this.placeholder&&this.observer&&(this.placeholder.onVisible=this.props.onVisible,this.observer.observe(this.placeholder)),this.supportsObserver||this.updateVisibility()}},{key:"componentWillUnmount",value:function(){this.observer&&this.placeholder&&this.observer.unobserve(this.placeholder)}},{key:"componentDidUpdate",value:function(){this.supportsObserver||this.updateVisibility()}},{key:"getPlaceholderBoundingBox",value:function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollPosition,ae=this.placeholder.getBoundingClientRect(),Ae=this.placeholder.style,Se=parseInt(Ae.getPropertyValue("margin-left"),10)||0,Te=parseInt(Ae.getPropertyValue("margin-top"),10)||0;return{bottom:te.y+ae.bottom+Te,left:te.x+ae.left+Se,right:te.x+ae.right+Se,top:te.y+ae.top+Te}}},{key:"isPlaceholderInViewport",value:function(){if(typeof window>"u"||!this.placeholder)return!1;var te=this.props,ae=te.scrollPosition,Ae=te.threshold,Se=this.getPlaceholderBoundingBox(ae),Te=ae.y+window.innerHeight,Je=ae.x,ht=ae.x+window.innerWidth,gt=ae.y;return gt-Ae<=Se.bottom&&Te+Ae>=Se.top&&Je-Ae<=Se.right&&ht+Ae>=Se.left}},{key:"updateVisibility",value:function(){this.isPlaceholderInViewport()&&this.props.onVisible()}},{key:"render",value:function(){var te=this,ae=this.props,Ae=ae.className,Se=ae.height,Te=ae.placeholder,Je=ae.style,ht=ae.width;if(Te&&typeof Te.type!="function")return a().cloneElement(Te,{ref:function(ft){return te.placeholder=ft}});var gt=function(ft){for(var yt=1;yt<arguments.length;yt++){var pt=arguments[yt]!=null?arguments[yt]:{};yt%2?p(Object(pt),!0).forEach(function(Lt){g(ft,Lt,pt[Lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ft,Object.getOwnPropertyDescriptors(pt)):p(Object(pt)).forEach(function(Lt){Object.defineProperty(ft,Lt,Object.getOwnPropertyDescriptor(pt,Lt))})}return ft}({display:"inline-block"},Je);return ht!==void 0&&(gt.width=ht),Se!==void 0&&(gt.height=Se),a().createElement("span",{className:Ae,ref:function(ft){return te.placeholder=ft},style:gt},Te)}}],se&&y(z.prototype,se),Object.defineProperty(z,"prototype",{writable:!1}),Xe}(a().Component);L.propTypes={onVisible:l.PropTypes.func.isRequired,className:l.PropTypes.string,height:l.PropTypes.oneOfType([l.PropTypes.number,l.PropTypes.string]),placeholder:l.PropTypes.element,threshold:l.PropTypes.number,useIntersectionObserver:l.PropTypes.bool,scrollPosition:l.PropTypes.shape({x:l.PropTypes.number.isRequired,y:l.PropTypes.number.isRequired}),width:l.PropTypes.oneOfType([l.PropTypes.number,l.PropTypes.string])},L.defaultProps={className:"",placeholder:null,threshold:100,useIntersectionObserver:!0};const O=L;var U=t(296),q=t.n(U),W=t(96),X=t.n(W),R=function(ee){var z=getComputedStyle(ee,null);return z.getPropertyValue("overflow")+z.getPropertyValue("overflow-y")+z.getPropertyValue("overflow-x")};const T=function(ee){if(!(ee instanceof HTMLElement))return window;for(var z=ee;z&&z instanceof HTMLElement;){if(/(scroll|auto)/.test(R(z)))return z;z=z.parentNode}return window};function I(ee){return I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},I(ee)}var N=["delayMethod","delayTime"];function D(){return D=Object.assign?Object.assign.bind():function(ee){for(var z=1;z<arguments.length;z++){var se=arguments[z];for(var ue in se)Object.prototype.hasOwnProperty.call(se,ue)&&(ee[ue]=se[ue])}return ee},D.apply(this,arguments)}function M(ee,z){for(var se=0;se<z.length;se++){var ue=z[se];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty(ee,(We=function(Be,Xe){if(I(Be)!=="object"||Be===null)return Be;var te=Be[Symbol.toPrimitive];if(te!==void 0){var ae=te.call(Be,"string");if(I(ae)!=="object")return ae;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Be)}(ue.key),I(We)==="symbol"?We:String(We)),ue)}var We}function k(ee,z){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(se,ue){return se.__proto__=ue,se},k(ee,z)}function Pe(ee,z){if(z&&(I(z)==="object"||typeof z=="function"))return z;if(z!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return je(ee)}function je(ee){if(ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}function qe(ee){return qe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(z){return z.__proto__||Object.getPrototypeOf(z)},qe(ee)}var Me=function(){return typeof window>"u"?0:window.scrollX||window.pageXOffset},he=function(){return typeof window>"u"?0:window.scrollY||window.pageYOffset};const be=function(ee){var z=function(se){(function(Ae,Se){if(typeof Se!="function"&&Se!==null)throw new TypeError("Super expression must either be null or a function");Ae.prototype=Object.create(Se&&Se.prototype,{constructor:{value:Ae,writable:!0,configurable:!0}}),Object.defineProperty(Ae,"prototype",{writable:!1}),Se&&k(Ae,Se)})(ae,se);var ue,We,Be,Xe,te=(Be=ae,Xe=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var Ae,Se=qe(Be);if(Xe){var Te=qe(this).constructor;Ae=Reflect.construct(Se,arguments,Te)}else Ae=Se.apply(this,arguments);return Pe(this,Ae)});function ae(Ae){var Se;if(function(Je,ht){if(!(Je instanceof ht))throw new TypeError("Cannot call a class as a function")}(this,ae),(Se=te.call(this,Ae)).useIntersectionObserver=Ae.useIntersectionObserver&&f(),Se.useIntersectionObserver)return Pe(Se);var Te=Se.onChangeScroll.bind(je(Se));return Ae.delayMethod==="debounce"?Se.delayedScroll=q()(Te,Ae.delayTime):Ae.delayMethod==="throttle"&&(Se.delayedScroll=X()(Te,Ae.delayTime)),Se.state={scrollPosition:{x:Me(),y:he()}},Se.baseComponentRef=a().createRef(),Se}return ue=ae,(We=[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){typeof window>"u"||this.useIntersectionObserver||T(this.baseComponentRef.current)!==this.scrollElement&&(this.removeListeners(),this.addListeners())}},{key:"addListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement=T(this.baseComponentRef.current),this.scrollElement.addEventListener("scroll",this.delayedScroll,{passive:!0}),window.addEventListener("resize",this.delayedScroll,{passive:!0}),this.scrollElement!==window&&window.addEventListener("scroll",this.delayedScroll,{passive:!0}))}},{key:"removeListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement.removeEventListener("scroll",this.delayedScroll),window.removeEventListener("resize",this.delayedScroll),this.scrollElement!==window&&window.removeEventListener("scroll",this.delayedScroll))}},{key:"onChangeScroll",value:function(){this.useIntersectionObserver||this.setState({scrollPosition:{x:Me(),y:he()}})}},{key:"render",value:function(){var Ae=this.props,Se=(Ae.delayMethod,Ae.delayTime,function(Je,ht){if(Je==null)return{};var gt,ft,yt=function(Lt,gn){if(Lt==null)return{};var cr,Tr,_s={},xr=Object.keys(Lt);for(Tr=0;Tr<xr.length;Tr++)cr=xr[Tr],gn.indexOf(cr)>=0||(_s[cr]=Lt[cr]);return _s}(Je,ht);if(Object.getOwnPropertySymbols){var pt=Object.getOwnPropertySymbols(Je);for(ft=0;ft<pt.length;ft++)gt=pt[ft],ht.indexOf(gt)>=0||Object.prototype.propertyIsEnumerable.call(Je,gt)&&(yt[gt]=Je[gt])}return yt}(Ae,N)),Te=this.useIntersectionObserver?null:this.state.scrollPosition;return a().createElement(ee,D({forwardRef:this.baseComponentRef,scrollPosition:Te},Se))}}])&&M(ue.prototype,We),Object.defineProperty(ue,"prototype",{writable:!1}),ae}(a().Component);return z.propTypes={delayMethod:l.PropTypes.oneOf(["debounce","throttle"]),delayTime:l.PropTypes.number,useIntersectionObserver:l.PropTypes.bool},z.defaultProps={delayMethod:"throttle",delayTime:300,useIntersectionObserver:!0},z};function fe(ee){return fe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},fe(ee)}function H(ee,z){for(var se=0;se<z.length;se++){var ue=z[se];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty(ee,(We=function(Be,Xe){if(fe(Be)!=="object"||Be===null)return Be;var te=Be[Symbol.toPrimitive];if(te!==void 0){var ae=te.call(Be,"string");if(fe(ae)!=="object")return ae;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Be)}(ue.key),fe(We)==="symbol"?We:String(We)),ue)}var We}function oe(ee,z){return oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(se,ue){return se.__proto__=ue,se},oe(ee,z)}function Ee(ee){return Ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(z){return z.__proto__||Object.getPrototypeOf(z)},Ee(ee)}var Le=function(ee){(function(te,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Super expression must either be null or a function");te.prototype=Object.create(ae&&ae.prototype,{constructor:{value:te,writable:!0,configurable:!0}}),Object.defineProperty(te,"prototype",{writable:!1}),ae&&oe(te,ae)})(Xe,ee);var z,se,ue,We,Be=(ue=Xe,We=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var te,ae=Ee(ue);if(We){var Ae=Ee(this).constructor;te=Reflect.construct(ae,arguments,Ae)}else te=ae.apply(this,arguments);return function(Se,Te){if(Te&&(fe(Te)==="object"||typeof Te=="function"))return Te;if(Te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Je){if(Je===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Je}(Se)}(this,te)});function Xe(te){return function(ae,Ae){if(!(ae instanceof Ae))throw new TypeError("Cannot call a class as a function")}(this,Xe),Be.call(this,te)}return z=Xe,(se=[{key:"render",value:function(){return a().createElement(O,this.props)}}])&&H(z.prototype,se),Object.defineProperty(z,"prototype",{writable:!1}),Xe}(a().Component);const Ve=be(Le);function ze(ee){return ze=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},ze(ee)}function Ze(ee,z){for(var se=0;se<z.length;se++){var ue=z[se];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty(ee,(We=function(Be,Xe){if(ze(Be)!=="object"||Be===null)return Be;var te=Be[Symbol.toPrimitive];if(te!==void 0){var ae=te.call(Be,"string");if(ze(ae)!=="object")return ae;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Be)}(ue.key),ze(We)==="symbol"?We:String(We)),ue)}var We}function Qe(ee,z){return Qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(se,ue){return se.__proto__=ue,se},Qe(ee,z)}function st(ee){if(ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}function vt(ee){return vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(z){return z.__proto__||Object.getPrototypeOf(z)},vt(ee)}var mt=function(ee){(function(te,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Super expression must either be null or a function");te.prototype=Object.create(ae&&ae.prototype,{constructor:{value:te,writable:!0,configurable:!0}}),Object.defineProperty(te,"prototype",{writable:!1}),ae&&Qe(te,ae)})(Xe,ee);var z,se,ue,We,Be=(ue=Xe,We=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var te,ae=vt(ue);if(We){var Ae=vt(this).constructor;te=Reflect.construct(ae,arguments,Ae)}else te=ae.apply(this,arguments);return function(Se,Te){if(Te&&(ze(Te)==="object"||typeof Te=="function"))return Te;if(Te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return st(Se)}(this,te)});function Xe(te){var ae;(function(ht,gt){if(!(ht instanceof gt))throw new TypeError("Cannot call a class as a function")})(this,Xe),ae=Be.call(this,te);var Ae=te.afterLoad,Se=te.beforeLoad,Te=te.scrollPosition,Je=te.visibleByDefault;return ae.state={visible:Je},Je&&(Se(),Ae()),ae.onVisible=ae.onVisible.bind(st(ae)),ae.isScrollTracked=!!(Te&&Number.isFinite(Te.x)&&Te.x>=0&&Number.isFinite(Te.y)&&Te.y>=0),ae}return z=Xe,(se=[{key:"componentDidUpdate",value:function(te,ae){ae.visible!==this.state.visible&&this.props.afterLoad()}},{key:"onVisible",value:function(){this.props.beforeLoad(),this.setState({visible:!0})}},{key:"render",value:function(){if(this.state.visible)return this.props.children;var te=this.props,ae=te.className,Ae=te.delayMethod,Se=te.delayTime,Te=te.height,Je=te.placeholder,ht=te.scrollPosition,gt=te.style,ft=te.threshold,yt=te.useIntersectionObserver,pt=te.width;return this.isScrollTracked||yt&&f()?a().createElement(O,{className:ae,height:Te,onVisible:this.onVisible,placeholder:Je,scrollPosition:ht,style:gt,threshold:ft,useIntersectionObserver:yt,width:pt}):a().createElement(Ve,{className:ae,delayMethod:Ae,delayTime:Se,height:Te,onVisible:this.onVisible,placeholder:Je,style:gt,threshold:ft,width:pt})}}])&&Ze(z.prototype,se),Object.defineProperty(z,"prototype",{writable:!1}),Xe}(a().Component);mt.propTypes={afterLoad:l.PropTypes.func,beforeLoad:l.PropTypes.func,useIntersectionObserver:l.PropTypes.bool,visibleByDefault:l.PropTypes.bool},mt.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},useIntersectionObserver:!0,visibleByDefault:!1};const Bt=mt;function xt(ee){return xt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},xt(ee)}var Sr=["afterLoad","beforeLoad","delayMethod","delayTime","effect","placeholder","placeholderSrc","scrollPosition","threshold","useIntersectionObserver","visibleByDefault","wrapperClassName","wrapperProps"];function pi(ee,z){var se=Object.keys(ee);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(ee);z&&(ue=ue.filter(function(We){return Object.getOwnPropertyDescriptor(ee,We).enumerable})),se.push.apply(se,ue)}return se}function Vi(ee){for(var z=1;z<arguments.length;z++){var se=arguments[z]!=null?arguments[z]:{};z%2?pi(Object(se),!0).forEach(function(ue){vs(ee,ue,se[ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(se)):pi(Object(se)).forEach(function(ue){Object.defineProperty(ee,ue,Object.getOwnPropertyDescriptor(se,ue))})}return ee}function vs(ee,z,se){return(z=re(z))in ee?Object.defineProperty(ee,z,{value:se,enumerable:!0,configurable:!0,writable:!0}):ee[z]=se,ee}function j(){return j=Object.assign?Object.assign.bind():function(ee){for(var z=1;z<arguments.length;z++){var se=arguments[z];for(var ue in se)Object.prototype.hasOwnProperty.call(se,ue)&&(ee[ue]=se[ue])}return ee},j.apply(this,arguments)}function Y(ee,z){for(var se=0;se<z.length;se++){var ue=z[se];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty(ee,re(ue.key),ue)}}function re(ee){var z=function(se,ue){if(xt(se)!=="object"||se===null)return se;var We=se[Symbol.toPrimitive];if(We!==void 0){var Be=We.call(se,"string");if(xt(Be)!=="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(se)}(ee);return xt(z)==="symbol"?z:String(z)}function _e(ee,z){return _e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(se,ue){return se.__proto__=ue,se},_e(ee,z)}function ge(ee){return ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(z){return z.__proto__||Object.getPrototypeOf(z)},ge(ee)}var pe=function(ee){(function(te,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Super expression must either be null or a function");te.prototype=Object.create(ae&&ae.prototype,{constructor:{value:te,writable:!0,configurable:!0}}),Object.defineProperty(te,"prototype",{writable:!1}),ae&&_e(te,ae)})(Xe,ee);var z,se,ue,We,Be=(ue=Xe,We=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var te,ae=ge(ue);if(We){var Ae=ge(this).constructor;te=Reflect.construct(ae,arguments,Ae)}else te=ae.apply(this,arguments);return function(Se,Te){if(Te&&(xt(Te)==="object"||typeof Te=="function"))return Te;if(Te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Je){if(Je===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Je}(Se)}(this,te)});function Xe(te){var ae;return function(Ae,Se){if(!(Ae instanceof Se))throw new TypeError("Cannot call a class as a function")}(this,Xe),(ae=Be.call(this,te)).state={loaded:!1},ae}return z=Xe,(se=[{key:"onImageLoad",value:function(){var te=this;return this.state.loaded?null:function(ae){te.props.onLoad(ae),te.props.afterLoad(),te.setState({loaded:!0})}}},{key:"getImg",value:function(){var te=this.props,ae=(te.afterLoad,te.beforeLoad,te.delayMethod,te.delayTime,te.effect,te.placeholder,te.placeholderSrc,te.scrollPosition,te.threshold,te.useIntersectionObserver,te.visibleByDefault,te.wrapperClassName,te.wrapperProps,function(Ae,Se){if(Ae==null)return{};var Te,Je,ht=function(ft,yt){if(ft==null)return{};var pt,Lt,gn={},cr=Object.keys(ft);for(Lt=0;Lt<cr.length;Lt++)pt=cr[Lt],yt.indexOf(pt)>=0||(gn[pt]=ft[pt]);return gn}(Ae,Se);if(Object.getOwnPropertySymbols){var gt=Object.getOwnPropertySymbols(Ae);for(Je=0;Je<gt.length;Je++)Te=gt[Je],Se.indexOf(Te)>=0||Object.prototype.propertyIsEnumerable.call(Ae,Te)&&(ht[Te]=Ae[Te])}return ht}(te,Sr));return a().createElement("img",j({},ae,{onLoad:this.onImageLoad()}))}},{key:"getLazyLoadImage",value:function(){var te=this.props,ae=te.beforeLoad,Ae=te.className,Se=te.delayMethod,Te=te.delayTime,Je=te.height,ht=te.placeholder,gt=te.scrollPosition,ft=te.style,yt=te.threshold,pt=te.useIntersectionObserver,Lt=te.visibleByDefault,gn=te.width;return a().createElement(Bt,{beforeLoad:ae,className:Ae,delayMethod:Se,delayTime:Te,height:Je,placeholder:ht,scrollPosition:gt,style:ft,threshold:yt,useIntersectionObserver:pt,visibleByDefault:Lt,width:gn},this.getImg())}},{key:"getWrappedLazyLoadImage",value:function(te){var ae=this.props,Ae=ae.effect,Se=ae.height,Te=ae.placeholderSrc,Je=ae.width,ht=ae.wrapperClassName,gt=ae.wrapperProps,ft=this.state.loaded,yt=ft?" lazy-load-image-loaded":"",pt=ft||!Te?{}:{backgroundImage:"url(".concat(Te,")"),backgroundSize:"100% 100%"};return a().createElement("span",j({className:ht+" lazy-load-image-background "+Ae+yt,style:Vi(Vi({},pt),{},{color:"transparent",display:"inline-block",height:Se,width:Je})},gt),te)}},{key:"render",value:function(){var te=this.props,ae=te.effect,Ae=te.placeholderSrc,Se=te.visibleByDefault,Te=te.wrapperClassName,Je=te.wrapperProps,ht=this.getLazyLoadImage();return(ae||Ae)&&!Se||Te||Je?this.getWrappedLazyLoadImage(ht):ht}}])&&Y(z.prototype,se),Object.defineProperty(z,"prototype",{writable:!1}),Xe}(a().Component);pe.propTypes={onLoad:l.PropTypes.func,afterLoad:l.PropTypes.func,beforeLoad:l.PropTypes.func,delayMethod:l.PropTypes.string,delayTime:l.PropTypes.number,effect:l.PropTypes.string,placeholderSrc:l.PropTypes.string,threshold:l.PropTypes.number,useIntersectionObserver:l.PropTypes.bool,visibleByDefault:l.PropTypes.bool,wrapperClassName:l.PropTypes.string,wrapperProps:l.PropTypes.object},pe.defaultProps={onLoad:function(){},afterLoad:function(){return{}},beforeLoad:function(){return{}},delayMethod:"throttle",delayTime:300,effect:"",placeholderSrc:null,threshold:100,useIntersectionObserver:!0,visibleByDefault:!1,wrapperClassName:""};const Ne=pe})(),qm.exports=r})()),qm.exports}var NT=ID(),Hm={exports:{}},Wm,dE;function PD(){if(dE)return Wm;dE=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Wm=n,Wm}var Gm,hE;function CD(){if(hE)return Gm;hE=1;var n=PD();function e(){}function t(){}return t.resetWarningCache=e,Gm=function(){function r(l,f,h,p,g,y){if(y!==n){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},Gm}var pE;function RD(){return pE||(pE=1,Hm.exports=CD()()),Hm.exports}var kD=RD();const En=El(kD);var Km,mE;function OD(){return mE||(mE=1,Km=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,i,a;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(!n(e[i],t[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[i]))return!1;for(i=r;i--!==0;){var l=a[i];if(!n(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}),Km}var ND=OD();const DD=El(ND);var zf={exports:{}},Qm,gE;function LD(){if(gE)return Qm;gE=1;var n;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/return n=function(){var e={},t={};return e.on=function(r,i){var a={name:r,handler:i};return t[r]=t[r]||[],t[r].unshift(a),a},e.off=function(r){var i=t[r.name].indexOf(r);i!==-1&&t[r.name].splice(i,1)},e.trigger=function(r,i){var a=t[r],l;if(a)for(l=a.length;l--;)a[l].handler(i)},e},Qm=n,Qm}var qf={exports:{}},Jm,yE;function MD(){if(yE)return Jm;yE=1,Jm=function(i,a,l){var f=document.head||document.getElementsByTagName("head")[0],h=document.createElement("script");typeof a=="function"&&(l=a,a={}),a=a||{},l=l||function(){},h.type=a.type||"text/javascript",h.charset=a.charset||"utf8",h.async="async"in a?!!a.async:!0,h.src=i,a.attrs&&n(h,a.attrs),a.text&&(h.text=""+a.text);var p="onload"in h?e:t;p(h,l),h.onload||e(h,l),f.appendChild(h)};function n(r,i){for(var a in i)r.setAttribute(a,i[a])}function e(r,i){r.onload=function(){this.onerror=this.onload=null,i(null,r)},r.onerror=function(){this.onerror=this.onload=null,i(new Error("Failed to load "+this.src),r)}}function t(r,i){r.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,i(null,r))}}return Jm}var vE;function FD(){return vE||(vE=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=MD(),r=i(t);function i(a){return a&&a.__esModule?a:{default:a}}e.default=function(a){var l=new Promise(function(f){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){f(window.YT);return}else{var h=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(h+"//www.youtube.com/iframe_api",function(g){g&&a.trigger("error",g)})}var p=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){p&&p(),f(window.YT)}});return l},n.exports=e.default}(qf,qf.exports)),qf.exports}var Hf={exports:{}},Wf={exports:{}},Gf={exports:{}},Ym,_E;function VD(){if(_E)return Ym;_E=1;var n=1e3,e=n*60,t=e*60,r=t*24,i=r*365.25;Ym=function(p,g){g=g||{};var y=typeof p;if(y==="string"&&p.length>0)return a(p);if(y==="number"&&isNaN(p)===!1)return g.long?f(p):l(p);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(p))};function a(p){if(p=String(p),!(p.length>100)){var g=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(p);if(g){var y=parseFloat(g[1]),E=(g[2]||"ms").toLowerCase();switch(E){case"years":case"year":case"yrs":case"yr":case"y":return y*i;case"days":case"day":case"d":return y*r;case"hours":case"hour":case"hrs":case"hr":case"h":return y*t;case"minutes":case"minute":case"mins":case"min":case"m":return y*e;case"seconds":case"second":case"secs":case"sec":case"s":return y*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return y;default:return}}}}function l(p){return p>=r?Math.round(p/r)+"d":p>=t?Math.round(p/t)+"h":p>=e?Math.round(p/e)+"m":p>=n?Math.round(p/n)+"s":p+"ms"}function f(p){return h(p,r,"day")||h(p,t,"hour")||h(p,e,"minute")||h(p,n,"second")||p+" ms"}function h(p,g,y){if(!(p<g))return p<g*1.5?Math.floor(p/g)+" "+y:Math.ceil(p/g)+" "+y+"s"}return Ym}var wE;function jD(){return wE||(wE=1,function(n,e){e=n.exports=i.debug=i.default=i,e.coerce=h,e.disable=l,e.enable=a,e.enabled=f,e.humanize=VD(),e.names=[],e.skips=[],e.formatters={};var t;function r(p){var g=0,y;for(y in p)g=(g<<5)-g+p.charCodeAt(y),g|=0;return e.colors[Math.abs(g)%e.colors.length]}function i(p){function g(){if(g.enabled){var y=g,E=+new Date,A=E-(t||E);y.diff=A,y.prev=t,y.curr=E,t=E;for(var S=new Array(arguments.length),C=0;C<S.length;C++)S[C]=arguments[C];S[0]=e.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");var x=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,function(O,U){if(O==="%%")return O;x++;var q=e.formatters[U];if(typeof q=="function"){var W=S[x];O=q.call(y,W),S.splice(x,1),x--}return O}),e.formatArgs.call(y,S);var L=g.log||e.log||console.log.bind(console);L.apply(y,S)}}return g.namespace=p,g.enabled=e.enabled(p),g.useColors=e.useColors(),g.color=r(p),typeof e.init=="function"&&e.init(g),g}function a(p){e.save(p),e.names=[],e.skips=[];for(var g=(typeof p=="string"?p:"").split(/[\s,]+/),y=g.length,E=0;E<y;E++)g[E]&&(p=g[E].replace(/\*/g,".*?"),p[0]==="-"?e.skips.push(new RegExp("^"+p.substr(1)+"$")):e.names.push(new RegExp("^"+p+"$")))}function l(){e.enable("")}function f(p){var g,y;for(g=0,y=e.skips.length;g<y;g++)if(e.skips[g].test(p))return!1;for(g=0,y=e.names.length;g<y;g++)if(e.names[g].test(p))return!0;return!1}function h(p){return p instanceof Error?p.stack||p.message:p}}(Gf,Gf.exports)),Gf.exports}var EE;function UD(){return EE||(EE=1,function(n,e){var t={};e=n.exports=jD(),e.log=a,e.formatArgs=i,e.save=l,e.load=f,e.useColors=r,e.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:h(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}e.formatters.j=function(p){try{return JSON.stringify(p)}catch(g){return"[UnexpectedJSONParseError]: "+g.message}};function i(p){var g=this.useColors;if(p[0]=(g?"%c":"")+this.namespace+(g?" %c":" ")+p[0]+(g?"%c ":" ")+"+"+e.humanize(this.diff),!!g){var y="color: "+this.color;p.splice(1,0,y,"color: inherit");var E=0,A=0;p[0].replace(/%[a-zA-Z%]/g,function(S){S!=="%%"&&(E++,S==="%c"&&(A=E))}),p.splice(A,0,y)}}function a(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function l(p){try{p==null?e.storage.removeItem("debug"):e.storage.debug=p}catch{}}function f(){var p;try{p=e.storage.debug}catch{}return!p&&typeof process<"u"&&"env"in process&&(p=t.DEBUG),p}e.enable(f());function h(){try{return window.localStorage}catch{}}}(Wf,Wf.exports)),Wf.exports}var Kf={exports:{}},bE;function $D(){return bE||(bE=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],n.exports=e.default}(Kf,Kf.exports)),Kf.exports}var Qf={exports:{}},SE;function BD(){return SE||(SE=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],n.exports=e.default}(Qf,Qf.exports)),Qf.exports}var Jf={exports:{}},Yf={exports:{}},TE;function zD(){return TE||(TE=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},n.exports=e.default}(Yf,Yf.exports)),Yf.exports}var xE;function qD(){return xE||(xE=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=zD(),r=i(t);function i(a){return a&&a.__esModule?a:{default:a}}e.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},n.exports=e.default}(Jf,Jf.exports)),Jf.exports}var AE;function HD(){return AE||(AE=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=UD(),r=g(t),i=$D(),a=g(i),l=BD(),f=g(l),h=qD(),p=g(h);function g(A){return A&&A.__esModule?A:{default:A}}var y=(0,r.default)("youtube-player"),E={};E.proxyEvents=function(A){var S={},C=function(R){var T="on"+R.slice(0,1).toUpperCase()+R.slice(1);S[T]=function(I){y('event "%s"',T,I),A.trigger(R,I)}},x=!0,L=!1,O=void 0;try{for(var U=f.default[Symbol.iterator](),q;!(x=(q=U.next()).done);x=!0){var W=q.value;C(W)}}catch(X){L=!0,O=X}finally{try{!x&&U.return&&U.return()}finally{if(L)throw O}}return S},E.promisifyPlayer=function(A){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,C={},x=function(T){S&&p.default[T]?C[T]=function(){for(var I=arguments.length,N=Array(I),D=0;D<I;D++)N[D]=arguments[D];return A.then(function(M){var k=p.default[T],Pe=M.getPlayerState(),je=M[T].apply(M,N);return k.stateChangeRequired||Array.isArray(k.acceptableStates)&&k.acceptableStates.indexOf(Pe)===-1?new Promise(function(qe){var Me=function he(){var be=M.getPlayerState(),fe=void 0;typeof k.timeout=="number"&&(fe=setTimeout(function(){M.removeEventListener("onStateChange",he),qe()},k.timeout)),Array.isArray(k.acceptableStates)&&k.acceptableStates.indexOf(be)!==-1&&(M.removeEventListener("onStateChange",he),clearTimeout(fe),qe())};M.addEventListener("onStateChange",Me)}).then(function(){return je}):je})}:C[T]=function(){for(var I=arguments.length,N=Array(I),D=0;D<I;D++)N[D]=arguments[D];return A.then(function(M){return M[T].apply(M,N)})}},L=!0,O=!1,U=void 0;try{for(var q=a.default[Symbol.iterator](),W;!(L=(W=q.next()).done);L=!0){var X=W.value;x(X)}}catch(R){O=!0,U=R}finally{try{!L&&q.return&&q.return()}finally{if(O)throw U}}return C},e.default=E,n.exports=e.default}(Hf,Hf.exports)),Hf.exports}var IE;function WD(){return IE||(IE=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},r=LD(),i=p(r),a=FD(),l=p(a),f=HD(),h=p(f);function p(y){return y&&y.__esModule?y:{default:y}}var g=void 0;e.default=function(y){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,S=(0,i.default)();if(g||(g=(0,l.default)(S)),E.events)throw new Error("Event handlers cannot be overwritten.");if(typeof y=="string"&&!document.getElementById(y))throw new Error('Element "'+y+'" does not exist.');E.events=h.default.proxyEvents(S);var C=new Promise(function(L){if((typeof y>"u"?"undefined":t(y))==="object"&&y.playVideo instanceof Function){var O=y;L(O)}else g.then(function(U){var q=new U.Player(y,E);return S.on("ready",function(){L(q)}),null})}),x=h.default.promisifyPlayer(C,A);return x.on=S.on,x.off=S.off,x},n.exports=e.default}(zf,zf.exports)),zf.exports}var GD=WD();const KD=El(GD);var QD=Object.defineProperty,JD=Object.defineProperties,YD=Object.getOwnPropertyDescriptors,PE=Object.getOwnPropertySymbols,XD=Object.prototype.hasOwnProperty,ZD=Object.prototype.propertyIsEnumerable,CE=(n,e,t)=>e in n?QD(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,$g=(n,e)=>{for(var t in e||(e={}))XD.call(e,t)&&CE(n,t,e[t]);if(PE)for(var t of PE(e))ZD.call(e,t)&&CE(n,t,e[t]);return n},Bg=(n,e)=>JD(n,YD(e)),e2=(n,e,t)=>new Promise((r,i)=>{var a=h=>{try{f(t.next(h))}catch(p){i(p)}},l=h=>{try{f(t.throw(h))}catch(p){i(p)}},f=h=>h.done?r(h.value):Promise.resolve(h.value).then(a,l);f((t=t.apply(n,e)).next())});function t2(n,e){var t,r;if(n.videoId!==e.videoId)return!0;const i=((t=n.opts)==null?void 0:t.playerVars)||{},a=((r=e.opts)==null?void 0:r.playerVars)||{};return i.start!==a.start||i.end!==a.end}function RE(n={}){return Bg($g({},n),{height:0,width:0,playerVars:Bg($g({},n.playerVars),{autoplay:0,start:0,end:0})})}function n2(n,e){return n.videoId!==e.videoId||!DD(RE(n.opts),RE(e.opts))}function r2(n,e){var t,r,i,a;return n.id!==e.id||n.className!==e.className||((t=n.opts)==null?void 0:t.width)!==((r=e.opts)==null?void 0:r.width)||((i=n.opts)==null?void 0:i.height)!==((a=e.opts)==null?void 0:a.height)||n.iframeClassName!==e.iframeClassName||n.title!==e.title}var i2={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},s2={videoId:En.string,id:En.string,className:En.string,iframeClassName:En.string,style:En.object,title:En.string,loading:En.oneOf(["lazy","eager"]),opts:En.objectOf(En.any),onReady:En.func,onError:En.func,onPlay:En.func,onPause:En.func,onEnd:En.func,onStateChange:En.func,onPlaybackRateChange:En.func,onPlaybackQualityChange:En.func},gd=class extends Wn.Component{constructor(n){super(n),this.destroyPlayerPromise=void 0,this.onPlayerReady=e=>{var t,r;return(r=(t=this.props).onReady)==null?void 0:r.call(t,e)},this.onPlayerError=e=>{var t,r;return(r=(t=this.props).onError)==null?void 0:r.call(t,e)},this.onPlayerStateChange=e=>{var t,r,i,a,l,f,h,p;switch((r=(t=this.props).onStateChange)==null||r.call(t,e),e.data){case gd.PlayerState.ENDED:(a=(i=this.props).onEnd)==null||a.call(i,e);break;case gd.PlayerState.PLAYING:(f=(l=this.props).onPlay)==null||f.call(l,e);break;case gd.PlayerState.PAUSED:(p=(h=this.props).onPause)==null||p.call(h,e);break}},this.onPlayerPlaybackRateChange=e=>{var t,r;return(r=(t=this.props).onPlaybackRateChange)==null?void 0:r.call(t,e)},this.onPlayerPlaybackQualityChange=e=>{var t,r;return(r=(t=this.props).onPlaybackQualityChange)==null?void 0:r.call(t,e)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const e=Bg($g({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=KD(this.container,e),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(t=>{this.props.title&&t.setAttribute("title",this.props.title),this.props.loading&&t.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var e;(e=this.internalPlayer)==null||e.getIframe().then(t=>{this.props.id?t.setAttribute("id",this.props.id):t.removeAttribute("id"),this.props.iframeClassName?t.setAttribute("class",this.props.iframeClassName):t.removeAttribute("class"),this.props.opts&&this.props.opts.width?t.setAttribute("width",this.props.opts.width.toString()):t.removeAttribute("width"),this.props.opts&&this.props.opts.height?t.setAttribute("height",this.props.opts.height.toString()):t.removeAttribute("height"),this.props.title?t.setAttribute("title",this.props.title):t.setAttribute("title","YouTube video player"),this.props.loading?t.setAttribute("loading",this.props.loading):t.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var e,t,r,i;if(typeof this.props.videoId>"u"||this.props.videoId===null){(e=this.internalPlayer)==null||e.stopVideo();return}let a=!1;const l={videoId:this.props.videoId};if((t=this.props.opts)!=null&&t.playerVars&&(a=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(l.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(l.endSeconds=this.props.opts.playerVars.end)),a){(r=this.internalPlayer)==null||r.loadVideoById(l);return}(i=this.internalPlayer)==null||i.cueVideoById(l)},this.refContainer=e=>{this.container=e},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(n){return e2(this,null,function*(){r2(n,this.props)&&this.updatePlayer(),n2(n,this.props)&&(yield this.resetPlayer()),t2(n,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return Wn.createElement("div",{className:this.props.className,style:this.props.style},Wn.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},Ph=gd;Ph.propTypes=s2;Ph.defaultProps=i2;Ph.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var o2=Ph,yd={exports:{}},An=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global||{},Hn={searchParams:"URLSearchParams"in An,iterable:"Symbol"in An&&"iterator"in Symbol,blob:"FileReader"in An&&"Blob"in An&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in An,arrayBuffer:"ArrayBuffer"in An};function a2(n){return n&&DataView.prototype.isPrototypeOf(n)}if(Hn.arrayBuffer)var l2=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u2=ArrayBuffer.isView||function(n){return n&&l2.indexOf(Object.prototype.toString.call(n))>-1};function Il(n){if(typeof n!="string"&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(n)||n==="")throw new TypeError('Invalid character in header field name: "'+n+'"');return n.toLowerCase()}function Qy(n){return typeof n!="string"&&(n=String(n)),n}function Jy(n){var e={next:function(){var t=n.shift();return{done:t===void 0,value:t}}};return Hn.iterable&&(e[Symbol.iterator]=function(){return e}),e}function an(n){this.map={},n instanceof an?n.forEach(function(e,t){this.append(t,e)},this):Array.isArray(n)?n.forEach(function(e){if(e.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):n&&Object.getOwnPropertyNames(n).forEach(function(e){this.append(e,n[e])},this)}an.prototype.append=function(n,e){n=Il(n),e=Qy(e);var t=this.map[n];this.map[n]=t?t+", "+e:e};an.prototype.delete=function(n){delete this.map[Il(n)]};an.prototype.get=function(n){return n=Il(n),this.has(n)?this.map[n]:null};an.prototype.has=function(n){return this.map.hasOwnProperty(Il(n))};an.prototype.set=function(n,e){this.map[Il(n)]=Qy(e)};an.prototype.forEach=function(n,e){for(var t in this.map)this.map.hasOwnProperty(t)&&n.call(e,this.map[t],t,this)};an.prototype.keys=function(){var n=[];return this.forEach(function(e,t){n.push(t)}),Jy(n)};an.prototype.values=function(){var n=[];return this.forEach(function(e){n.push(e)}),Jy(n)};an.prototype.entries=function(){var n=[];return this.forEach(function(e,t){n.push([t,e])}),Jy(n)};Hn.iterable&&(an.prototype[Symbol.iterator]=an.prototype.entries);function Xm(n){if(!n._noBody){if(n.bodyUsed)return Promise.reject(new TypeError("Already read"));n.bodyUsed=!0}}function DT(n){return new Promise(function(e,t){n.onload=function(){e(n.result)},n.onerror=function(){t(n.error)}})}function c2(n){var e=new FileReader,t=DT(e);return e.readAsArrayBuffer(n),t}function f2(n){var e=new FileReader,t=DT(e),r=/charset=([A-Za-z0-9_-]+)/.exec(n.type),i=r?r[1]:"utf-8";return e.readAsText(n,i),t}function d2(n){for(var e=new Uint8Array(n),t=new Array(e.length),r=0;r<e.length;r++)t[r]=String.fromCharCode(e[r]);return t.join("")}function kE(n){if(n.slice)return n.slice(0);var e=new Uint8Array(n.byteLength);return e.set(new Uint8Array(n)),e.buffer}function LT(){return this.bodyUsed=!1,this._initBody=function(n){this.bodyUsed=this.bodyUsed,this._bodyInit=n,n?typeof n=="string"?this._bodyText=n:Hn.blob&&Blob.prototype.isPrototypeOf(n)?this._bodyBlob=n:Hn.formData&&FormData.prototype.isPrototypeOf(n)?this._bodyFormData=n:Hn.searchParams&&URLSearchParams.prototype.isPrototypeOf(n)?this._bodyText=n.toString():Hn.arrayBuffer&&Hn.blob&&a2(n)?(this._bodyArrayBuffer=kE(n.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Hn.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(n)||u2(n))?this._bodyArrayBuffer=kE(n):this._bodyText=n=Object.prototype.toString.call(n):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof n=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Hn.searchParams&&URLSearchParams.prototype.isPrototypeOf(n)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Hn.blob&&(this.blob=function(){var n=Xm(this);if(n)return n;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var n=Xm(this);return n||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(Hn.blob)return this.blob().then(c2);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var n=Xm(this);if(n)return n;if(this._bodyBlob)return f2(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(d2(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Hn.formData&&(this.formData=function(){return this.text().then(m2)}),this.json=function(){return this.text().then(JSON.parse)},this}var h2=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function p2(n){var e=n.toUpperCase();return h2.indexOf(e)>-1?e:n}function Yo(n,e){if(!(this instanceof Yo))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e=e||{};var t=e.body;if(n instanceof Yo){if(n.bodyUsed)throw new TypeError("Already read");this.url=n.url,this.credentials=n.credentials,e.headers||(this.headers=new an(n.headers)),this.method=n.method,this.mode=n.mode,this.signal=n.signal,!t&&n._bodyInit!=null&&(t=n._bodyInit,n.bodyUsed=!0)}else this.url=String(n);if(this.credentials=e.credentials||this.credentials||"same-origin",(e.headers||!this.headers)&&(this.headers=new an(e.headers)),this.method=p2(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal||function(){if("AbortController"in An){var a=new AbortController;return a.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&t)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(t),(this.method==="GET"||this.method==="HEAD")&&(e.cache==="no-store"||e.cache==="no-cache")){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+new Date().getTime());else{var i=/\?/;this.url+=(i.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}Yo.prototype.clone=function(){return new Yo(this,{body:this._bodyInit})};function m2(n){var e=new FormData;return n.trim().split("&").forEach(function(t){if(t){var r=t.split("="),i=r.shift().replace(/\+/g," "),a=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(a))}}),e}function g2(n){var e=new an,t=n.replace(/\r?\n[\t ]+/g," ");return t.split("\r").map(function(r){return r.indexOf(`
`)===0?r.substr(1,r.length):r}).forEach(function(r){var i=r.split(":"),a=i.shift().trim();if(a){var l=i.join(":").trim();try{e.append(a,l)}catch(f){console.warn("Response "+f.message)}}}),e}LT.call(Yo.prototype);function Di(n,e){if(!(this instanceof Di))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(e||(e={}),this.type="default",this.status=e.status===void 0?200:e.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText===void 0?"":""+e.statusText,this.headers=new an(e.headers),this.url=e.url||"",this._initBody(n)}LT.call(Di.prototype);Di.prototype.clone=function(){return new Di(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new an(this.headers),url:this.url})};Di.error=function(){var n=new Di(null,{status:200,statusText:""});return n.ok=!1,n.status=0,n.type="error",n};var y2=[301,302,303,307,308];Di.redirect=function(n,e){if(y2.indexOf(e)===-1)throw new RangeError("Invalid status code");return new Di(null,{status:e,headers:{location:n}})};var No=An.DOMException;try{new No}catch{No=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},No.prototype=Object.create(Error.prototype),No.prototype.constructor=No}function MT(n,e){return new Promise(function(t,r){var i=new Yo(n,e);if(i.signal&&i.signal.aborted)return r(new No("Aborted","AbortError"));var a=new XMLHttpRequest;function l(){a.abort()}a.onload=function(){var p={statusText:a.statusText,headers:g2(a.getAllResponseHeaders()||"")};i.url.indexOf("file://")===0&&(a.status<200||a.status>599)?p.status=200:p.status=a.status,p.url="responseURL"in a?a.responseURL:p.headers.get("X-Request-URL");var g="response"in a?a.response:a.responseText;setTimeout(function(){t(new Di(g,p))},0)},a.onerror=function(){setTimeout(function(){r(new TypeError("Network request failed"))},0)},a.ontimeout=function(){setTimeout(function(){r(new TypeError("Network request timed out"))},0)},a.onabort=function(){setTimeout(function(){r(new No("Aborted","AbortError"))},0)};function f(p){try{return p===""&&An.location.href?An.location.href:p}catch{return p}}if(a.open(i.method,f(i.url),!0),i.credentials==="include"?a.withCredentials=!0:i.credentials==="omit"&&(a.withCredentials=!1),"responseType"in a&&(Hn.blob?a.responseType="blob":Hn.arrayBuffer&&(a.responseType="arraybuffer")),e&&typeof e.headers=="object"&&!(e.headers instanceof an||An.Headers&&e.headers instanceof An.Headers)){var h=[];Object.getOwnPropertyNames(e.headers).forEach(function(p){h.push(Il(p)),a.setRequestHeader(p,Qy(e.headers[p]))}),i.headers.forEach(function(p,g){h.indexOf(g)===-1&&a.setRequestHeader(g,p)})}else i.headers.forEach(function(p,g){a.setRequestHeader(g,p)});i.signal&&(i.signal.addEventListener("abort",l),a.onreadystatechange=function(){a.readyState===4&&i.signal.removeEventListener("abort",l)}),a.send(typeof i._bodyInit>"u"?null:i._bodyInit)})}MT.polyfill=!0;An.fetch||(An.fetch=MT,An.Headers=an,An.Request=Yo,An.Response=Di);var Zm,OE;function v2(){return OE||(OE=1,Zm=self.fetch.bind(self)),Zm}var _2=yd.exports,NE;function w2(){return NE||(NE=1,function(n,e){(function(t,r){n.exports=r(v2())})(_2,t=>{function r(p){const g=p&&p.message?p.message:p;console.warn(`movie-trailer: ${g}`)}function i(p){if(!p.ok)throw new Error(p.statusText);return p}function a(p){return encodeURI("https://www.youtube.com/watch?v="+p)}function l(p,g){const y=g&&g.videoType==="tv"?"/3/search/tv?api_key=":"/3/search/movie?api_key=",E="https://api.themoviedb.org"+encodeURI(y+g.apiKey+"&query="+p+(g.year===null?"":"&year="+g.year)+(g.language===null?"":"&language="+g.language));return t(E,{method:"GET"}).then(i).then(S=>S.json()).then(S=>{if(typeof S.status_message<"u")throw new TypeError(S.status_message);if(S.results.length===0){if(g.year!==null){const{year:C,...x}=g;return l(p,x)}throw new Error(`No TMDB Movie found with that search query, try searching https://www.themoviedb.org/search?query=${encodeURIComponent(p)} to verify one exists`)}else return S.results[0].id}).catch(S=>(r(S),null))}function f(p,g){const y=g&&g.videoType==="tv"?"/3/tv/":"/3/movie/",E="https://api.themoviedb.org"+encodeURI(y+p+"/videos?api_key="+g.apiKey+(g.language===null?"":"&language="+g.language));return t(E,{method:"GET"}).then(i).then(S=>S.json()).then(S=>{if(typeof S.status_message<"u")throw new TypeError(`movie-trailer: ${S.status_message}`);if(S.results.length===0)throw new Error("No trailers found for that TMDB ID");let{results:C}=S;return C=C.map(x=>x.key),g.id||(C=C.map(x=>a(x))),g.multi?[...new Set(C)]:C[0]}).catch(S=>(r(S),null))}async function h(p,g,y,E){let A={multi:!1,id:!1,year:null,language:null,videoType:"movie",apiKey:"9d2bff12ed955c7f1f74b83187f188ae"};if(g||(g={}),typeof p!="string"&&!g.tmdbId)throw new Error("Expected first parameter to be a movie or TMDB ID (string)");typeof g=="function"?(y=g,g=null):typeof g=="boolean"||g==="true"?A.multi=g:typeof g=="string"||typeof g=="number"?(A.year=g,typeof E=="function"&&(typeof y=="boolean"||typeof y=="string"&&y==="true")&&(A.multi=y,y=E)):typeof g=="object"&&(A=Object.assign(A,g)),typeof y!="function"&&(y=null);const S=A.tmdbId?A.tmdbId:await l(p,A).catch(x=>(r(x),null));if(!S)return null;const C=f(S,A);return C?y?C.then(x=>y(null,x)).catch(x=>y(x,null)):C:null}return h})}(yd)),yd.exports}var E2=w2();const b2=El(E2);function FT(n,e){return function(){return n.apply(e,arguments)}}const{toString:S2}=Object.prototype,{getPrototypeOf:Yy}=Object,Ch=(n=>e=>{const t=S2.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),di=n=>(n=n.toLowerCase(),e=>Ch(e)===n),Rh=n=>e=>typeof e===n,{isArray:Pl}=Array,Gu=Rh("undefined");function T2(n){return n!==null&&!Gu(n)&&n.constructor!==null&&!Gu(n.constructor)&&wr(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const VT=di("ArrayBuffer");function x2(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&VT(n.buffer),e}const A2=Rh("string"),wr=Rh("function"),jT=Rh("number"),kh=n=>n!==null&&typeof n=="object",I2=n=>n===!0||n===!1,vd=n=>{if(Ch(n)!=="object")return!1;const e=Yy(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},P2=di("Date"),C2=di("File"),R2=di("Blob"),k2=di("FileList"),O2=n=>kh(n)&&wr(n.pipe),N2=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||wr(n.append)&&((e=Ch(n))==="formdata"||e==="object"&&wr(n.toString)&&n.toString()==="[object FormData]"))},D2=di("URLSearchParams"),[L2,M2,F2,V2]=["ReadableStream","Request","Response","Headers"].map(di),j2=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function hc(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),Pl(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const a=t?Object.getOwnPropertyNames(n):Object.keys(n),l=a.length;let f;for(r=0;r<l;r++)f=a[r],e.call(null,n[f],f,n)}}function UT(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const Mo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,$T=n=>!Gu(n)&&n!==Mo;function zg(){const{caseless:n}=$T(this)&&this||{},e={},t=(r,i)=>{const a=n&&UT(e,i)||i;vd(e[a])&&vd(r)?e[a]=zg(e[a],r):vd(r)?e[a]=zg({},r):Pl(r)?e[a]=r.slice():e[a]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&hc(arguments[r],t);return e}const U2=(n,e,t,{allOwnKeys:r}={})=>(hc(e,(i,a)=>{t&&wr(i)?n[a]=FT(i,t):n[a]=i},{allOwnKeys:r}),n),$2=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),B2=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},z2=(n,e,t,r)=>{let i,a,l;const f={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),a=i.length;a-- >0;)l=i[a],(!r||r(l,n,e))&&!f[l]&&(e[l]=n[l],f[l]=!0);n=t!==!1&&Yy(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},q2=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},H2=n=>{if(!n)return null;if(Pl(n))return n;let e=n.length;if(!jT(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},W2=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Yy(Uint8Array)),G2=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=r.next())&&!i.done;){const a=i.value;e.call(n,a[0],a[1])}},K2=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},Q2=di("HTMLFormElement"),J2=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),DE=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),Y2=di("RegExp"),BT=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};hc(t,(i,a)=>{let l;(l=e(i,a,n))!==!1&&(r[a]=l||i)}),Object.defineProperties(n,r)},X2=n=>{BT(n,(e,t)=>{if(wr(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(wr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Z2=(n,e)=>{const t={},r=i=>{i.forEach(a=>{t[a]=!0})};return Pl(n)?r(n):r(String(n).split(e)),t},eL=()=>{},tL=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,eg="abcdefghijklmnopqrstuvwxyz",LE="0123456789",zT={DIGIT:LE,ALPHA:eg,ALPHA_DIGIT:eg+eg.toUpperCase()+LE},nL=(n=16,e=zT.ALPHA_DIGIT)=>{let t="";const{length:r}=e;for(;n--;)t+=e[Math.random()*r|0];return t};function rL(n){return!!(n&&wr(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const iL=n=>{const e=new Array(10),t=(r,i)=>{if(kh(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const a=Pl(r)?[]:{};return hc(r,(l,f)=>{const h=t(l,i+1);!Gu(h)&&(a[f]=h)}),e[i]=void 0,a}}return r};return t(n,0)},sL=di("AsyncFunction"),oL=n=>n&&(kh(n)||wr(n))&&wr(n.then)&&wr(n.catch),qT=((n,e)=>n?setImmediate:e?((t,r)=>(Mo.addEventListener("message",({source:i,data:a})=>{i===Mo&&a===t&&r.length&&r.shift()()},!1),i=>{r.push(i),Mo.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",wr(Mo.postMessage)),aL=typeof queueMicrotask<"u"?queueMicrotask.bind(Mo):typeof process<"u"&&process.nextTick||qT,ie={isArray:Pl,isArrayBuffer:VT,isBuffer:T2,isFormData:N2,isArrayBufferView:x2,isString:A2,isNumber:jT,isBoolean:I2,isObject:kh,isPlainObject:vd,isReadableStream:L2,isRequest:M2,isResponse:F2,isHeaders:V2,isUndefined:Gu,isDate:P2,isFile:C2,isBlob:R2,isRegExp:Y2,isFunction:wr,isStream:O2,isURLSearchParams:D2,isTypedArray:W2,isFileList:k2,forEach:hc,merge:zg,extend:U2,trim:j2,stripBOM:$2,inherits:B2,toFlatObject:z2,kindOf:Ch,kindOfTest:di,endsWith:q2,toArray:H2,forEachEntry:G2,matchAll:K2,isHTMLForm:Q2,hasOwnProperty:DE,hasOwnProp:DE,reduceDescriptors:BT,freezeMethods:X2,toObjectSet:Z2,toCamelCase:J2,noop:eL,toFiniteNumber:tL,findKey:UT,global:Mo,isContextDefined:$T,ALPHABET:zT,generateString:nL,isSpecCompliantForm:rL,toJSONObject:iL,isAsyncFn:sL,isThenable:oL,setImmediate:qT,asap:aL};function Ye(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}ie.inherits(Ye,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ie.toJSONObject(this.config),code:this.code,status:this.status}}});const HT=Ye.prototype,WT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{WT[n]={value:n}});Object.defineProperties(Ye,WT);Object.defineProperty(HT,"isAxiosError",{value:!0});Ye.from=(n,e,t,r,i,a)=>{const l=Object.create(HT);return ie.toFlatObject(n,l,function(h){return h!==Error.prototype},f=>f!=="isAxiosError"),Ye.call(l,n.message,e,t,r,i),l.cause=n,l.name=n.name,a&&Object.assign(l,a),l};const lL=null;function qg(n){return ie.isPlainObject(n)||ie.isArray(n)}function GT(n){return ie.endsWith(n,"[]")?n.slice(0,-2):n}function ME(n,e,t){return n?n.concat(e).map(function(i,a){return i=GT(i),!t&&a?"["+i+"]":i}).join(t?".":""):e}function uL(n){return ie.isArray(n)&&!n.some(qg)}const cL=ie.toFlatObject(ie,{},null,function(e){return/^is[A-Z]/.test(e)});function Oh(n,e,t){if(!ie.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=ie.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,x){return!ie.isUndefined(x[C])});const r=t.metaTokens,i=t.visitor||g,a=t.dots,l=t.indexes,h=(t.Blob||typeof Blob<"u"&&Blob)&&ie.isSpecCompliantForm(e);if(!ie.isFunction(i))throw new TypeError("visitor must be a function");function p(S){if(S===null)return"";if(ie.isDate(S))return S.toISOString();if(!h&&ie.isBlob(S))throw new Ye("Blob is not supported. Use a Buffer instead.");return ie.isArrayBuffer(S)||ie.isTypedArray(S)?h&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function g(S,C,x){let L=S;if(S&&!x&&typeof S=="object"){if(ie.endsWith(C,"{}"))C=r?C:C.slice(0,-2),S=JSON.stringify(S);else if(ie.isArray(S)&&uL(S)||(ie.isFileList(S)||ie.endsWith(C,"[]"))&&(L=ie.toArray(S)))return C=GT(C),L.forEach(function(U,q){!(ie.isUndefined(U)||U===null)&&e.append(l===!0?ME([C],q,a):l===null?C:C+"[]",p(U))}),!1}return qg(S)?!0:(e.append(ME(x,C,a),p(S)),!1)}const y=[],E=Object.assign(cL,{defaultVisitor:g,convertValue:p,isVisitable:qg});function A(S,C){if(!ie.isUndefined(S)){if(y.indexOf(S)!==-1)throw Error("Circular reference detected in "+C.join("."));y.push(S),ie.forEach(S,function(L,O){(!(ie.isUndefined(L)||L===null)&&i.call(e,L,ie.isString(O)?O.trim():O,C,E))===!0&&A(L,C?C.concat(O):[O])}),y.pop()}}if(!ie.isObject(n))throw new TypeError("data must be an object");return A(n),e}function FE(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Xy(n,e){this._pairs=[],n&&Oh(n,this,e)}const KT=Xy.prototype;KT.append=function(e,t){this._pairs.push([e,t])};KT.toString=function(e){const t=e?function(r){return e.call(this,r,FE)}:FE;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function fL(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function QT(n,e,t){if(!e)return n;const r=t&&t.encode||fL;ie.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let a;if(i?a=i(e,t):a=ie.isURLSearchParams(e)?e.toString():new Xy(e,t).toString(r),a){const l=n.indexOf("#");l!==-1&&(n=n.slice(0,l)),n+=(n.indexOf("?")===-1?"?":"&")+a}return n}class VE{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ie.forEach(this.handlers,function(r){r!==null&&e(r)})}}const JT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},dL=typeof URLSearchParams<"u"?URLSearchParams:Xy,hL=typeof FormData<"u"?FormData:null,pL=typeof Blob<"u"?Blob:null,mL={isBrowser:!0,classes:{URLSearchParams:dL,FormData:hL,Blob:pL},protocols:["http","https","file","blob","url","data"]},Zy=typeof window<"u"&&typeof document<"u",Hg=typeof navigator=="object"&&navigator||void 0,gL=Zy&&(!Hg||["ReactNative","NativeScript","NS"].indexOf(Hg.product)<0),yL=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",vL=Zy&&window.location.href||"http://localhost",_L=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Zy,hasStandardBrowserEnv:gL,hasStandardBrowserWebWorkerEnv:yL,navigator:Hg,origin:vL},Symbol.toStringTag,{value:"Module"})),jn={..._L,...mL};function wL(n,e){return Oh(n,new jn.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,a){return jn.isNode&&ie.isBuffer(t)?(this.append(r,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function EL(n){return ie.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function bL(n){const e={},t=Object.keys(n);let r;const i=t.length;let a;for(r=0;r<i;r++)a=t[r],e[a]=n[a];return e}function YT(n){function e(t,r,i,a){let l=t[a++];if(l==="__proto__")return!0;const f=Number.isFinite(+l),h=a>=t.length;return l=!l&&ie.isArray(i)?i.length:l,h?(ie.hasOwnProp(i,l)?i[l]=[i[l],r]:i[l]=r,!f):((!i[l]||!ie.isObject(i[l]))&&(i[l]=[]),e(t,r,i[l],a)&&ie.isArray(i[l])&&(i[l]=bL(i[l])),!f)}if(ie.isFormData(n)&&ie.isFunction(n.entries)){const t={};return ie.forEachEntry(n,(r,i)=>{e(EL(r),i,t,0)}),t}return null}function SL(n,e,t){if(ie.isString(n))try{return(e||JSON.parse)(n),ie.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(n)}const pc={transitional:JT,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=ie.isObject(e);if(a&&ie.isHTMLForm(e)&&(e=new FormData(e)),ie.isFormData(e))return i?JSON.stringify(YT(e)):e;if(ie.isArrayBuffer(e)||ie.isBuffer(e)||ie.isStream(e)||ie.isFile(e)||ie.isBlob(e)||ie.isReadableStream(e))return e;if(ie.isArrayBufferView(e))return e.buffer;if(ie.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let f;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return wL(e,this.formSerializer).toString();if((f=ie.isFileList(e))||r.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Oh(f?{"files[]":e}:e,h&&new h,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),SL(e)):e}],transformResponse:[function(e){const t=this.transitional||pc.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(ie.isResponse(e)||ie.isReadableStream(e))return e;if(e&&ie.isString(e)&&(r&&!this.responseType||i)){const l=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(f){if(l)throw f.name==="SyntaxError"?Ye.from(f,Ye.ERR_BAD_RESPONSE,this,null,this.response):f}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:jn.classes.FormData,Blob:jn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ie.forEach(["delete","get","head","post","put","patch"],n=>{pc.headers[n]={}});const TL=ie.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),xL=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(l){i=l.indexOf(":"),t=l.substring(0,i).trim().toLowerCase(),r=l.substring(i+1).trim(),!(!t||e[t]&&TL[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},jE=Symbol("internals");function _u(n){return n&&String(n).trim().toLowerCase()}function _d(n){return n===!1||n==null?n:ie.isArray(n)?n.map(_d):String(n)}function AL(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const IL=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function tg(n,e,t,r,i){if(ie.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!ie.isString(e)){if(ie.isString(r))return e.indexOf(r)!==-1;if(ie.isRegExp(r))return r.test(e)}}function PL(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function CL(n,e){const t=ie.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,a,l){return this[r].call(this,e,i,a,l)},configurable:!0})})}class ar{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function a(f,h,p){const g=_u(h);if(!g)throw new Error("header name must be a non-empty string");const y=ie.findKey(i,g);(!y||i[y]===void 0||p===!0||p===void 0&&i[y]!==!1)&&(i[y||h]=_d(f))}const l=(f,h)=>ie.forEach(f,(p,g)=>a(p,g,h));if(ie.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(ie.isString(e)&&(e=e.trim())&&!IL(e))l(xL(e),t);else if(ie.isHeaders(e))for(const[f,h]of e.entries())a(h,f,r);else e!=null&&a(t,e,r);return this}get(e,t){if(e=_u(e),e){const r=ie.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return AL(i);if(ie.isFunction(t))return t.call(this,i,r);if(ie.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=_u(e),e){const r=ie.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||tg(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function a(l){if(l=_u(l),l){const f=ie.findKey(r,l);f&&(!t||tg(r,r[f],f,t))&&(delete r[f],i=!0)}}return ie.isArray(e)?e.forEach(a):a(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const a=t[r];(!e||tg(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const t=this,r={};return ie.forEach(this,(i,a)=>{const l=ie.findKey(r,a);if(l){t[l]=_d(i),delete t[a];return}const f=e?PL(a):String(a).trim();f!==a&&delete t[a],t[f]=_d(i),r[f]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ie.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&ie.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[jE]=this[jE]={accessors:{}}).accessors,i=this.prototype;function a(l){const f=_u(l);r[f]||(CL(i,l),r[f]=!0)}return ie.isArray(e)?e.forEach(a):a(e),this}}ar.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ie.reduceDescriptors(ar.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});ie.freezeMethods(ar);function ng(n,e){const t=this||pc,r=e||t,i=ar.from(r.headers);let a=r.data;return ie.forEach(n,function(f){a=f.call(t,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function XT(n){return!!(n&&n.__CANCEL__)}function Cl(n,e,t){Ye.call(this,n??"canceled",Ye.ERR_CANCELED,e,t),this.name="CanceledError"}ie.inherits(Cl,Ye,{__CANCEL__:!0});function ZT(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Ye("Request failed with status code "+t.status,[Ye.ERR_BAD_REQUEST,Ye.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function RL(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function kL(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,a=0,l;return e=e!==void 0?e:1e3,function(h){const p=Date.now(),g=r[a];l||(l=p),t[i]=h,r[i]=p;let y=a,E=0;for(;y!==i;)E+=t[y++],y=y%n;if(i=(i+1)%n,i===a&&(a=(a+1)%n),p-l<e)return;const A=g&&p-g;return A?Math.round(E*1e3/A):void 0}}function OL(n,e){let t=0,r=1e3/e,i,a;const l=(p,g=Date.now())=>{t=g,i=null,a&&(clearTimeout(a),a=null),n.apply(null,p)};return[(...p)=>{const g=Date.now(),y=g-t;y>=r?l(p,g):(i=p,a||(a=setTimeout(()=>{a=null,l(i)},r-y)))},()=>i&&l(i)]}const Kd=(n,e,t=3)=>{let r=0;const i=kL(50,250);return OL(a=>{const l=a.loaded,f=a.lengthComputable?a.total:void 0,h=l-r,p=i(h),g=l<=f;r=l;const y={loaded:l,total:f,progress:f?l/f:void 0,bytes:h,rate:p||void 0,estimated:p&&f&&g?(f-l)/p:void 0,event:a,lengthComputable:f!=null,[e?"download":"upload"]:!0};n(y)},t)},UE=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},$E=n=>(...e)=>ie.asap(()=>n(...e)),NL=jn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,jn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(jn.origin),jn.navigator&&/(msie|trident)/i.test(jn.navigator.userAgent)):()=>!0,DL=jn.hasStandardBrowserEnv?{write(n,e,t,r,i,a){const l=[n+"="+encodeURIComponent(e)];ie.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),ie.isString(r)&&l.push("path="+r),ie.isString(i)&&l.push("domain="+i),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function LL(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function ML(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function ex(n,e){return n&&!LL(e)?ML(n,e):e}const BE=n=>n instanceof ar?{...n}:n;function Xo(n,e){e=e||{};const t={};function r(p,g,y,E){return ie.isPlainObject(p)&&ie.isPlainObject(g)?ie.merge.call({caseless:E},p,g):ie.isPlainObject(g)?ie.merge({},g):ie.isArray(g)?g.slice():g}function i(p,g,y,E){if(ie.isUndefined(g)){if(!ie.isUndefined(p))return r(void 0,p,y,E)}else return r(p,g,y,E)}function a(p,g){if(!ie.isUndefined(g))return r(void 0,g)}function l(p,g){if(ie.isUndefined(g)){if(!ie.isUndefined(p))return r(void 0,p)}else return r(void 0,g)}function f(p,g,y){if(y in e)return r(p,g);if(y in n)return r(void 0,p)}const h={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:f,headers:(p,g,y)=>i(BE(p),BE(g),y,!0)};return ie.forEach(Object.keys(Object.assign({},n,e)),function(g){const y=h[g]||i,E=y(n[g],e[g],g);ie.isUndefined(E)&&y!==f||(t[g]=E)}),t}const tx=n=>{const e=Xo({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:l,auth:f}=e;e.headers=l=ar.from(l),e.url=QT(ex(e.baseURL,e.url),n.params,n.paramsSerializer),f&&l.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):"")));let h;if(ie.isFormData(t)){if(jn.hasStandardBrowserEnv||jn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((h=l.getContentType())!==!1){const[p,...g]=h?h.split(";").map(y=>y.trim()).filter(Boolean):[];l.setContentType([p||"multipart/form-data",...g].join("; "))}}if(jn.hasStandardBrowserEnv&&(r&&ie.isFunction(r)&&(r=r(e)),r||r!==!1&&NL(e.url))){const p=i&&a&&DL.read(a);p&&l.set(i,p)}return e},FL=typeof XMLHttpRequest<"u",VL=FL&&function(n){return new Promise(function(t,r){const i=tx(n);let a=i.data;const l=ar.from(i.headers).normalize();let{responseType:f,onUploadProgress:h,onDownloadProgress:p}=i,g,y,E,A,S;function C(){A&&A(),S&&S(),i.cancelToken&&i.cancelToken.unsubscribe(g),i.signal&&i.signal.removeEventListener("abort",g)}let x=new XMLHttpRequest;x.open(i.method.toUpperCase(),i.url,!0),x.timeout=i.timeout;function L(){if(!x)return;const U=ar.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),W={data:!f||f==="text"||f==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:U,config:n,request:x};ZT(function(R){t(R),C()},function(R){r(R),C()},W),x=null}"onloadend"in x?x.onloadend=L:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(L)},x.onabort=function(){x&&(r(new Ye("Request aborted",Ye.ECONNABORTED,n,x)),x=null)},x.onerror=function(){r(new Ye("Network Error",Ye.ERR_NETWORK,n,x)),x=null},x.ontimeout=function(){let q=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const W=i.transitional||JT;i.timeoutErrorMessage&&(q=i.timeoutErrorMessage),r(new Ye(q,W.clarifyTimeoutError?Ye.ETIMEDOUT:Ye.ECONNABORTED,n,x)),x=null},a===void 0&&l.setContentType(null),"setRequestHeader"in x&&ie.forEach(l.toJSON(),function(q,W){x.setRequestHeader(W,q)}),ie.isUndefined(i.withCredentials)||(x.withCredentials=!!i.withCredentials),f&&f!=="json"&&(x.responseType=i.responseType),p&&([E,S]=Kd(p,!0),x.addEventListener("progress",E)),h&&x.upload&&([y,A]=Kd(h),x.upload.addEventListener("progress",y),x.upload.addEventListener("loadend",A)),(i.cancelToken||i.signal)&&(g=U=>{x&&(r(!U||U.type?new Cl(null,n,x):U),x.abort(),x=null)},i.cancelToken&&i.cancelToken.subscribe(g),i.signal&&(i.signal.aborted?g():i.signal.addEventListener("abort",g)));const O=RL(i.url);if(O&&jn.protocols.indexOf(O)===-1){r(new Ye("Unsupported protocol "+O+":",Ye.ERR_BAD_REQUEST,n));return}x.send(a||null)})},jL=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const a=function(p){if(!i){i=!0,f();const g=p instanceof Error?p:this.reason;r.abort(g instanceof Ye?g:new Cl(g instanceof Error?g.message:g))}};let l=e&&setTimeout(()=>{l=null,a(new Ye(`timeout ${e} of ms exceeded`,Ye.ETIMEDOUT))},e);const f=()=>{n&&(l&&clearTimeout(l),l=null,n.forEach(p=>{p.unsubscribe?p.unsubscribe(a):p.removeEventListener("abort",a)}),n=null)};n.forEach(p=>p.addEventListener("abort",a));const{signal:h}=r;return h.unsubscribe=()=>ie.asap(f),h}},UL=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},$L=async function*(n,e){for await(const t of BL(n))yield*UL(t,e)},BL=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},zE=(n,e,t,r)=>{const i=$L(n,e);let a=0,l,f=h=>{l||(l=!0,r&&r(h))};return new ReadableStream({async pull(h){try{const{done:p,value:g}=await i.next();if(p){f(),h.close();return}let y=g.byteLength;if(t){let E=a+=y;t(E)}h.enqueue(new Uint8Array(g))}catch(p){throw f(p),p}},cancel(h){return f(h),i.return()}},{highWaterMark:2})},Nh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",nx=Nh&&typeof ReadableStream=="function",zL=Nh&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),rx=(n,...e)=>{try{return!!n(...e)}catch{return!1}},qL=nx&&rx(()=>{let n=!1;const e=new Request(jn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),qE=64*1024,Wg=nx&&rx(()=>ie.isReadableStream(new Response("").body)),Qd={stream:Wg&&(n=>n.body)};Nh&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Qd[e]&&(Qd[e]=ie.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new Ye(`Response type '${e}' is not supported`,Ye.ERR_NOT_SUPPORT,r)})})})(new Response);const HL=async n=>{if(n==null)return 0;if(ie.isBlob(n))return n.size;if(ie.isSpecCompliantForm(n))return(await new Request(jn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(ie.isArrayBufferView(n)||ie.isArrayBuffer(n))return n.byteLength;if(ie.isURLSearchParams(n)&&(n=n+""),ie.isString(n))return(await zL(n)).byteLength},WL=async(n,e)=>{const t=ie.toFiniteNumber(n.getContentLength());return t??HL(e)},GL=Nh&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:a,timeout:l,onDownloadProgress:f,onUploadProgress:h,responseType:p,headers:g,withCredentials:y="same-origin",fetchOptions:E}=tx(n);p=p?(p+"").toLowerCase():"text";let A=jL([i,a&&a.toAbortSignal()],l),S;const C=A&&A.unsubscribe&&(()=>{A.unsubscribe()});let x;try{if(h&&qL&&t!=="get"&&t!=="head"&&(x=await WL(g,r))!==0){let W=new Request(e,{method:"POST",body:r,duplex:"half"}),X;if(ie.isFormData(r)&&(X=W.headers.get("content-type"))&&g.setContentType(X),W.body){const[R,T]=UE(x,Kd($E(h)));r=zE(W.body,qE,R,T)}}ie.isString(y)||(y=y?"include":"omit");const L="credentials"in Request.prototype;S=new Request(e,{...E,signal:A,method:t.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:L?y:void 0});let O=await fetch(S);const U=Wg&&(p==="stream"||p==="response");if(Wg&&(f||U&&C)){const W={};["status","statusText","headers"].forEach(I=>{W[I]=O[I]});const X=ie.toFiniteNumber(O.headers.get("content-length")),[R,T]=f&&UE(X,Kd($E(f),!0))||[];O=new Response(zE(O.body,qE,R,()=>{T&&T(),C&&C()}),W)}p=p||"text";let q=await Qd[ie.findKey(Qd,p)||"text"](O,n);return!U&&C&&C(),await new Promise((W,X)=>{ZT(W,X,{data:q,headers:ar.from(O.headers),status:O.status,statusText:O.statusText,config:n,request:S})})}catch(L){throw C&&C(),L&&L.name==="TypeError"&&/fetch/i.test(L.message)?Object.assign(new Ye("Network Error",Ye.ERR_NETWORK,n,S),{cause:L.cause||L}):Ye.from(L,L&&L.code,n,S)}}),Gg={http:lL,xhr:VL,fetch:GL};ie.forEach(Gg,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const HE=n=>`- ${n}`,KL=n=>ie.isFunction(n)||n===null||n===!1,ix={getAdapter:n=>{n=ie.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let a=0;a<e;a++){t=n[a];let l;if(r=t,!KL(t)&&(r=Gg[(l=String(t)).toLowerCase()],r===void 0))throw new Ye(`Unknown adapter '${l}'`);if(r)break;i[l||"#"+a]=r}if(!r){const a=Object.entries(i).map(([f,h])=>`adapter ${f} `+(h===!1?"is not supported by the environment":"is not available in the build"));let l=e?a.length>1?`since :
`+a.map(HE).join(`
`):" "+HE(a[0]):"as no adapter specified";throw new Ye("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:Gg};function rg(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Cl(null,n)}function WE(n){return rg(n),n.headers=ar.from(n.headers),n.data=ng.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),ix.getAdapter(n.adapter||pc.adapter)(n).then(function(r){return rg(n),r.data=ng.call(n,n.transformResponse,r),r.headers=ar.from(r.headers),r},function(r){return XT(r)||(rg(n),r&&r.response&&(r.response.data=ng.call(n,n.transformResponse,r.response),r.response.headers=ar.from(r.response.headers))),Promise.reject(r)})}const sx="1.7.9",Dh={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Dh[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const GE={};Dh.transitional=function(e,t,r){function i(a,l){return"[Axios v"+sx+"] Transitional option '"+a+"'"+l+(r?". "+r:"")}return(a,l,f)=>{if(e===!1)throw new Ye(i(l," has been removed"+(t?" in "+t:"")),Ye.ERR_DEPRECATED);return t&&!GE[l]&&(GE[l]=!0,console.warn(i(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,l,f):!0}};Dh.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function QL(n,e,t){if(typeof n!="object")throw new Ye("options must be an object",Ye.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const a=r[i],l=e[a];if(l){const f=n[a],h=f===void 0||l(f,a,n);if(h!==!0)throw new Ye("option "+a+" must be "+h,Ye.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ye("Unknown option "+a,Ye.ERR_BAD_OPTION)}}const wd={assertOptions:QL,validators:Dh},Ti=wd.validators;class $o{constructor(e){this.defaults=e,this.interceptors={request:new VE,response:new VE}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Xo(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:a}=t;r!==void 0&&wd.assertOptions(r,{silentJSONParsing:Ti.transitional(Ti.boolean),forcedJSONParsing:Ti.transitional(Ti.boolean),clarifyTimeoutError:Ti.transitional(Ti.boolean)},!1),i!=null&&(ie.isFunction(i)?t.paramsSerializer={serialize:i}:wd.assertOptions(i,{encode:Ti.function,serialize:Ti.function},!0)),wd.assertOptions(t,{baseUrl:Ti.spelling("baseURL"),withXsrfToken:Ti.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=a&&ie.merge(a.common,a[t.method]);a&&ie.forEach(["delete","get","head","post","put","patch","common"],S=>{delete a[S]}),t.headers=ar.concat(l,a);const f=[];let h=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(t)===!1||(h=h&&C.synchronous,f.unshift(C.fulfilled,C.rejected))});const p=[];this.interceptors.response.forEach(function(C){p.push(C.fulfilled,C.rejected)});let g,y=0,E;if(!h){const S=[WE.bind(this),void 0];for(S.unshift.apply(S,f),S.push.apply(S,p),E=S.length,g=Promise.resolve(t);y<E;)g=g.then(S[y++],S[y++]);return g}E=f.length;let A=t;for(y=0;y<E;){const S=f[y++],C=f[y++];try{A=S(A)}catch(x){C.call(this,x);break}}try{g=WE.call(this,A)}catch(S){return Promise.reject(S)}for(y=0,E=p.length;y<E;)g=g.then(p[y++],p[y++]);return g}getUri(e){e=Xo(this.defaults,e);const t=ex(e.baseURL,e.url);return QT(t,e.params,e.paramsSerializer)}}ie.forEach(["delete","get","head","options"],function(e){$o.prototype[e]=function(t,r){return this.request(Xo(r||{},{method:e,url:t,data:(r||{}).data}))}});ie.forEach(["post","put","patch"],function(e){function t(r){return function(a,l,f){return this.request(Xo(f||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}$o.prototype[e]=t(),$o.prototype[e+"Form"]=t(!0)});class ev{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const l=new Promise(f=>{r.subscribe(f),a=f}).then(i);return l.cancel=function(){r.unsubscribe(a)},l},e(function(a,l,f){r.reason||(r.reason=new Cl(a,l,f),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new ev(function(i){e=i}),cancel:e}}}function JL(n){return function(t){return n.apply(null,t)}}function YL(n){return ie.isObject(n)&&n.isAxiosError===!0}const Kg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Kg).forEach(([n,e])=>{Kg[e]=n});function ox(n){const e=new $o(n),t=FT($o.prototype.request,e);return ie.extend(t,$o.prototype,e,{allOwnKeys:!0}),ie.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return ox(Xo(n,i))},t}const Wt=ox(pc);Wt.Axios=$o;Wt.CanceledError=Cl;Wt.CancelToken=ev;Wt.isCancel=XT;Wt.VERSION=sx;Wt.toFormData=Oh;Wt.AxiosError=Ye;Wt.Cancel=Wt.CanceledError;Wt.all=function(e){return Promise.all(e)};Wt.spread=JL;Wt.isAxiosError=YL;Wt.mergeConfig=Xo;Wt.AxiosHeaders=ar;Wt.formToJSON=n=>YT(ie.isHTMLForm(n)?new FormData(n):n);Wt.getAdapter=ix.getAdapter;Wt.HttpStatusCode=Kg;Wt.default=Wt;const Ku=Wt.create({baseURL:"https://api.themoviedb.org/3"}),Oo=[{identifier:"en",name:"English",placeholder:"🔍 What would you like to watch today? ChatGPT is happy to help...",buttonText:"Search"},{identifier:"hi",name:"Hindi",placeholder:"🔍 मूवीज़, शो या ChatGPT से पूछें...",buttonText:"खोजें"},{identifier:"es",name:"Spanish",placeholder:"🔍 Busca películas, series o pregunta a ChatGPT...",buttonText:"Buscar"},{identifier:"zh",name:"Chinese",placeholder:"🔍 搜索电影、节目或询问ChatGPT...",buttonText:"搜索"},{identifier:"ar",name:"Arabic",placeholder:"🔍 ابحث عن أفلام، عروض أو اسأل ChatGPT...",buttonText:"بحث"},{identifier:"fr",name:"French",placeholder:"🔍 Cherchez des films, séries ou demandez à ChatGPT...",buttonText:"Rechercher"},{identifier:"de",name:"German",placeholder:"🔍 Suchen Sie Filme, Serien oder fragen Sie ChatGPT...",buttonText:"Suchen"},{identifier:"ru",name:"Russian",placeholder:"🔍 Ищите фильмы, сериалы или спрашивайте у ChatGPT...",buttonText:"Поиск"},{identifier:"pt",name:"Portuguese",placeholder:"🔍 Pesquise filmes, séries ou pergunte ao ChatGPT...",buttonText:"Pesquisar"},{identifier:"bn",name:"Bengali",placeholder:"🔍 সিনেমা, শো বা ChatGPT-কে প্রশ্ন করুন...",buttonText:"অনুসন্ধান"},{identifier:"ja",name:"Japanese",placeholder:"🔍 映画、番組、またはChatGPTに質問...",buttonText:"検索"},{identifier:"ko",name:"Korean",placeholder:"🔍 영화, 프로그램, 또는 ChatGPT에 질문...",buttonText:"검색"}],tv={headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI4Njc1MTMwMDEzYWVkMmYyZGVlNzViYzlhNGI2MDRmYiIsIm5iZiI6MTYxMTY3MTc4My4wNjksInN1YiI6IjYwMTAyOGU3ZWQyOGI5MDAzZmZlMTJkZiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.wz_F2KCmdtR3rthS9y3mJT15SNXgCQayH5OKKgf3aMM"}},nv="https://image.tmdb.org/t/p/original",XL="https://image.tmdb.org/t/p/original/4vCh8R4yd6ybOmbxRAPOzaXmLTV.jpg",ZL=({title:n,fetchUrl:e,isLargeRow:t=!1})=>{const[r,i]=Q.useState([]),[a,l]=Q.useState(""),f=nv;async function h(){try{const y=await Ku.get(e);return i(y.data.results),y}catch(y){console.log(y)}}Q.useEffect(()=>{h()},[e]);const p={height:"450",width:"95%",playerVars:{autoplay:1}},g=y=>{a?l(""):b2(y.name||y.title||"Father of the Bride").then(E=>{if(console.log("fullUrl",E),E){const A=new URL(E).search,C=new URLSearchParams(A).get("v");C&&l(()=>C)}}).catch(E=>{l(()=>""),console.log(E)})};return V.jsxs("div",{className:"row",children:[V.jsx("h2",{children:n}),V.jsx("div",{className:"row__posters",children:r==null?void 0:r.map(y=>(t&&y.poster_path||!t&&y.backdrop_path)&&V.jsx("div",{className:`row__poster ${t&&"row__posterLarge"}`,children:V.jsx("div",{className:"row__posters--ImageContainer",children:V.jsx(NT.LazyLoadImage,{effect:"blur",placeholderSrc:"https://image.tmdb.org/t/p/original/4EYPN5mVIhKLfxGruy7Dy41dTVn.jpg",onClick:()=>g(y),src:`${f}${t?y.poster_path||console.log("here"):y.backdrop_path}`,alt:y.name},y.id)})}))}),V.jsx("div",{onClick:()=>l(()=>""),children:a&&V.jsx(o2,{videoId:a,opts:p})})]})},tn=Q.memo(ZL),rv="/assets/logo-DCQrVztK.png",ax="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAFACAMAAAD6TlWYAAAAM1BMVEX////w9/fh7+/S5+fD39+z19ekz8+Vx8eGv8B3trhorrBZpqhKnqA6lpgrjpAchogNfoCu3ygvAAAGaUlEQVR4nO3d23qiMAAAYURQFATf/2lXa7vWVSBkBMN+M3e9KOJfDhJsyM6Gyj69AmtPQJiAMAFhAsIEhAkIExAmIExAmIAwAWECwgSECQgTECYgTECYgDABYQLCBIQJCBMQJiBMQJiAMAFhAsIEhAkIExAmIExAmIAwAWECwgSECQgTECYgTECYgDABYQLCBIQJCBMQJiBMQJiAMAFhAsIEhAkIExAmIExAmIAwAWECwgSECQgTECYgTECYgDABYQLCBIQJCBMQJiBMQJiAMAFhAsIEhAkIExAmIExAmIAwAWECwt4D2DRN95YFfai2aU6Rv4oB20O5yb4q9rEr8dHq/fa2/nl5jNgKIGBTZr/Lj2xxi9dV+cMb2LVTl4AAu0e+L8KGLHDp6s3TG9hP3AoJYPP88tc1AEtctm73av3zaQciAHh89fLX3SB+kYvWbV+v/2aSYDxgn99aBPv8JgpGA556/VayFz8fv++CE04lsYBd3v/6WVZHLnXBDkPrvw1fTizgfuj1szz5j9XtyxPg3w7BC4oEbAdfPsuquMUu18sT8L1N8BYQCTi8AV5WIG6xi9WNrH/4JhgJOLwDZMkfBQePgNeCj4JxgM3Y66f+UaYYfQOhJ+I4wGr09fOo5S7W6PpnoVf1cYDjf8As6fPw+B4U/Fk2DrD3Q/y9pAcV6vH1LwIXFQc4/vppA44fggQcTEDYxwEDTiJJAwacROYFHBjJ+Cnps/DQUNJ3856F/Rx4X1LU64//BRO/Ehnfhea9EjkPjgZeS/xauH84/buZr4VH9+HE9+BzNzYaEnx/NhJwbAWSvz88sgWEbwCxI9LDK5D6Bji6BYRvANE3lQYvh5P+EHhr8HI49EPgmdyVG/gTht9R+GADg/pTbunE3xfuF0z8I8xPvYLL3BfuF1yJX6/gUt9MuAi+PA4mfwK+9/JMuJ12Ecq+nfW8BsWqviPYPG0Cm6k3ZOH3A9vdw35crOD0+9hx+8g3eQyEf8W33t8Gt/LyMPnbiSnUHsrbhWmxj7n+9EvmMAFhAsIEhAkIExAmIExAmIAwAWECwgSECQgTECYgTECYgDABYQLCBIQJCBMQJiBMQJiAMAFhAsIEhAkIExAmIExAmIAwAWECwgSECQgTECYgTECYgDABYQLCBIQJ+FQ76dkiAj72/XyMMvj/dgX8XVf9/ffneScf+z/7xRcumBjg6VAdPzRpwCNfFjr5TVKAx9u/jucfmLnsn7kLvv6DPegXUwK8T0NSLjx5QPNyBpSg+RMSAnx4E1MfbUQ69sxoGrQPpwP4z7ymERNoRNVWvXMhrgzwaVLJTTX/jlwPTWW5MsBXb2E36xm53Q9PxLmuY2DPzMTFXDNJtYex+ezLoOWkDnjZk2fYDLtjwETOYS+bDODQM2bytz61c3zb+ypw008GcGRi4HcZ1iPHvZ82884jPUejk3tvdkd2Wm6qgCnsb4U/pDQdwOEn1X233cchdnU43rRnvKYDODgr6+82ZVVPeIeni13YbhvBlxTguZ2wkWTFrqqHH6t9ag5VGXS+iOdLC/ByVRq4Ed7Li2JfVdWx+am+/FQVxZS/xb2Ii5+0AF9NKrpc+WH5R4S/v3bkoY2zFXnNkxzgZwjjL3cSBLxe5U8+FqK2Mfvud0kCXo6Fh0mfPEjwWjtRwPPIUN3bKuloT7qAg4PF79Ljo94pA146Pd8sS0nvnDzgpXoGw83uPXrnNQBeOu0nX5ENVFTvHF1cBeCl9rh7xwFxu6/ffLNvLYDXGOKmrOZ4VMKaAK91TcQISz5tAGxSawO81dRVWQScWzZfg16zrso6Ab87XQev9sXj4FV+/bmqqqZZ5As2qwZMIQFhAsIEhAkIExAmIExAmIAwAWECwgSECQgTECYgTECYgDABYQLCBIQJCBMQJiBMQJiAMAFhAsIEhAkIExAmIExAmIAwAWECwgSECQgTECYgTECYgDABYQLCBIQJCBMQJiBMQJiAMAFhAsIEhAkIExAmIExAmIAwAWECwgSECQgTECYgTECYgDABYQLCBIQJCBMQJiBMQJiAMAFhAsIEhAkIExAmIExAmIAwAWECwgSECQgTECYgTECYgDABYQLCBIQJCBMQJiBMQJiAMAFhAsIEhAkIExAmIExAmIAwAWECwgSECQgTECYgTECYgDABYQLCBIQJCBMQJiDsDyaJ+FLzeNcQAAAAAElFTkSuQmCC",iv=({handleGptSearch:n,isChatGptSearch:e,isShowLanguage:t=!1})=>{const r=xS(),{selectedLanguage:i}=Ry(g=>g.language),a=sc(),[l,f]=Q.useState(!1),h=()=>{window.scrollY>100?f(!0):f(!1)};Q.useEffect(()=>(window.addEventListener("scroll",h),()=>window.removeEventListener("scroll",h)),[]);const p=g=>{r(SR(g))};return V.jsx("div",{className:`nav fixed top-0 p-5 w-full h-[30px] z-10 transition-all duration-500 ${l?"bg-gray-900 h-[40px]":""}`,children:V.jsxs("div",{className:"nav__contents flex justify-between cursor-pointer",children:[V.jsx("img",{onClick:()=>a("/"),className:"fixed top-3 left-0 w-[95px] pl-5 cursor-pointer",src:rv,alt:"logo"}),V.jsxs("div",{className:"fixed top-3 right-5 flex items-center space-x-6 cursor-pointer",children:[t&&V.jsx("div",{className:"language-select  ",children:V.jsx("select",{value:i,onChange:g=>p(g.target.value),className:"py-3 px-4 rounded-md text-sm outline-none font-bold",children:Oo.map(g=>V.jsx("option",{value:g.identifier,children:g.name},g.identifier))})}),n?V.jsx("div",{children:V.jsx("button",{onClick:n,className:`py-2 px-6 text-white rounded-lg font-semibold text-lg transform transition-all duration-300 ease-in-out ${e?"bg-[#b20710] hover:bg-[#e50914] shadow-xl":"bg-[#e50914] hover:bg-[#b20710] shadow-md"} hover:scale-105 focus:outline-none focus:ring-2 focus:ring-[#e50914]`,children:e?"Back to Movies":"ChatGPT Search"})}):null,V.jsx("div",{children:V.jsx("img",{onClick:()=>a("/profile"),className:"w-[35px] cursor-pointer",src:ax,alt:"profile"})})]})]})})};var ig,KE;function eM(){if(KE)return ig;KE=1;function n(L){this._maxSize=L,this.clear()}n.prototype.clear=function(){this._size=0,this._values=Object.create(null)},n.prototype.get=function(L){return this._values[L]},n.prototype.set=function(L,O){return this._size>=this._maxSize&&this.clear(),L in this._values||this._size++,this._values[L]=O};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,t=/^\d+$/,r=/^\d/,i=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,a=/^\s*(['"]?)(.*?)(\1)\s*$/,l=512,f=new n(l),h=new n(l),p=new n(l);ig={Cache:n,split:y,normalizePath:g,setter:function(L){var O=g(L);return h.get(L)||h.set(L,function(q,W){for(var X=0,R=O.length,T=q;X<R-1;){var I=O[X];if(I==="__proto__"||I==="constructor"||I==="prototype")return q;T=T[O[X++]]}T[O[X]]=W})},getter:function(L,O){var U=g(L);return p.get(L)||p.set(L,function(W){for(var X=0,R=U.length;X<R;)if(W!=null||!O)W=W[U[X++]];else return;return W})},join:function(L){return L.reduce(function(O,U){return O+(A(U)||t.test(U)?"["+U+"]":(O?".":"")+U)},"")},forEach:function(L,O,U){E(Array.isArray(L)?L:y(L),O,U)}};function g(L){return f.get(L)||f.set(L,y(L).map(function(O){return O.replace(a,"$2")}))}function y(L){return L.match(e)||[""]}function E(L,O,U){var q=L.length,W,X,R,T;for(X=0;X<q;X++)W=L[X],W&&(x(W)&&(W='"'+W+'"'),T=A(W),R=!T&&/^\d+$/.test(W),O.call(U,W,T,R,X,L))}function A(L){return typeof L=="string"&&L&&["'",'"'].indexOf(L.charAt(0))!==-1}function S(L){return L.match(r)&&!L.match(t)}function C(L){return i.test(L)}function x(L){return!A(L)&&(S(L)||C(L))}return ig}var Bo=eM(),sg,QE;function tM(){if(QE)return sg;QE=1;const n=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=g=>g.match(n)||[],t=g=>g[0].toUpperCase()+g.slice(1),r=(g,y)=>e(g).join(y).toLowerCase(),i=g=>e(g).reduce((y,E)=>`${y}${y?E[0].toUpperCase()+E.slice(1).toLowerCase():E.toLowerCase()}`,"");return sg={words:e,upperFirst:t,camelCase:i,pascalCase:g=>t(i(g)),snakeCase:g=>r(g,"_"),kebabCase:g=>r(g,"-"),sentenceCase:g=>t(r(g," ")),titleCase:g=>e(g).map(t).join(" ")},sg}var og=tM(),Xf={exports:{}},JE;function nM(){if(JE)return Xf.exports;JE=1,Xf.exports=function(i){return n(e(i),i)},Xf.exports.array=n;function n(i,a){var l=i.length,f=new Array(l),h={},p=l,g=t(a),y=r(i);for(a.forEach(function(A){if(!y.has(A[0])||!y.has(A[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});p--;)h[p]||E(i[p],p,new Set);return f;function E(A,S,C){if(C.has(A)){var x;try{x=", node was:"+JSON.stringify(A)}catch{x=""}throw new Error("Cyclic dependency"+x)}if(!y.has(A))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(A));if(!h[S]){h[S]=!0;var L=g.get(A)||new Set;if(L=Array.from(L),S=L.length){C.add(A);do{var O=L[--S];E(O,y.get(O),C)}while(S);C.delete(A)}f[--l]=A}}}function e(i){for(var a=new Set,l=0,f=i.length;l<f;l++){var h=i[l];a.add(h[0]),a.add(h[1])}return Array.from(a)}function t(i){for(var a=new Map,l=0,f=i.length;l<f;l++){var h=i[l];a.has(h[0])||a.set(h[0],new Set),a.has(h[1])||a.set(h[1],new Set),a.get(h[0]).add(h[1])}return a}function r(i){for(var a=new Map,l=0,f=i.length;l<f;l++)a.set(i[l],l);return a}return Xf.exports}var rM=nM();const iM=El(rM),sM=Object.prototype.toString,oM=Error.prototype.toString,aM=RegExp.prototype.toString,lM=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",uM=/^Symbol\((.*)\)(.*)$/;function cM(n){return n!=+n?"NaN":n===0&&1/n<0?"-0":""+n}function YE(n,e=!1){if(n==null||n===!0||n===!1)return""+n;const t=typeof n;if(t==="number")return cM(n);if(t==="string")return e?`"${n}"`:n;if(t==="function")return"[Function "+(n.name||"anonymous")+"]";if(t==="symbol")return lM.call(n).replace(uM,"Symbol($1)");const r=sM.call(n).slice(8,-1);return r==="Date"?isNaN(n.getTime())?""+n:n.toISOString(n):r==="Error"||n instanceof Error?"["+oM.call(n)+"]":r==="RegExp"?aM.call(n):null}function Xs(n,e){let t=YE(n,e);return t!==null?t:JSON.stringify(n,function(r,i){let a=YE(this[r],e);return a!==null?a:i},2)}function lx(n){return n==null?[]:[].concat(n)}let ux,cx,fx,fM=/\$\{\s*(\w+)\s*\}/g;ux=Symbol.toStringTag;class XE{constructor(e,t,r,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[ux]="Error",this.name="ValidationError",this.value=t,this.path=r,this.type=i,this.errors=[],this.inner=[],lx(e).forEach(a=>{if(or.isError(a)){this.errors.push(...a.errors);const l=a.inner.length?a.inner:[a];this.inner.push(...l)}else this.errors.push(a)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}cx=Symbol.hasInstance;fx=Symbol.toStringTag;class or extends Error{static formatError(e,t){const r=t.label||t.path||"this";return t=Object.assign({},t,{path:r,originalPath:t.path}),typeof e=="string"?e.replace(fM,(i,a)=>Xs(t[a])):typeof e=="function"?e(t):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,t,r,i,a){const l=new XE(e,t,r,i);if(a)return l;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[fx]="Error",this.name=l.name,this.message=l.message,this.type=l.type,this.value=l.value,this.path=l.path,this.errors=l.errors,this.inner=l.inner,Error.captureStackTrace&&Error.captureStackTrace(this,or)}static[cx](e){return XE[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Ai={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:n,type:e,value:t,originalValue:r})=>{const i=r!=null&&r!==t?` (cast from the value \`${Xs(r,!0)}\`).`:".";return e!=="mixed"?`${n} must be a \`${e}\` type, but the final value was: \`${Xs(t,!0)}\``+i:`${n} must match the configured type. The validated value was: \`${Xs(t,!0)}\``+i}},nr={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},dM={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Qg={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},hM={isValue:"${path} field must be ${value}"},Ed={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},pM={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},mM={notType:n=>{const{path:e,value:t,spec:r}=n,i=r.types.length;if(Array.isArray(t)){if(t.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${t.length} for value: \`${Xs(t,!0)}\``;if(t.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${t.length} for value: \`${Xs(t,!0)}\``}return or.formatError(Ai.notType,n)}};Object.assign(Object.create(null),{mixed:Ai,string:nr,number:dM,date:Qg,object:Ed,array:pM,boolean:hM,tuple:mM});const sv=n=>n&&n.__isYupSchema__;class Jd{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:a}=t,l=typeof r=="function"?r:(...f)=>f.every(h=>h===r);return new Jd(e,(f,h)=>{var p;let g=l(...f)?i:a;return(p=g==null?void 0:g(h))!=null?p:h})}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let r=this.refs.map(a=>a.getValue(t==null?void 0:t.value,t==null?void 0:t.parent,t==null?void 0:t.context)),i=this.fn(r,e,t);if(i===void 0||i===e)return e;if(!sv(i))throw new TypeError("conditions must return a schema object");return i.resolve(t)}}const Zf={context:"$",value:"."};class ia{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Zf.context,this.isValue=this.key[0]===Zf.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?Zf.context:this.isValue?Zf.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&Bo.getter(this.path,!0),this.map=t.map}getValue(e,t,r){let i=this.isContext?r:this.isValue?e:t;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,t){return this.getValue(e,t==null?void 0:t.parent,t==null?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}ia.prototype.__isYupRef=!0;const Fo=n=>n==null;function Ga(n){function e({value:t,path:r="",options:i,originalValue:a,schema:l},f,h){const{name:p,test:g,params:y,message:E,skipAbsent:A}=n;let{parent:S,context:C,abortEarly:x=l.spec.abortEarly,disableStackTrace:L=l.spec.disableStackTrace}=i;function O(D){return ia.isRef(D)?D.getValue(t,S,C):D}function U(D={}){const M=Object.assign({value:t,originalValue:a,label:l.spec.label,path:D.path||r,spec:l.spec,disableStackTrace:D.disableStackTrace||L},y,D.params);for(const Pe of Object.keys(M))M[Pe]=O(M[Pe]);const k=new or(or.formatError(D.message||E,M),t,M.path,D.type||p,M.disableStackTrace);return k.params=M,k}const q=x?f:h;let W={path:r,parent:S,type:p,from:i.from,createError:U,resolve:O,options:i,originalValue:a,schema:l};const X=D=>{or.isError(D)?q(D):D?h(null):q(U())},R=D=>{or.isError(D)?q(D):f(D)};if(A&&Fo(t))return X(!0);let I;try{var N;if(I=g.call(W,t,W),typeof((N=I)==null?void 0:N.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${W.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(I).then(X,R)}}catch(D){R(D);return}X(I)}return e.OPTIONS=n,e}function gM(n,e,t,r=t){let i,a,l;return e?(Bo.forEach(e,(f,h,p)=>{let g=h?f.slice(1,f.length-1):f;n=n.resolve({context:r,parent:i,value:t});let y=n.type==="tuple",E=p?parseInt(g,10):0;if(n.innerType||y){if(y&&!p)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${l}" must contain an index to the tuple element, e.g. "${l}[0]"`);if(t&&E>=t.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${f}, in the path: ${e}. because there is no value at that index. `);i=t,t=t&&t[E],n=y?n.spec.types[E]:n.innerType}if(!p){if(!n.fields||!n.fields[g])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${l} which is a type: "${n.type}")`);i=t,t=t&&t[g],n=n.fields[g]}a=g,l=h?"["+f+"]":"."+f}),{schema:n,parent:i,parentPath:a}):{parent:i,parentPath:e,schema:n}}class Yd extends Set{describe(){const e=[];for(const t of this.values())e.push(ia.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const r of this.values())t.push(e(r));return t}clone(){return new Yd(this.values())}merge(e,t){const r=this.clone();return e.forEach(i=>r.add(i)),t.forEach(i=>r.delete(i)),r}}function nl(n,e=new Map){if(sv(n)||!n||typeof n!="object")return n;if(e.has(n))return e.get(n);let t;if(n instanceof Date)t=new Date(n.getTime()),e.set(n,t);else if(n instanceof RegExp)t=new RegExp(n),e.set(n,t);else if(Array.isArray(n)){t=new Array(n.length),e.set(n,t);for(let r=0;r<n.length;r++)t[r]=nl(n[r],e)}else if(n instanceof Map){t=new Map,e.set(n,t);for(const[r,i]of n.entries())t.set(r,nl(i,e))}else if(n instanceof Set){t=new Set,e.set(n,t);for(const r of n)t.add(nl(r,e))}else if(n instanceof Object){t={},e.set(n,t);for(const[r,i]of Object.entries(n))t[r]=nl(i,e)}else throw Error(`Unable to clone ${n}`);return t}class Li{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Yd,this._blacklist=new Yd,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Ai.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(t=>{t.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=nl(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(e.length===0)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=t,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,r=e.clone();const i=Object.assign({},t.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},t.internalTests,r.internalTests),r._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),r.tests=t.tests,r.exclusiveTests=t.exclusiveTests,r.withMutation(a=>{e.tests.forEach(l=>{a.test(l.OPTIONS)})}),r.transforms=[...t.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let r=t.conditions;t=t.clone(),t.conditions=[],t=r.reduce((i,a)=>a.resolve(i,e),t),t=t.resolve(e)}return t}resolveOptions(e){var t,r,i,a;return Object.assign({},e,{from:e.from||[],strict:(t=e.strict)!=null?t:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(a=e.disableStackTrace)!=null?a:this.spec.disableStackTrace})}cast(e,t={}){let r=this.resolve(Object.assign({value:e},t)),i=t.assert==="ignore-optionality",a=r._cast(e,t);if(t.assert!==!1&&!r.isType(a)){if(i&&Fo(a))return a;let l=Xs(e),f=Xs(a);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${l} 
`+(f!==l?`result of cast: ${f}`:""))}return a}_cast(e,t){let r=e===void 0?e:this.transforms.reduce((i,a)=>a.call(this,i,e,this),e);return r===void 0&&(r=this.getDefault(t)),r}_validate(e,t={},r,i){let{path:a,originalValue:l=e,strict:f=this.spec.strict}=t,h=e;f||(h=this._cast(h,Object.assign({assert:!1},t)));let p=[];for(let g of Object.values(this.internalTests))g&&p.push(g);this.runTests({path:a,value:h,originalValue:l,options:t,tests:p},r,g=>{if(g.length)return i(g,h);this.runTests({path:a,value:h,originalValue:l,options:t,tests:this.tests},r,i)})}runTests(e,t,r){let i=!1,{tests:a,value:l,originalValue:f,path:h,options:p}=e,g=C=>{i||(i=!0,t(C,l))},y=C=>{i||(i=!0,r(C,l))},E=a.length,A=[];if(!E)return y([]);let S={value:l,originalValue:f,path:h,options:p,schema:this};for(let C=0;C<a.length;C++){const x=a[C];x(S,g,function(O){O&&(Array.isArray(O)?A.push(...O):A.push(O)),--E<=0&&y(A)})}}asNestedTest({key:e,index:t,parent:r,parentPath:i,originalParent:a,options:l}){const f=e??t;if(f==null)throw TypeError("Must include `key` or `index` for nested validations");const h=typeof f=="number";let p=r[f];const g=Object.assign({},l,{strict:!0,parent:r,value:p,originalValue:a[f],key:void 0,[h?"index":"key"]:f,path:h||f.includes(".")?`${i||""}[${h?f:`"${f}"`}]`:(i?`${i}.`:"")+e});return(y,E,A)=>this.resolve(g)._validate(p,g,E,A)}validate(e,t){var r;let i=this.resolve(Object.assign({},t,{value:e})),a=(r=t==null?void 0:t.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((l,f)=>i._validate(e,t,(h,p)=>{or.isError(h)&&(h.value=p),f(h)},(h,p)=>{h.length?f(new or(h,p,void 0,void 0,a)):l(p)}))}validateSync(e,t){var r;let i=this.resolve(Object.assign({},t,{value:e})),a,l=(r=t==null?void 0:t.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(e,Object.assign({},t,{sync:!0}),(f,h)=>{throw or.isError(f)&&(f.value=h),f},(f,h)=>{if(f.length)throw new or(f,e,void 0,void 0,l);a=h}),a}isValid(e,t){return this.validate(e,t).then(()=>!0,r=>{if(or.isError(r))return!1;throw r})}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(r){if(or.isError(r))return!1;throw r}}_getDefault(e){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this,e):nl(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const r=this.clone({nullable:e});return r.internalTests.nullable=Ga({message:t,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(e,t){const r=this.clone({optional:e});return r.internalTests.optionality=Ga({message:t,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=Ai.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Ai.notNull){return this.nullability(!1,e)}required(e=Ai.required){return this.clone().withMutation(t=>t.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(e.length===1?typeof e[0]=="function"?t={test:e[0]}:t=e[0]:e.length===2?t={name:e[0],test:e[1]}:t={name:e[0],message:e[1],test:e[2]},t.message===void 0&&(t.message=Ai.default),typeof t.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=Ga(t),a=t.exclusive||t.name&&r.exclusiveTests[t.name]===!0;if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(r.exclusiveTests[t.name]=!!t.exclusive),r.tests=r.tests.filter(l=>!(l.OPTIONS.name===t.name&&(a||l.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(e,t){!Array.isArray(e)&&typeof e!="string"&&(t=e,e=".");let r=this.clone(),i=lx(e).map(a=>new ia(a));return i.forEach(a=>{a.isSibling&&r.deps.push(a.key)}),r.conditions.push(typeof t=="function"?new Jd(i,t):Jd.fromOptions(i,t)),r}typeError(e){let t=this.clone();return t.internalTests.typeError=Ga({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=Ai.oneOf){let r=this.clone();return e.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=Ga({message:t,name:"oneOf",skipAbsent:!0,test(i){let a=this.schema._whitelist,l=a.resolveAll(this.resolve);return l.includes(i)?!0:this.createError({params:{values:Array.from(a).join(", "),resolved:l}})}}),r}notOneOf(e,t=Ai.notOneOf){let r=this.clone();return e.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=Ga({message:t,name:"notOneOf",test(i){let a=this.schema._blacklist,l=a.resolveAll(this.resolve);return l.includes(i)?this.createError({params:{values:Array.from(a).join(", "),resolved:l}}):!0}}),r}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:r,meta:i,optional:a,nullable:l}=t.spec;return{meta:i,label:r,optional:a,nullable:l,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map(h=>({name:h.OPTIONS.name,params:h.OPTIONS.params})).filter((h,p,g)=>g.findIndex(y=>y.name===h.name)===p)}}}Li.prototype.__isYupSchema__=!0;for(const n of["validate","validateSync"])Li.prototype[`${n}At`]=function(e,t,r={}){const{parent:i,parentPath:a,schema:l}=gM(this,e,t,r.context);return l[n](i&&i[a],Object.assign({},r,{parent:i,path:e}))};for(const n of["equals","is"])Li.prototype[n]=Li.prototype.oneOf;for(const n of["not","nope"])Li.prototype[n]=Li.prototype.notOneOf;const yM=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function vM(n){const e=Jg(n);if(!e)return Date.parse?Date.parse(n):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let t=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(t=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(t=0-t)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+t,e.second,e.millisecond)}function Jg(n){var e,t;const r=yM.exec(n);return r?{year:Xi(r[1]),month:Xi(r[2],1)-1,day:Xi(r[3],1),hour:Xi(r[4]),minute:Xi(r[5]),second:Xi(r[6]),millisecond:r[7]?Xi(r[7].substring(0,3)):0,precision:(e=(t=r[7])==null?void 0:t.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:Xi(r[10]),minuteOffset:Xi(r[11])}:null}function Xi(n,e=0){return Number(n)||e}let _M=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,wM=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,EM=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,bM="^\\d{4}-\\d{2}-\\d{2}",SM="\\d{2}:\\d{2}:\\d{2}",TM="(([+-]\\d{2}(:?\\d{2})?)|Z)",xM=new RegExp(`${bM}T${SM}(\\.\\d+)?${TM}$`),AM=n=>Fo(n)||n===n.trim(),IM={}.toString();function Yg(){return new dx}class dx extends Li{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,t,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===IM?e:i})})}required(e){return super.required(e).withMutation(t=>t.test({message:e||Ai.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(t=>t.OPTIONS.name!=="required"),e))}length(e,t=nr.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,t=nr.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,t=nr.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,t){let r=!1,i,a;return t&&(typeof t=="object"?{excludeEmptyString:r=!1,message:i,name:a}=t:i=t),this.test({name:a||"matches",message:i||nr.matches,params:{regex:e},skipAbsent:!0,test:l=>l===""&&r||l.search(e)!==-1})}email(e=nr.email){return this.matches(_M,{name:"email",message:e,excludeEmptyString:!0})}url(e=nr.url){return this.matches(wM,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=nr.uuid){return this.matches(EM,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t="",r,i;return e&&(typeof e=="object"?{message:t="",allowOffset:r=!1,precision:i=void 0}=e:t=e),this.matches(xM,{name:"datetime",message:t||nr.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:t||nr.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:a=>{if(!a||r)return!0;const l=Jg(a);return l?!!l.z:!1}}).test({name:"datetime_precision",message:t||nr.datetime_precision,params:{precision:i},skipAbsent:!0,test:a=>{if(!a||i==null)return!0;const l=Jg(a);return l?l.precision===i:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=nr.trim){return this.transform(t=>t!=null?t.trim():t).test({message:e,name:"trim",test:AM})}lowercase(e=nr.lowercase){return this.transform(t=>Fo(t)?t:t.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>Fo(t)||t===t.toLowerCase()})}uppercase(e=nr.uppercase){return this.transform(t=>Fo(t)?t:t.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>Fo(t)||t===t.toUpperCase()})}}Yg.prototype=dx.prototype;let PM=new Date(""),CM=n=>Object.prototype.toString.call(n)==="[object Date]";class Lh extends Li{constructor(){super({type:"date",check(e){return CM(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,t,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=vM(e),isNaN(e)?Lh.INVALID_DATE:new Date(e)))})}prepareParam(e,t){let r;if(ia.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,t=Qg.min){let r=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(e,t=Qg.max){let r=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}Lh.INVALID_DATE=PM;Lh.prototype;function RM(n,e=[]){let t=[],r=new Set,i=new Set(e.map(([l,f])=>`${l}-${f}`));function a(l,f){let h=Bo.split(l)[0];r.add(h),i.has(`${f}-${h}`)||t.push([f,h])}for(const l of Object.keys(n)){let f=n[l];r.add(l),ia.isRef(f)&&f.isSibling?a(f.path,l):sv(f)&&"deps"in f&&f.deps.forEach(h=>a(h,l))}return iM.array(Array.from(r),t).reverse()}function ZE(n,e){let t=1/0;return n.some((r,i)=>{var a;if((a=e.path)!=null&&a.includes(r))return t=i,!0}),t}function hx(n){return(e,t)=>ZE(n,e)-ZE(n,t)}const kM=(n,e,t)=>{if(typeof n!="string")return n;let r=n;try{r=JSON.parse(n)}catch{}return t.isType(r)?r:n};function bd(n){if("fields"in n){const e={};for(const[t,r]of Object.entries(n.fields))e[t]=bd(r);return n.setFields(e)}if(n.type==="array"){const e=n.optional();return e.innerType&&(e.innerType=bd(e.innerType)),e}return n.type==="tuple"?n.optional().clone({types:n.spec.types.map(bd)}):"optional"in n?n.optional():n}const OM=(n,e)=>{const t=[...Bo.normalizePath(e)];if(t.length===1)return t[0]in n;let r=t.pop(),i=Bo.getter(Bo.join(t),!0)(n);return!!(i&&r in i)};let eb=n=>Object.prototype.toString.call(n)==="[object Object]";function tb(n,e){let t=Object.keys(n.fields);return Object.keys(e).filter(r=>t.indexOf(r)===-1)}const NM=hx([]);function px(n){return new mx(n)}class mx extends Li{constructor(e){super({type:"object",check(t){return eb(t)||typeof t=="function"}}),this.fields=Object.create(null),this._sortErrors=NM,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,t={}){var r;let i=super._cast(e,t);if(i===void 0)return this.getDefault(t);if(!this._typeCheck(i))return i;let a=this.fields,l=(r=t.stripUnknown)!=null?r:this.spec.noUnknown,f=[].concat(this._nodes,Object.keys(i).filter(y=>!this._nodes.includes(y))),h={},p=Object.assign({},t,{parent:h,__validating:t.__validating||!1}),g=!1;for(const y of f){let E=a[y],A=y in i;if(E){let S,C=i[y];p.path=(t.path?`${t.path}.`:"")+y,E=E.resolve({value:C,context:t.context,parent:h});let x=E instanceof Li?E.spec:void 0,L=x==null?void 0:x.strict;if(x!=null&&x.strip){g=g||y in i;continue}S=!t.__validating||!L?E.cast(i[y],p):i[y],S!==void 0&&(h[y]=S)}else A&&!l&&(h[y]=i[y]);(A!==y in h||h[y]!==i[y])&&(g=!0)}return g?h:i}_validate(e,t={},r,i){let{from:a=[],originalValue:l=e,recursive:f=this.spec.recursive}=t;t.from=[{schema:this,value:l},...a],t.__validating=!0,t.originalValue=l,super._validate(e,t,r,(h,p)=>{if(!f||!eb(p)){i(h,p);return}l=l||p;let g=[];for(let y of this._nodes){let E=this.fields[y];!E||ia.isRef(E)||g.push(E.asNestedTest({options:t,key:y,parent:p,parentPath:t.path,originalParent:l}))}this.runTests({tests:g,value:p,originalValue:l,options:t},r,y=>{i(y.sort(this._sortErrors).concat(h),p)})})}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),r=t.fields;for(let[i,a]of Object.entries(this.fields)){const l=r[i];r[i]=l===void 0?a:l}return t.withMutation(i=>i.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach(r=>{var i;const a=this.fields[r];let l=e;(i=l)!=null&&i.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[r]})),t[r]=a&&"getDefault"in a?a.getDefault(l):void 0}),t}setFields(e,t){let r=this.clone();return r.fields=e,r._nodes=RM(e,t),r._sortErrors=hx(Object.keys(e)),t&&(r._excludedEdges=t),r}shape(e,t=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),i=[...r._excludedEdges,...t]),r.setFields(Object.assign(r.fields,e),i)})}partial(){const e={};for(const[t,r]of Object.entries(this.fields))e[t]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return bd(this)}pick(e){const t={};for(const r of e)this.fields[r]&&(t[r]=this.fields[r]);return this.setFields(t,this._excludedEdges.filter(([r,i])=>e.includes(r)&&e.includes(i)))}omit(e){const t=[];for(const r of Object.keys(this.fields))e.includes(r)||t.push(r);return this.pick(t)}from(e,t,r){let i=Bo.getter(e,!0);return this.transform(a=>{if(!a)return a;let l=a;return OM(a,e)&&(l=Object.assign({},a),r||delete l[e],l[t]=i(a)),l})}json(){return this.transform(kM)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||Ed.exact,test(t){if(t==null)return!0;const r=tb(this.schema,t);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,t=Ed.noUnknown){typeof e!="boolean"&&(t=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:t,test(i){if(i==null)return!0;const a=tb(this.schema,i);return!e||a.length===0||this.createError({params:{unknown:a.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,t=Ed.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform(t=>{if(!t)return t;const r={};for(const i of Object.keys(t))r[e(i)]=t[i];return r})}camelCase(){return this.transformKeys(og.camelCase)}snakeCase(){return this.transformKeys(og.snakeCase)}constantCase(){return this.transformKeys(e=>og.snakeCase(e).toUpperCase())}describe(e){const t=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[a,l]of Object.entries(t.fields)){var i;let f=e;(i=f)!=null&&i.value&&(f=Object.assign({},f,{parent:f.value,value:f.value[a]})),r.fields[a]=l.describe(f)}return r}}px.prototype=mx.prototype;const DM=px().shape({email:Yg().required("Email is required").email("Email is invalid"),password:Yg().required("Password is required").min(6,"Password must be at least 6 characters")});function LM(n,e){return n.length>e?`${n.substr(0,e-1)}....`:n}function MM(n=1,e=10){return Math.floor(Math.random()*(e-n+1)+n)}function FM(){const n=new Date;return n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()}async function VM(n="en-US"){try{const e=`/movie/now_playing?language=${n}&page=1`;return(await Ku.get(e,tv)).data.results||[]}catch(e){return console.error("Error fetching now playing movies:",e),[]}}async function jM(n){try{const t=(await Ku.get(`/movie/${n}/videos`,tv)).data.results||[],r=t.filter(i=>i.type==="Trailer");return r.length>0?r[0]:t[0]}catch(e){return console.error("Error fetching trailer:",e),null}}const UM=()=>{const{selectedLanguage:n}=Ry(h=>h.language),[e,t]=Q.useState(null),[r,i]=Q.useState();async function a(){try{const h=await VM(n);if(h.length===0)return;const p=MM(0,h.length-1),g=h[p];i(g);const y=await jM(g.id),E={iso_639_1:"en",iso_3166_1:"US",name:"Sidelined: The QB and Me | Official Trailer | A Tubi Original",key:"S0gjQQepXRQ",site:"YouTube",size:1080,type:"Trailer",official:!0,published_at:"2024-10-28T18:00:35.000Z",id:"673a2b24d28043e976e3ae63"};y&&y.key?t(y):t(E)}catch(h){console.error("Error fetching movies or trailers:",h)}}Q.useEffect(()=>{a()},[n]);const l=(r==null?void 0:r.title)||(r==null?void 0:r.name)||(r==null?void 0:r.original_name)||"",f=(r==null?void 0:r.overview)||"";return V.jsxs("header",{className:"w-[100vw] h-[70vh] min-h-[400px] overflow-hidden relative text-white -mt-24",style:{backgroundSize:"cover",backgroundImage:`url("https://image.tmdb.org/t/p/original${r==null?void 0:r.backdrop_path}")`,backgroundPosition:"center center"},children:[e?V.jsx("div",{className:"w-screen h-screen absolute top-0 left-0 overflow-hidden transition-transform duration-300 ease-in-out scale-[1.02]",children:V.jsx("iframe",{className:"w-full h-full object-cover transition-transform duration-300 ease-in-out scale-[1.05] aspect-video",id:"Iframe",src:`https://www.youtube.com/embed/${e.key}?autoplay=1&mute=1&loop=1&playlist=${e.key}`,title:"YouTube video player",frameBorder:"0",allow:"autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):V.jsx("p",{children:"Loading trailer..."}),V.jsxs("div",{className:"absolute top-20 ml-8 pt-[140px] h-[190px] z-[2000]",children:[V.jsx("h1",{className:"mb-1  text-[1.6rem] md:text-[3rem] font-extrabold text-white pb-1",children:l}),V.jsxs("div",{className:"banner__buttons",children:[V.jsx("button",{className:"cursor-pointer font-bold rounded-[0.2vw] px-8 py-2 mr-4 bg-opacity-80  text-black transform transition-all duration-300 ease-in-out  hover:shadow-lg  shadow-l bg-white hover:scale-105",children:"▶️ Play"}),V.jsx("button",{className:"cursor-pointer font-bold rounded-[0.2vw] px-8 py-2 mr-4 bg-opacity-80 bg-[#e6e6e6] text-black transform transition-all duration-300 ease-in-out hover:scale-105 hover:shadow-l hover:bg-white",children:"My List"})]}),V.jsx("h1",{className:"text-sm max-w-[360px] h-[80px] pt-4 leading-6 w-[45rem]",children:f&&LM(f,100)})]}),V.jsx("div",{className:"h-32 bg-gradient-to-b from-transparent via-transparent to-black/5"})]})},Qt="92bcc12799d8068995c7c9650f414f3e",nn={fetchTrending:`/trending/all/week?api_key=${Qt}&language=en-US`,fetchNetflixOriginals:`/discover/tv?api_key=${Qt}&with_networks=213`,fetchTopRated:`/movie/top_rated?api_key=${Qt}&language=en-US`,fetchRomanceMovies:`/discover/movie?api_key=${Qt}&with_genres=10749`,fetchActionMovies:`/discover/movie?api_key=${Qt}&with_genres=28`,fetchWarMovies:`/discover/movie?api_key=${Qt}&with_genres=10752`,fetchComedyMovies:`/discover/movie?api_key=${Qt}&with_genres=35`,fetchHorrorMovies:`/discover/movie?api_key=${Qt}&with_genres=27`,fetchCrimeMovies:`/discover/movie?api_key=${Qt}&with_genres=80`,fetchDocumentariesMovies:`/discover/movie?api_key=${Qt}&with_genres=99`,fetchAdventureMovies:`/discover/movie?api_key=${Qt}&with_genres=12`,fetchDramaMovies:`/discover/movie?api_key=${Qt}&with_genres=18`,fetchMysteryMovies:`/discover/movie?api_key=${Qt}&with_genres=9648`,fetchAnimationMovies:`/discover/movie?api_key=${Qt}&with_genres=16`,fetchWesternMovies:`/discover/movie?api_key=${Qt}&with_genres=37`,fetchFamilyMovies:`/discover/movie?api_key=${Qt}&with_genres=10751`,fetchHistoryMovies:`/discover/movie?api_key=${Qt}&with_genres=36`,fetchMusicMovies:`/discover/movie?api_key=${Qt}&with_genres=10402`,fetchFantasyMovies:`/discover/movie?api_key=${Qt}&with_genres=14`,fetchScienceFictionMovies:`/discover/movie?api_key=${Qt}&with_genres=878`},Xg="RFC3986",Zg={RFC1738:n=>String(n).replace(/%20/g,"+"),RFC3986:n=>String(n)},$M="RFC1738",BM=Array.isArray,xi=(()=>{const n=[];for(let e=0;e<256;++e)n.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return n})(),ag=1024,zM=(n,e,t,r,i)=>{if(n.length===0)return n;let a=n;if(typeof n=="symbol"?a=Symbol.prototype.toString.call(n):typeof n!="string"&&(a=String(n)),t==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(f){return"%26%23"+parseInt(f.slice(2),16)+"%3B"});let l="";for(let f=0;f<a.length;f+=ag){const h=a.length>=ag?a.slice(f,f+ag):a,p=[];for(let g=0;g<h.length;++g){let y=h.charCodeAt(g);if(y===45||y===46||y===95||y===126||y>=48&&y<=57||y>=65&&y<=90||y>=97&&y<=122||i===$M&&(y===40||y===41)){p[p.length]=h.charAt(g);continue}if(y<128){p[p.length]=xi[y];continue}if(y<2048){p[p.length]=xi[192|y>>6]+xi[128|y&63];continue}if(y<55296||y>=57344){p[p.length]=xi[224|y>>12]+xi[128|y>>6&63]+xi[128|y&63];continue}g+=1,y=65536+((y&1023)<<10|h.charCodeAt(g)&1023),p[p.length]=xi[240|y>>18]+xi[128|y>>12&63]+xi[128|y>>6&63]+xi[128|y&63]}l+=p.join("")}return l};function qM(n){return!n||typeof n!="object"?!1:!!(n.constructor&&n.constructor.isBuffer&&n.constructor.isBuffer(n))}function nb(n,e){if(BM(n)){const t=[];for(let r=0;r<n.length;r+=1)t.push(e(n[r]));return t}return e(n)}const HM=Object.prototype.hasOwnProperty,gx={brackets(n){return String(n)+"[]"},comma:"comma",indices(n,e){return String(n)+"["+e+"]"},repeat(n){return String(n)}},Ii=Array.isArray,WM=Array.prototype.push,yx=function(n,e){WM.apply(n,Ii(e)?e:[e])},GM=Date.prototype.toISOString,on={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:zM,encodeValuesOnly:!1,format:Xg,formatter:Zg[Xg],indices:!1,serializeDate(n){return GM.call(n)},skipNulls:!1,strictNullHandling:!1};function KM(n){return typeof n=="string"||typeof n=="number"||typeof n=="boolean"||typeof n=="symbol"||typeof n=="bigint"}const lg={};function vx(n,e,t,r,i,a,l,f,h,p,g,y,E,A,S,C,x,L){let O=n,U=L,q=0,W=!1;for(;(U=U.get(lg))!==void 0&&!W;){const N=U.get(n);if(q+=1,typeof N<"u"){if(N===q)throw new RangeError("Cyclic object value");W=!0}typeof U.get(lg)>"u"&&(q=0)}if(typeof p=="function"?O=p(e,O):O instanceof Date?O=E==null?void 0:E(O):t==="comma"&&Ii(O)&&(O=nb(O,function(N){return N instanceof Date?E==null?void 0:E(N):N})),O===null){if(a)return h&&!C?h(e,on.encoder,x,"key",A):e;O=""}if(KM(O)||qM(O)){if(h){const N=C?e:h(e,on.encoder,x,"key",A);return[(S==null?void 0:S(N))+"="+(S==null?void 0:S(h(O,on.encoder,x,"value",A)))]}return[(S==null?void 0:S(e))+"="+(S==null?void 0:S(String(O)))]}const X=[];if(typeof O>"u")return X;let R;if(t==="comma"&&Ii(O))C&&h&&(O=nb(O,h)),R=[{value:O.length>0?O.join(",")||null:void 0}];else if(Ii(p))R=p;else{const N=Object.keys(O);R=g?N.sort(g):N}const T=f?String(e).replace(/\./g,"%2E"):String(e),I=r&&Ii(O)&&O.length===1?T+"[]":T;if(i&&Ii(O)&&O.length===0)return I+"[]";for(let N=0;N<R.length;++N){const D=R[N],M=typeof D=="object"&&typeof D.value<"u"?D.value:O[D];if(l&&M===null)continue;const k=y&&f?D.replace(/\./g,"%2E"):D,Pe=Ii(O)?typeof t=="function"?t(I,k):I:I+(y?"."+k:"["+k+"]");L.set(n,q);const je=new WeakMap;je.set(lg,L),yx(X,vx(M,Pe,t,r,i,a,l,f,t==="comma"&&C&&Ii(O)?null:h,p,g,y,E,A,S,C,x,je))}return X}function QM(n=on){if(typeof n.allowEmptyArrays<"u"&&typeof n.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof n.encodeDotInKeys<"u"&&typeof n.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(n.encoder!==null&&typeof n.encoder<"u"&&typeof n.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=n.charset||on.charset;if(typeof n.charset<"u"&&n.charset!=="utf-8"&&n.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let t=Xg;if(typeof n.format<"u"){if(!HM.call(Zg,n.format))throw new TypeError("Unknown format option provided.");t=n.format}const r=Zg[t];let i=on.filter;(typeof n.filter=="function"||Ii(n.filter))&&(i=n.filter);let a;if(n.arrayFormat&&n.arrayFormat in gx?a=n.arrayFormat:"indices"in n?a=n.indices?"indices":"repeat":a=on.arrayFormat,"commaRoundTrip"in n&&typeof n.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const l=typeof n.allowDots>"u"?n.encodeDotInKeys?!0:on.allowDots:!!n.allowDots;return{addQueryPrefix:typeof n.addQueryPrefix=="boolean"?n.addQueryPrefix:on.addQueryPrefix,allowDots:l,allowEmptyArrays:typeof n.allowEmptyArrays=="boolean"?!!n.allowEmptyArrays:on.allowEmptyArrays,arrayFormat:a,charset:e,charsetSentinel:typeof n.charsetSentinel=="boolean"?n.charsetSentinel:on.charsetSentinel,commaRoundTrip:!!n.commaRoundTrip,delimiter:typeof n.delimiter>"u"?on.delimiter:n.delimiter,encode:typeof n.encode=="boolean"?n.encode:on.encode,encodeDotInKeys:typeof n.encodeDotInKeys=="boolean"?n.encodeDotInKeys:on.encodeDotInKeys,encoder:typeof n.encoder=="function"?n.encoder:on.encoder,encodeValuesOnly:typeof n.encodeValuesOnly=="boolean"?n.encodeValuesOnly:on.encodeValuesOnly,filter:i,format:t,formatter:r,serializeDate:typeof n.serializeDate=="function"?n.serializeDate:on.serializeDate,skipNulls:typeof n.skipNulls=="boolean"?n.skipNulls:on.skipNulls,sort:typeof n.sort=="function"?n.sort:null,strictNullHandling:typeof n.strictNullHandling=="boolean"?n.strictNullHandling:on.strictNullHandling}}function JM(n,e={}){let t=n;const r=QM(e);let i,a;typeof r.filter=="function"?(a=r.filter,t=a("",t)):Ii(r.filter)&&(a=r.filter,i=a);const l=[];if(typeof t!="object"||t===null)return"";const f=gx[r.arrayFormat],h=f==="comma"&&r.commaRoundTrip;i||(i=Object.keys(t)),r.sort&&i.sort(r.sort);const p=new WeakMap;for(let E=0;E<i.length;++E){const A=i[E];r.skipNulls&&t[A]===null||yx(l,vx(t[A],A,f,h,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,p))}const g=l.join(r.delimiter);let y=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),g.length>0?y+g:""}const Ya="4.77.0";let rb=!1,Du,_x,wx,ey,Ex,bx,Sx,Tx,xx;function YM(n,e={auto:!1}){if(rb)throw new Error(`you must \`import 'openai/shims/${n.kind}'\` before importing anything else from openai`);if(Du)throw new Error(`can't \`import 'openai/shims/${n.kind}'\` after \`import 'openai/shims/${Du}'\``);rb=e.auto,Du=n.kind,_x=n.fetch,wx=n.FormData,ey=n.File,Ex=n.ReadableStream,bx=n.getMultipartRequestOptions,Sx=n.getDefaultAgent,Tx=n.fileFromPath,xx=n.isFsReadStream}class XM{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function ZM({manuallyImported:n}={}){const e=n?"You may need to use polyfills":"Add one of these imports before your first `import … from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let t,r,i,a;try{t=fetch,r=Request,i=Response,a=Headers}catch(l){throw new Error(`this environment is missing the following Web Fetch API type: ${l.message}. ${e}`)}return{kind:"web",fetch:t,Request:r,Response:i,Headers:a,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(l,f)=>({...f,body:new XM(l)}),getDefaultAgent:l=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:l=>!1}}Du||YM(ZM(),{auto:!0});class rt extends Error{}class Rn extends rt{constructor(e,t,r,i){super(`${Rn.makeMessage(e,t,r)}`),this.status=e,this.headers=i,this.request_id=i==null?void 0:i["x-request-id"],this.error=t;const a=t;this.code=a==null?void 0:a.code,this.param=a==null?void 0:a.param,this.type=a==null?void 0:a.type}static makeMessage(e,t,r){const i=t!=null&&t.message?typeof t.message=="string"?t.message:JSON.stringify(t.message):t?JSON.stringify(t):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,t,r,i){if(!e||!i)return new Mh({message:r,cause:ny(t)});const a=t==null?void 0:t.error;return e===400?new Ax(e,a,r,i):e===401?new Ix(e,a,r,i):e===403?new Px(e,a,r,i):e===404?new Cx(e,a,r,i):e===409?new Rx(e,a,r,i):e===422?new kx(e,a,r,i):e===429?new Ox(e,a,r,i):e>=500?new Nx(e,a,r,i):new Rn(e,a,r,i)}}class oi extends Rn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Mh extends Rn{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}class ov extends Mh{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Ax extends Rn{}class Ix extends Rn{}class Px extends Rn{}class Cx extends Rn{}class Rx extends Rn{}class kx extends Rn{}class Ox extends Rn{}class Nx extends Rn{}class Dx extends rt{constructor(){super("Could not parse response content as the length limit was reached")}}class Lx extends rt{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class Zo{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let t=this.decodeText(e);if(this.trailingCR&&(t="\r"+t,this.trailingCR=!1),t.endsWith("\r")&&(this.trailingCR=!0,t=t.slice(0,-1)),!t)return[];const r=Zo.NEWLINE_CHARS.has(t[t.length-1]||"");let i=t.split(Zo.NEWLINE_REGEXP);return r&&i.pop(),i.length===1&&!r?(this.buffer.push(i[0]),[]):(this.buffer.length>0&&(i=[this.buffer.join("")+i[0],...i.slice(1)],this.buffer=[]),r||(this.buffer=[i.pop()||""]),i)}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new rt(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new rt(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new rt("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}Zo.NEWLINE_CHARS=new Set([`
`,"\r"]);Zo.NEWLINE_REGEXP=/\r\n|[\n\r]/g;class ki{constructor(e,t){this.iterator=e,this.controller=t}static fromSSEResponse(e,t){let r=!1;async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let a=!1;try{for await(const l of eF(e,t))if(!a){if(l.data.startsWith("[DONE]")){a=!0;continue}if(l.event===null){let f;try{f=JSON.parse(l.data)}catch(h){throw console.error("Could not parse message into JSON:",l.data),console.error("From chunk:",l.raw),h}if(f&&f.error)throw new Rn(void 0,f.error,void 0,void 0);yield f}else{let f;try{f=JSON.parse(l.data)}catch(h){throw console.error("Could not parse message into JSON:",l.data),console.error("From chunk:",l.raw),h}if(l.event=="error")throw new Rn(void 0,f.error,f.message,void 0);yield{event:l.event,data:f}}}a=!0}catch(l){if(l instanceof Error&&l.name==="AbortError")return;throw l}finally{a||t.abort()}}return new ki(i,t)}static fromReadableStream(e,t){let r=!1;async function*i(){const l=new Zo,f=Mx(e);for await(const h of f)for(const p of l.decode(h))yield p;for(const h of l.flush())yield h}async function*a(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let l=!1;try{for await(const f of i())l||f&&(yield JSON.parse(f));l=!0}catch(f){if(f instanceof Error&&f.name==="AbortError")return;throw f}finally{l||t.abort()}}return new ki(a,t)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],r=this.iterator(),i=a=>({next:()=>{if(a.length===0){const l=r.next();e.push(l),t.push(l)}return a.shift()}});return[new ki(()=>i(e),this.controller),new ki(()=>i(t),this.controller)]}toReadableStream(){const e=this;let t;const r=new TextEncoder;return new Ex({async start(){t=e[Symbol.asyncIterator]()},async pull(i){try{const{value:a,done:l}=await t.next();if(l)return i.close();const f=r.encode(JSON.stringify(a)+`
`);i.enqueue(f)}catch(a){i.error(a)}},async cancel(){var i;await((i=t.return)==null?void 0:i.call(t))}})}}async function*eF(n,e){if(!n.body)throw e.abort(),new rt("Attempted to iterate over a response with no body");const t=new rF,r=new Zo,i=Mx(n.body);for await(const a of tF(i))for(const l of r.decode(a)){const f=t.decode(l);f&&(yield f)}for(const a of r.flush()){const l=t.decode(a);l&&(yield l)}}async function*tF(n){let e=new Uint8Array;for await(const t of n){if(t==null)continue;const r=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?new TextEncoder().encode(t):t;let i=new Uint8Array(e.length+r.length);i.set(e),i.set(r,e.length),e=i;let a;for(;(a=nF(e))!==-1;)yield e.slice(0,a),e=e.slice(a)}e.length>0&&(yield e)}function nF(n){for(let r=0;r<n.length-2;r++){if(n[r]===10&&n[r+1]===10||n[r]===13&&n[r+1]===13)return r+2;if(n[r]===13&&n[r+1]===10&&r+3<n.length&&n[r+2]===13&&n[r+3]===10)return r+4}return-1}class rF{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,r,i]=iF(e,":");return i.startsWith(" ")&&(i=i.substring(1)),t==="event"?this.event=i:t==="data"&&this.data.push(i),null}}function iF(n,e){const t=n.indexOf(e);return t!==-1?[n.substring(0,t),e,n.substring(t+e.length)]:[n,"",""]}function Mx(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const t=await e.read();return t!=null&&t.done&&e.releaseLock(),t}catch(t){throw e.releaseLock(),t}},async return(){const t=e.cancel();return e.releaseLock(),await t,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const Fx=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function",Vx=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&Fh(n),Fh=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",sF=n=>Vx(n)||Fx(n)||xx(n);async function jx(n,e,t){var i;if(n=await n,Vx(n))return n;if(Fx(n)){const a=await n.blob();e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()??"unknown_file");const l=Fh(a)?[await a.arrayBuffer()]:[a];return new ey(l,e,t)}const r=await oF(n);if(e||(e=lF(n)??"unknown_file"),!(t!=null&&t.type)){const a=(i=r[0])==null?void 0:i.type;typeof a=="string"&&(t={...t,type:a})}return new ey(r,e,t)}async function oF(n){var t;let e=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)e.push(n);else if(Fh(n))e.push(await n.arrayBuffer());else if(uF(n))for await(const r of n)e.push(r);else throw new Error(`Unexpected data type: ${typeof n}; constructor: ${(t=n==null?void 0:n.constructor)==null?void 0:t.name}; props: ${aF(n)}`);return e}function aF(n){return`[${Object.getOwnPropertyNames(n).map(t=>`"${t}"`).join(", ")}]`}function lF(n){var e;return ug(n.name)||ug(n.filename)||((e=ug(n.path))==null?void 0:e.split(/[\\/]/).pop())}const ug=n=>{if(typeof n=="string")return n;if(typeof Buffer<"u"&&n instanceof Buffer)return String(n)},uF=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function",ib=n=>n&&typeof n=="object"&&n.body&&n[Symbol.toStringTag]==="MultipartBody",ml=async n=>{const e=await cF(n.body);return bx(e,n)},cF=async n=>{const e=new wx;return await Promise.all(Object.entries(n||{}).map(([t,r])=>ty(e,t,r))),e},ty=async(n,e,t)=>{if(t!==void 0){if(t==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof t=="string"||typeof t=="number"||typeof t=="boolean")n.append(e,String(t));else if(sF(t)){const r=await jx(t);n.append(e,r)}else if(Array.isArray(t))await Promise.all(t.map(r=>ty(n,e+"[]",r)));else if(typeof t=="object")await Promise.all(Object.entries(t).map(([r,i])=>ty(n,`${e}[${r}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${t} instead`)}};var al={},fF=function(n,e,t,r,i){if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t},dF=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},ed;async function Ux(n){const{response:e}=n;if(n.options.stream)return ll("response",e.status,e.url,e.headers,e.body),n.options.__streamClass?n.options.__streamClass.fromSSEResponse(e,n.controller):ki.fromSSEResponse(e,n.controller);if(e.status===204)return null;if(n.options.__binaryResponse)return e;const t=e.headers.get("content-type");if((t==null?void 0:t.includes("application/json"))||(t==null?void 0:t.includes("application/vnd.api+json"))){const a=await e.json();return ll("response",e.status,e.url,e.headers,a),$x(a,e)}const i=await e.text();return ll("response",e.status,e.url,e.headers,i),i}function $x(n,e){return!n||typeof n!="object"||Array.isArray(n)?n:Object.defineProperty(n,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}class Vh extends Promise{constructor(e,t=Ux){super(r=>{r(null)}),this.responsePromise=e,this.parseResponse=t}_thenUnwrap(e){return new Vh(this.responsePromise,async t=>$x(e(await this.parseResponse(t),t),t.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t,request_id:t.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class hF{constructor({baseURL:e,maxRetries:t=2,timeout:r=6e5,httpAgent:i,fetch:a}){this.baseURL=e,this.maxRetries=cg("maxRetries",t),this.timeout=cg("timeout",r),this.httpAgent=i,this.fetch=a??_x}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),..._F(),...this.authHeaders(e)}}validateHeaders(e,t){}defaultIdempotencyKey(){return`stainless-node-retry-${SF()}`}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,r){return this.request(Promise.resolve(r).then(async i=>{const a=i&&Fh(i==null?void 0:i.body)?new DataView(await i.body.arrayBuffer()):(i==null?void 0:i.body)instanceof DataView?i.body:(i==null?void 0:i.body)instanceof ArrayBuffer?new DataView(i.body):i&&ArrayBuffer.isView(i==null?void 0:i.body)?new DataView(i.body.buffer):i==null?void 0:i.body;return{method:e,path:t,...i,body:a}}))}getAPIList(e,t,r){return this.requestAPIList(t,{method:"get",path:e,...r})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:t=0}={}){var C;const{method:r,path:i,query:a,headers:l={}}=e,f=ArrayBuffer.isView(e.body)||e.__binaryRequest&&typeof e.body=="string"?e.body:ib(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,h=this.calculateContentLength(f),p=this.buildURL(i,a);"timeout"in e&&cg("timeout",e.timeout);const g=e.timeout??this.timeout,y=e.httpAgent??this.httpAgent??Sx(p),E=g+1e3;typeof((C=y==null?void 0:y.options)==null?void 0:C.timeout)=="number"&&E>(y.options.timeout??0)&&(y.options.timeout=E),this.idempotencyHeader&&r!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=e.idempotencyKey);const A=this.buildHeaders({options:e,headers:l,contentLength:h,retryCount:t});return{req:{method:r,...f&&{body:f},headers:A,...y&&{agent:y},signal:e.signal??null},url:p,timeout:g}}buildHeaders({options:e,headers:t,contentLength:r,retryCount:i}){const a={};r&&(a["content-length"]=r);const l=this.defaultHeaders(e);return lb(a,l),lb(a,t),ib(e.body)&&Du!=="node"&&delete a["content-type"],ub(l,"x-stainless-retry-count")===void 0&&ub(t,"x-stainless-retry-count")===void 0&&(a["x-stainless-retry-count"]=String(i)),this.validateHeaders(a,t),a}async prepareOptions(e){}async prepareRequest(e,{url:t,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(t=>[...t])):{...e}:{}}makeStatusError(e,t,r,i){return Rn.generate(e,t,r,i)}request(e,t=null){return new Vh(this.makeRequest(e,t))}async makeRequest(e,t){var y,E;const r=await e,i=r.maxRetries??this.maxRetries;t==null&&(t=i),await this.prepareOptions(r);const{req:a,url:l,timeout:f}=this.buildRequest(r,{retryCount:i-t});if(await this.prepareRequest(a,{url:l,options:r}),ll("request",l,r,a.headers),(y=r.signal)!=null&&y.aborted)throw new oi;const h=new AbortController,p=await this.fetchWithTimeout(l,a,f,h).catch(ny);if(p instanceof Error){if((E=r.signal)!=null&&E.aborted)throw new oi;if(t)return this.retryRequest(r,t);throw p.name==="AbortError"?new ov:new Mh({cause:p})}const g=mF(p.headers);if(!p.ok){if(t&&this.shouldRetry(p)){const O=`retrying, ${t} attempts remaining`;return ll(`response (error; ${O})`,p.status,l,g),this.retryRequest(r,t,g)}const A=await p.text().catch(O=>ny(O).message),S=wF(A),C=S?void 0:A;throw ll(`response (error; ${t?"(error; no more retries left)":"(error; not retryable)"})`,p.status,l,g,C),this.makeStatusError(p.status,S,C,g)}return{response:p,options:r,controller:h}}requestAPIList(e,t){const r=this.makeRequest(t,null);return new pF(this,r,e)}buildURL(e,t){const r=bF(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),i=this.defaultQuery();return zx(i)||(t={...i,...t}),typeof t=="object"&&t&&!Array.isArray(t)&&(r.search=this.stringifyQuery(t)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([t,r])=>typeof r<"u").map(([t,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(t)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(t)}=`;throw new rt(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,t,r,i){const{signal:a,...l}=t||{};a&&a.addEventListener("abort",()=>i.abort());const f=setTimeout(()=>i.abort(),r);return this.fetch.call(void 0,e,{signal:i.signal,...l}).finally(()=>{clearTimeout(f)})}shouldRetry(e){const t=e.headers.get("x-should-retry");return t==="true"?!0:t==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,t,r){let i;const a=r==null?void 0:r["retry-after-ms"];if(a){const f=parseFloat(a);Number.isNaN(f)||(i=f)}const l=r==null?void 0:r["retry-after"];if(l&&!i){const f=parseFloat(l);Number.isNaN(f)?i=Date.parse(l)-Date.now():i=f*1e3}if(!(i&&0<=i&&i<60*1e3)){const f=e.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(t,f)}return await mc(i),this.makeRequest(e,t-1)}calculateDefaultRetryTimeoutMillis(e,t){const a=t-e,l=Math.min(.5*Math.pow(2,a),8),f=1-Math.random()*.25;return l*f*1e3}getUserAgent(){return`${this.constructor.name}/JS ${Ya}`}}class Bx{constructor(e,t,r,i){ed.set(this,void 0),fF(this,ed,e),this.options=i,this.response=t,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new rt("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const t={...this.options};if("params"in e&&typeof t.query=="object")t.query={...t.query,...e.params};else if("url"in e){const r=[...Object.entries(t.query||{}),...e.url.searchParams.entries()];for(const[i,a]of r)e.url.searchParams.set(i,a);t.query=void 0,t.path=e.url.toString()}return await dF(this,ed,"f").requestAPIList(this.constructor,t)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(ed=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const t of e.getPaginatedItems())yield t}}class pF extends Vh{constructor(e,t,r){super(t,async i=>new r(e,i.response,await Ux(i),i.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const t of e)yield t}}const mF=n=>new Proxy(Object.fromEntries(n.entries()),{get(e,t){const r=t.toString();return e[r.toLowerCase()]||e[r]}}),gF={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},lr=n=>typeof n=="object"&&n!==null&&!zx(n)&&Object.keys(n).every(e=>qx(gF,e)),yF=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ya,"X-Stainless-OS":ob(Deno.build.os),"X-Stainless-Arch":sb(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ya,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ya,"X-Stainless-OS":ob(process.platform),"X-Stainless-Arch":sb(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const n=vF();return n?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ya,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${n.browser}`,"X-Stainless-Runtime-Version":n.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ya,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function vF(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:t}of n){const r=t.exec(navigator.userAgent);if(r){const i=r[1]||0,a=r[2]||0,l=r[3]||0;return{browser:e,version:`${i}.${a}.${l}`}}}return null}const sb=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",ob=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let ab;const _F=()=>ab??(ab=yF()),wF=n=>{try{return JSON.parse(n)}catch{return}},EF=/^[a-z][a-z0-9+.-]*:/i,bF=n=>EF.test(n),mc=n=>new Promise(e=>setTimeout(e,n)),cg=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new rt(`${n} must be an integer`);if(e<0)throw new rt(`${n} must be a positive integer`);return e},ny=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null)try{return new Error(JSON.stringify(n))}catch{}return new Error(n)},td=n=>{var e,t,r,i;if(typeof process<"u")return((e=al==null?void 0:al[n])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(i=(r=(t=Deno.env)==null?void 0:t.get)==null?void 0:r.call(t,n))==null?void 0:i.trim()};function zx(n){if(!n)return!0;for(const e in n)return!1;return!0}function qx(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function lb(n,e){for(const t in e){if(!qx(e,t))continue;const r=t.toLowerCase();if(!r)continue;const i=e[t];i===null?delete n[r]:i!==void 0&&(n[r]=i)}}function ll(n,...e){typeof process<"u"&&(al==null?void 0:al.DEBUG)==="true"&&console.log(`OpenAI:DEBUG:${n}`,...e)}const SF=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const e=Math.random()*16|0;return(n==="x"?e:e&3|8).toString(16)}),TF=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",xF=n=>typeof(n==null?void 0:n.get)=="function",ub=(n,e)=>{var r;const t=e.toLowerCase();if(xF(n)){const i=((r=e[0])==null?void 0:r.toUpperCase())+e.substring(1).replace(/([^\w])(\w)/g,(a,l,f)=>l+f.toUpperCase());for(const a of[e,t,e.toUpperCase(),i]){const l=n.get(a);if(l)return l}}for(const[i,a]of Object.entries(n))if(i.toLowerCase()===t)return Array.isArray(a)?(a.length<=1||console.warn(`Received ${a.length} entries for the ${e} header, using the first entry.`),a[0]):a};function fg(n){return n!=null&&typeof n=="object"&&!Array.isArray(n)}class AF extends Bx{constructor(e,t,r,i){super(e,t,r,i),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class hi extends Bx{constructor(e,t,r,i){super(e,t,r,i),this.data=r.data||[]}getPaginatedItems(){return this.data??[]}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const t=Object.fromEntries(e.url.searchParams);return Object.keys(t).length?t:null}nextPageInfo(){var r;const e=this.getPaginatedItems();if(!e.length)return null;const t=(r=e[e.length-1])==null?void 0:r.id;return t?{params:{after:t}}:null}}class Et{constructor(e){this._client=e}}let Hx=class extends Et{create(e,t){return this._client.post("/chat/completions",{body:e,...t,stream:e.stream??!1})}},av=class extends Et{constructor(){super(...arguments),this.completions=new Hx(this._client)}};av.Completions=Hx;class Wx extends Et{create(e,t){return this._client.post("/audio/speech",{body:e,...t,__binaryResponse:!0})}}class Gx extends Et{create(e,t){return this._client.post("/audio/transcriptions",ml({body:e,...t}))}}class Kx extends Et{create(e,t){return this._client.post("/audio/translations",ml({body:e,...t}))}}class gc extends Et{constructor(){super(...arguments),this.transcriptions=new Gx(this._client),this.translations=new Kx(this._client),this.speech=new Wx(this._client)}}gc.Transcriptions=Gx;gc.Translations=Kx;gc.Speech=Wx;class lv extends Et{create(e,t){return this._client.post("/batches",{body:e,...t})}retrieve(e,t){return this._client.get(`/batches/${e}`,t)}list(e={},t){return lr(e)?this.list({},e):this._client.getAPIList("/batches",uv,{query:e,...t})}cancel(e,t){return this._client.post(`/batches/${e}/cancel`,t)}}class uv extends hi{}lv.BatchesPage=uv;class cv extends Et{create(e,t){return this._client.post("/assistants",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}retrieve(e,t){return this._client.get(`/assistants/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}update(e,t,r){return this._client.post(`/assistants/${e}`,{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},t){return lr(e)?this.list({},e):this._client.getAPIList("/assistants",fv,{query:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}del(e,t){return this._client.delete(`/assistants/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}}class fv extends hi{}cv.AssistantsPage=fv;function cb(n){return typeof n.parse=="function"}const ul=n=>(n==null?void 0:n.role)==="assistant",Qx=n=>(n==null?void 0:n.role)==="function",Jx=n=>(n==null?void 0:n.role)==="tool";var ei=function(n,e,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t},Vt=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},ry,Sd,Td,Au,Iu,xd,Pu,ns,Cu,Xd,Zd,Xa,Yx;class Xx{constructor(){ry.add(this),this.controller=new AbortController,Sd.set(this,void 0),Td.set(this,()=>{}),Au.set(this,()=>{}),Iu.set(this,void 0),xd.set(this,()=>{}),Pu.set(this,()=>{}),ns.set(this,{}),Cu.set(this,!1),Xd.set(this,!1),Zd.set(this,!1),Xa.set(this,!1),ei(this,Sd,new Promise((e,t)=>{ei(this,Td,e,"f"),ei(this,Au,t,"f")}),"f"),ei(this,Iu,new Promise((e,t)=>{ei(this,xd,e,"f"),ei(this,Pu,t,"f")}),"f"),Vt(this,Sd,"f").catch(()=>{}),Vt(this,Iu,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},Vt(this,ry,"m",Yx).bind(this))},0)}_connected(){this.ended||(Vt(this,Td,"f").call(this),this._emit("connect"))}get ended(){return Vt(this,Cu,"f")}get errored(){return Vt(this,Xd,"f")}get aborted(){return Vt(this,Zd,"f")}abort(){this.controller.abort()}on(e,t){return(Vt(this,ns,"f")[e]||(Vt(this,ns,"f")[e]=[])).push({listener:t}),this}off(e,t){const r=Vt(this,ns,"f")[e];if(!r)return this;const i=r.findIndex(a=>a.listener===t);return i>=0&&r.splice(i,1),this}once(e,t){return(Vt(this,ns,"f")[e]||(Vt(this,ns,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise((t,r)=>{ei(this,Xa,!0,"f"),e!=="error"&&this.once("error",r),this.once(e,t)})}async done(){ei(this,Xa,!0,"f"),await Vt(this,Iu,"f")}_emit(e,...t){if(Vt(this,Cu,"f"))return;e==="end"&&(ei(this,Cu,!0,"f"),Vt(this,xd,"f").call(this));const r=Vt(this,ns,"f")[e];if(r&&(Vt(this,ns,"f")[e]=r.filter(i=>!i.once),r.forEach(({listener:i})=>i(...t))),e==="abort"){const i=t[0];!Vt(this,Xa,"f")&&!(r!=null&&r.length)&&Promise.reject(i),Vt(this,Au,"f").call(this,i),Vt(this,Pu,"f").call(this,i),this._emit("end");return}if(e==="error"){const i=t[0];!Vt(this,Xa,"f")&&!(r!=null&&r.length)&&Promise.reject(i),Vt(this,Au,"f").call(this,i),Vt(this,Pu,"f").call(this,i),this._emit("end")}}_emitFinal(){}}Sd=new WeakMap,Td=new WeakMap,Au=new WeakMap,Iu=new WeakMap,xd=new WeakMap,Pu=new WeakMap,ns=new WeakMap,Cu=new WeakMap,Xd=new WeakMap,Zd=new WeakMap,Xa=new WeakMap,ry=new WeakSet,Yx=function(e){if(ei(this,Xd,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new oi),e instanceof oi)return ei(this,Zd,!0,"f"),this._emit("abort",e);if(e instanceof rt)return this._emit("error",e);if(e instanceof Error){const t=new rt(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new rt(String(e)))};function Zx(n){return(n==null?void 0:n.$brand)==="auto-parseable-response-format"}function yc(n){return(n==null?void 0:n.$brand)==="auto-parseable-tool"}function IF(n,e){return!e||!eA(e)?{...n,choices:n.choices.map(t=>({...t,message:{...t.message,parsed:null,tool_calls:t.message.tool_calls??[]}}))}:dv(n,e)}function dv(n,e){const t=n.choices.map(r=>{var i;if(r.finish_reason==="length")throw new Dx;if(r.finish_reason==="content_filter")throw new Lx;return{...r,message:{...r.message,tool_calls:((i=r.message.tool_calls)==null?void 0:i.map(a=>CF(e,a)))??[],parsed:r.message.content&&!r.message.refusal?PF(e,r.message.content):null}}});return{...n,choices:t}}function PF(n,e){var t,r;return((t=n.response_format)==null?void 0:t.type)!=="json_schema"?null:((r=n.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in n.response_format?n.response_format.$parseRaw(e):JSON.parse(e):null}function CF(n,e){var r;const t=(r=n.tools)==null?void 0:r.find(i=>{var a;return((a=i.function)==null?void 0:a.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:yc(t)?t.$parseRaw(e.function.arguments):t!=null&&t.function.strict?JSON.parse(e.function.arguments):null}}}function RF(n,e){var r;if(!n)return!1;const t=(r=n.tools)==null?void 0:r.find(i=>{var a;return((a=i.function)==null?void 0:a.name)===e.function.name});return yc(t)||(t==null?void 0:t.function.strict)||!1}function eA(n){var e;return Zx(n.response_format)?!0:((e=n.tools)==null?void 0:e.some(t=>yc(t)||t.type==="function"&&t.function.strict===!0))??!1}function kF(n){for(const e of n??[]){if(e.type!=="function")throw new rt(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new rt(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var rr=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},Mn,iy,eh,sy,oy,ay,tA,ly;const fb=10;class nA extends Xx{constructor(){super(...arguments),Mn.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var r;this._chatCompletions.push(e),this._emit("chatCompletion",e);const t=(r=e.choices[0])==null?void 0:r.message;return t&&this._addMessage(t),e}_addMessage(e,t=!0){if("content"in e||(e.content=null),this.messages.push(e),t){if(this._emit("message",e),(Qx(e)||Jx(e))&&e.content)this._emit("functionCallResult",e.content);else if(ul(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(ul(e)&&e.tool_calls)for(const r of e.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new rt("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),rr(this,Mn,"m",iy).call(this)}async finalMessage(){return await this.done(),rr(this,Mn,"m",eh).call(this)}async finalFunctionCall(){return await this.done(),rr(this,Mn,"m",sy).call(this)}async finalFunctionCallResult(){return await this.done(),rr(this,Mn,"m",oy).call(this)}async totalUsage(){return await this.done(),rr(this,Mn,"m",ay).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const t=rr(this,Mn,"m",eh).call(this);t&&this._emit("finalMessage",t);const r=rr(this,Mn,"m",iy).call(this);r&&this._emit("finalContent",r);const i=rr(this,Mn,"m",sy).call(this);i&&this._emit("finalFunctionCall",i);const a=rr(this,Mn,"m",oy).call(this);a!=null&&this._emit("finalFunctionCallResult",a),this._chatCompletions.some(l=>l.usage)&&this._emit("totalUsage",rr(this,Mn,"m",ay).call(this))}async _createChatCompletion(e,t,r){const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),rr(this,Mn,"m",tA).call(this,t);const a=await e.chat.completions.create({...t,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(dv(a,t))}async _runChatCompletion(e,t,r){for(const i of t.messages)this._addMessage(i,!1);return await this._createChatCompletion(e,t,r)}async _runFunctions(e,t,r){var E;const i="function",{function_call:a="auto",stream:l,...f}=t,h=typeof a!="string"&&(a==null?void 0:a.name),{maxChatCompletions:p=fb}=r||{},g={};for(const A of t.functions)g[A.name||A.function.name]=A;const y=t.functions.map(A=>({name:A.name||A.function.name,parameters:A.parameters,description:A.description}));for(const A of t.messages)this._addMessage(A,!1);for(let A=0;A<p;++A){const C=(E=(await this._createChatCompletion(e,{...f,function_call:a,functions:y,messages:[...this.messages]},r)).choices[0])==null?void 0:E.message;if(!C)throw new rt("missing message in ChatCompletion response");if(!C.function_call)return;const{name:x,arguments:L}=C.function_call,O=g[x];if(O){if(h&&h!==x){const X=`Invalid function_call: ${JSON.stringify(x)}. ${JSON.stringify(h)} requested. Please try again`;this._addMessage({role:i,name:x,content:X});continue}}else{const X=`Invalid function_call: ${JSON.stringify(x)}. Available options are: ${y.map(R=>JSON.stringify(R.name)).join(", ")}. Please try again`;this._addMessage({role:i,name:x,content:X});continue}let U;try{U=cb(O)?await O.parse(L):L}catch(X){this._addMessage({role:i,name:x,content:X instanceof Error?X.message:String(X)});continue}const q=await O.function(U,this),W=rr(this,Mn,"m",ly).call(this,q);if(this._addMessage({role:i,name:x,content:W}),h)return}}async _runTools(e,t,r){var A,S,C;const i="tool",{tool_choice:a="auto",stream:l,...f}=t,h=typeof a!="string"&&((A=a==null?void 0:a.function)==null?void 0:A.name),{maxChatCompletions:p=fb}=r||{},g=t.tools.map(x=>{if(yc(x)){if(!x.$callback)throw new rt("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:x.$callback,name:x.function.name,description:x.function.description||"",parameters:x.function.parameters,parse:x.$parseRaw,strict:!0}}}return x}),y={};for(const x of g)x.type==="function"&&(y[x.function.name||x.function.function.name]=x.function);const E="tools"in t?g.map(x=>x.type==="function"?{type:"function",function:{name:x.function.name||x.function.function.name,parameters:x.function.parameters,description:x.function.description,strict:x.function.strict}}:x):void 0;for(const x of t.messages)this._addMessage(x,!1);for(let x=0;x<p;++x){const O=(S=(await this._createChatCompletion(e,{...f,tool_choice:a,tools:E,messages:[...this.messages]},r)).choices[0])==null?void 0:S.message;if(!O)throw new rt("missing message in ChatCompletion response");if(!((C=O.tool_calls)!=null&&C.length))return;for(const U of O.tool_calls){if(U.type!=="function")continue;const q=U.id,{name:W,arguments:X}=U.function,R=y[W];if(R){if(h&&h!==W){const D=`Invalid tool_call: ${JSON.stringify(W)}. ${JSON.stringify(h)} requested. Please try again`;this._addMessage({role:i,tool_call_id:q,content:D});continue}}else{const D=`Invalid tool_call: ${JSON.stringify(W)}. Available options are: ${Object.keys(y).map(M=>JSON.stringify(M)).join(", ")}. Please try again`;this._addMessage({role:i,tool_call_id:q,content:D});continue}let T;try{T=cb(R)?await R.parse(X):X}catch(D){const M=D instanceof Error?D.message:String(D);this._addMessage({role:i,tool_call_id:q,content:M});continue}const I=await R.function(T,this),N=rr(this,Mn,"m",ly).call(this,I);if(this._addMessage({role:i,tool_call_id:q,content:N}),h)return}}}}Mn=new WeakSet,iy=function(){return rr(this,Mn,"m",eh).call(this).content??null},eh=function(){let e=this.messages.length;for(;e-- >0;){const t=this.messages[e];if(ul(t)){const{function_call:r,...i}=t,a={...i,content:t.content??null,refusal:t.refusal??null};return r&&(a.function_call=r),a}}throw new rt("stream ended without producing a ChatCompletionMessage with role=assistant")},sy=function(){var e,t;for(let r=this.messages.length-1;r>=0;r--){const i=this.messages[r];if(ul(i)&&(i!=null&&i.function_call))return i.function_call;if(ul(i)&&((e=i==null?void 0:i.tool_calls)!=null&&e.length))return(t=i.tool_calls.at(-1))==null?void 0:t.function}},oy=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if(Qx(t)&&t.content!=null||Jx(t)&&t.content!=null&&typeof t.content=="string"&&this.messages.some(r=>{var i;return r.role==="assistant"&&((i=r.tool_calls)==null?void 0:i.some(a=>a.type==="function"&&a.id===t.tool_call_id))}))return t.content}},ay=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:t}of this._chatCompletions)t&&(e.completion_tokens+=t.completion_tokens,e.prompt_tokens+=t.prompt_tokens,e.total_tokens+=t.total_tokens);return e},tA=function(e){if(e.n!=null&&e.n>1)throw new rt("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},ly=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class Qu extends nA{static runFunctions(e,t,r){const i=new Qu,a={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return i._run(()=>i._runFunctions(e,t,a)),i}static runTools(e,t,r){const i=new Qu,a={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,t,a)),i}_addMessage(e,t=!0){super._addMessage(e,t),ul(e)&&e.content&&this._emit("content",e.content)}}const rA=1,iA=2,sA=4,oA=8,aA=16,lA=32,uA=64,cA=128,fA=256,dA=cA|fA,hA=aA|lA|dA|uA,pA=rA|iA|hA,mA=sA|oA,OF=pA|mA,dn={STR:rA,NUM:iA,ARR:sA,OBJ:oA,NULL:aA,BOOL:lA,NAN:uA,INFINITY:cA,MINUS_INFINITY:fA,INF:dA,SPECIAL:hA,ATOM:pA,COLLECTION:mA,ALL:OF};class NF extends Error{}class DF extends Error{}function LF(n,e=dn.ALL){if(typeof n!="string")throw new TypeError(`expecting str, got ${typeof n}`);if(!n.trim())throw new Error(`${n} is empty`);return MF(n.trim(),e)}const MF=(n,e)=>{const t=n.length;let r=0;const i=E=>{throw new NF(`${E} at position ${r}`)},a=E=>{throw new DF(`${E} at position ${r}`)},l=()=>(y(),r>=t&&i("Unexpected end of input"),n[r]==='"'?f():n[r]==="{"?h():n[r]==="["?p():n.substring(r,r+4)==="null"||dn.NULL&e&&t-r<4&&"null".startsWith(n.substring(r))?(r+=4,null):n.substring(r,r+4)==="true"||dn.BOOL&e&&t-r<4&&"true".startsWith(n.substring(r))?(r+=4,!0):n.substring(r,r+5)==="false"||dn.BOOL&e&&t-r<5&&"false".startsWith(n.substring(r))?(r+=5,!1):n.substring(r,r+8)==="Infinity"||dn.INFINITY&e&&t-r<8&&"Infinity".startsWith(n.substring(r))?(r+=8,1/0):n.substring(r,r+9)==="-Infinity"||dn.MINUS_INFINITY&e&&1<t-r&&t-r<9&&"-Infinity".startsWith(n.substring(r))?(r+=9,-1/0):n.substring(r,r+3)==="NaN"||dn.NAN&e&&t-r<3&&"NaN".startsWith(n.substring(r))?(r+=3,NaN):g()),f=()=>{const E=r;let A=!1;for(r++;r<t&&(n[r]!=='"'||A&&n[r-1]==="\\");)A=n[r]==="\\"?!A:!1,r++;if(n.charAt(r)=='"')try{return JSON.parse(n.substring(E,++r-Number(A)))}catch(S){a(String(S))}else if(dn.STR&e)try{return JSON.parse(n.substring(E,r-Number(A))+'"')}catch{return JSON.parse(n.substring(E,n.lastIndexOf("\\"))+'"')}i("Unterminated string literal")},h=()=>{r++,y();const E={};try{for(;n[r]!=="}";){if(y(),r>=t&&dn.OBJ&e)return E;const A=f();y(),r++;try{const S=l();Object.defineProperty(E,A,{value:S,writable:!0,enumerable:!0,configurable:!0})}catch(S){if(dn.OBJ&e)return E;throw S}y(),n[r]===","&&r++}}catch{if(dn.OBJ&e)return E;i("Expected '}' at end of object")}return r++,E},p=()=>{r++;const E=[];try{for(;n[r]!=="]";)E.push(l()),y(),n[r]===","&&r++}catch{if(dn.ARR&e)return E;i("Expected ']' at end of array")}return r++,E},g=()=>{if(r===0){n==="-"&&dn.NUM&e&&i("Not sure what '-' is");try{return JSON.parse(n)}catch(A){if(dn.NUM&e)try{return n[n.length-1]==="."?JSON.parse(n.substring(0,n.lastIndexOf("."))):JSON.parse(n.substring(0,n.lastIndexOf("e")))}catch{}a(String(A))}}const E=r;for(n[r]==="-"&&r++;n[r]&&!",]}".includes(n[r]);)r++;r==t&&!(dn.NUM&e)&&i("Unterminated number literal");try{return JSON.parse(n.substring(E,r))}catch{n.substring(E,r)==="-"&&dn.NUM&e&&i("Not sure what '-' is");try{return JSON.parse(n.substring(E,n.lastIndexOf("e")))}catch(S){a(String(S))}}},y=()=>{for(;r<t&&` 
\r	`.includes(n[r]);)r++};return l()},db=n=>LF(n,dn.ALL^dn.NUM);var Ka=function(n,e,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t},bt=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},rn,Zi,Qa,qs,dg,nd,hg,pg,mg,rd,gg,hb;class Ju extends nA{constructor(e){super(),rn.add(this),Zi.set(this,void 0),Qa.set(this,void 0),qs.set(this,void 0),Ka(this,Zi,e,"f"),Ka(this,Qa,[],"f")}get currentChatCompletionSnapshot(){return bt(this,qs,"f")}static fromReadableStream(e){const t=new Ju(null);return t._run(()=>t._fromReadableStream(e)),t}static createChatCompletion(e,t,r){const i=new Ju(t);return i._run(()=>i._runChatCompletion(e,{...t,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createChatCompletion(e,t,r){var l;super._createChatCompletion;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),bt(this,rn,"m",dg).call(this);const a=await e.chat.completions.create({...t,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const f of a)bt(this,rn,"m",hg).call(this,f);if((l=a.controller.signal)!=null&&l.aborted)throw new oi;return this._addChatCompletion(bt(this,rn,"m",rd).call(this))}async _fromReadableStream(e,t){var l;const r=t==null?void 0:t.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),bt(this,rn,"m",dg).call(this),this._connected();const i=ki.fromReadableStream(e,this.controller);let a;for await(const f of i)a&&a!==f.id&&this._addChatCompletion(bt(this,rn,"m",rd).call(this)),bt(this,rn,"m",hg).call(this,f),a=f.id;if((l=i.controller.signal)!=null&&l.aborted)throw new oi;return this._addChatCompletion(bt(this,rn,"m",rd).call(this))}[(Zi=new WeakMap,Qa=new WeakMap,qs=new WeakMap,rn=new WeakSet,dg=function(){this.ended||Ka(this,qs,void 0,"f")},nd=function(t){let r=bt(this,Qa,"f")[t.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},bt(this,Qa,"f")[t.index]=r,r)},hg=function(t){var i,a,l,f,h,p,g,y,E,A,S,C,x,L,O;if(this.ended)return;const r=bt(this,rn,"m",hb).call(this,t);this._emit("chunk",t,r);for(const U of t.choices){const q=r.choices[U.index];U.delta.content!=null&&((i=q.message)==null?void 0:i.role)==="assistant"&&((a=q.message)!=null&&a.content)&&(this._emit("content",U.delta.content,q.message.content),this._emit("content.delta",{delta:U.delta.content,snapshot:q.message.content,parsed:q.message.parsed})),U.delta.refusal!=null&&((l=q.message)==null?void 0:l.role)==="assistant"&&((f=q.message)!=null&&f.refusal)&&this._emit("refusal.delta",{delta:U.delta.refusal,snapshot:q.message.refusal}),((h=U.logprobs)==null?void 0:h.content)!=null&&((p=q.message)==null?void 0:p.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(g=U.logprobs)==null?void 0:g.content,snapshot:((y=q.logprobs)==null?void 0:y.content)??[]}),((E=U.logprobs)==null?void 0:E.refusal)!=null&&((A=q.message)==null?void 0:A.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(S=U.logprobs)==null?void 0:S.refusal,snapshot:((C=q.logprobs)==null?void 0:C.refusal)??[]});const W=bt(this,rn,"m",nd).call(this,q);q.finish_reason&&(bt(this,rn,"m",mg).call(this,q),W.current_tool_call_index!=null&&bt(this,rn,"m",pg).call(this,q,W.current_tool_call_index));for(const X of U.delta.tool_calls??[])W.current_tool_call_index!==X.index&&(bt(this,rn,"m",mg).call(this,q),W.current_tool_call_index!=null&&bt(this,rn,"m",pg).call(this,q,W.current_tool_call_index)),W.current_tool_call_index=X.index;for(const X of U.delta.tool_calls??[]){const R=(x=q.message.tool_calls)==null?void 0:x[X.index];R!=null&&R.type&&((R==null?void 0:R.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(L=R.function)==null?void 0:L.name,index:X.index,arguments:R.function.arguments,parsed_arguments:R.function.parsed_arguments,arguments_delta:((O=X.function)==null?void 0:O.arguments)??""}):(R==null||R.type,void 0))}}},pg=function(t,r){var l,f,h;if(bt(this,rn,"m",nd).call(this,t).done_tool_calls.has(r))return;const a=(l=t.message.tool_calls)==null?void 0:l[r];if(!a)throw new Error("no tool call snapshot");if(!a.type)throw new Error("tool call snapshot missing `type`");if(a.type==="function"){const p=(h=(f=bt(this,Zi,"f"))==null?void 0:f.tools)==null?void 0:h.find(g=>g.type==="function"&&g.function.name===a.function.name);this._emit("tool_calls.function.arguments.done",{name:a.function.name,index:r,arguments:a.function.arguments,parsed_arguments:yc(p)?p.$parseRaw(a.function.arguments):p!=null&&p.function.strict?JSON.parse(a.function.arguments):null})}else a.type},mg=function(t){var i,a;const r=bt(this,rn,"m",nd).call(this,t);if(t.message.content&&!r.content_done){r.content_done=!0;const l=bt(this,rn,"m",gg).call(this);this._emit("content.done",{content:t.message.content,parsed:l?l.$parseRaw(t.message.content):null})}t.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:t.message.refusal})),(i=t.logprobs)!=null&&i.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:t.logprobs.content})),(a=t.logprobs)!=null&&a.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:t.logprobs.refusal}))},rd=function(){if(this.ended)throw new rt("stream has ended, this shouldn't happen");const t=bt(this,qs,"f");if(!t)throw new rt("request ended without sending any chunks");return Ka(this,qs,void 0,"f"),Ka(this,Qa,[],"f"),FF(t,bt(this,Zi,"f"))},gg=function(){var r;const t=(r=bt(this,Zi,"f"))==null?void 0:r.response_format;return Zx(t)?t:null},hb=function(t){var r,i,a,l;let f=bt(this,qs,"f");const{choices:h,...p}=t;f?Object.assign(f,p):f=Ka(this,qs,{...p,choices:[]},"f");for(const{delta:g,finish_reason:y,index:E,logprobs:A=null,...S}of t.choices){let C=f.choices[E];if(C||(C=f.choices[E]={finish_reason:y,index:E,message:{},logprobs:A,...S}),A)if(!C.logprobs)C.logprobs=Object.assign({},A);else{const{content:X,refusal:R,...T}=A;Object.assign(C.logprobs,T),X&&((r=C.logprobs).content??(r.content=[]),C.logprobs.content.push(...X)),R&&((i=C.logprobs).refusal??(i.refusal=[]),C.logprobs.refusal.push(...R))}if(y&&(C.finish_reason=y,bt(this,Zi,"f")&&eA(bt(this,Zi,"f")))){if(y==="length")throw new Dx;if(y==="content_filter")throw new Lx}if(Object.assign(C,S),!g)continue;const{content:x,refusal:L,function_call:O,role:U,tool_calls:q,...W}=g;if(Object.assign(C.message,W),L&&(C.message.refusal=(C.message.refusal||"")+L),U&&(C.message.role=U),O&&(C.message.function_call?(O.name&&(C.message.function_call.name=O.name),O.arguments&&((a=C.message.function_call).arguments??(a.arguments=""),C.message.function_call.arguments+=O.arguments)):C.message.function_call=O),x&&(C.message.content=(C.message.content||"")+x,!C.message.refusal&&bt(this,rn,"m",gg).call(this)&&(C.message.parsed=db(C.message.content))),q){C.message.tool_calls||(C.message.tool_calls=[]);for(const{index:X,id:R,type:T,function:I,...N}of q){const D=(l=C.message.tool_calls)[X]??(l[X]={});Object.assign(D,N),R&&(D.id=R),T&&(D.type=T),I&&(D.function??(D.function={name:I.name??"",arguments:""})),I!=null&&I.name&&(D.function.name=I.name),I!=null&&I.arguments&&(D.function.arguments+=I.arguments,RF(bt(this,Zi,"f"),D)&&(D.function.parsed_arguments=db(D.function.arguments)))}}}return f},Symbol.asyncIterator)](){const e=[],t=[];let r=!1;return this.on("chunk",i=>{const a=t.shift();a?a.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of t)i.resolve(void 0);t.length=0}),this.on("abort",i=>{r=!0;for(const a of t)a.reject(i);t.length=0}),this.on("error",i=>{r=!0;for(const a of t)a.reject(i);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((a,l)=>t.push({resolve:a,reject:l})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new ki(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function FF(n,e){const{id:t,choices:r,created:i,model:a,system_fingerprint:l,...f}=n,h={...f,id:t,choices:r.map(({message:p,finish_reason:g,index:y,logprobs:E,...A})=>{if(!g)throw new rt(`missing finish_reason for choice ${y}`);const{content:S=null,function_call:C,tool_calls:x,...L}=p,O=p.role;if(!O)throw new rt(`missing role for choice ${y}`);if(C){const{arguments:U,name:q}=C;if(U==null)throw new rt(`missing function_call.arguments for choice ${y}`);if(!q)throw new rt(`missing function_call.name for choice ${y}`);return{...A,message:{content:S,function_call:{arguments:U,name:q},role:O,refusal:p.refusal??null},finish_reason:g,index:y,logprobs:E}}return x?{...A,index:y,finish_reason:g,logprobs:E,message:{...L,role:O,content:S,refusal:p.refusal??null,tool_calls:x.map((U,q)=>{const{function:W,type:X,id:R,...T}=U,{arguments:I,name:N,...D}=W||{};if(R==null)throw new rt(`missing choices[${y}].tool_calls[${q}].id
${id(n)}`);if(X==null)throw new rt(`missing choices[${y}].tool_calls[${q}].type
${id(n)}`);if(N==null)throw new rt(`missing choices[${y}].tool_calls[${q}].function.name
${id(n)}`);if(I==null)throw new rt(`missing choices[${y}].tool_calls[${q}].function.arguments
${id(n)}`);return{...T,id:R,type:X,function:{...D,name:N,arguments:I}}})}}:{...A,message:{...L,content:S,role:O,refusal:p.refusal??null},finish_reason:g,index:y,logprobs:E}}),created:i,model:a,object:"chat.completion",...l?{system_fingerprint:l}:{}};return IF(h,e)}function id(n){return JSON.stringify(n)}class cl extends Ju{static fromReadableStream(e){const t=new cl(null);return t._run(()=>t._fromReadableStream(e)),t}static runFunctions(e,t,r){const i=new cl(null),a={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return i._run(()=>i._runFunctions(e,t,a)),i}static runTools(e,t,r){const i=new cl(t),a={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,t,a)),i}}let gA=class extends Et{parse(e,t){return kF(e.tools),this._client.chat.completions.create(e,{...t,headers:{...t==null?void 0:t.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(r=>dv(r,e))}runFunctions(e,t){return e.stream?cl.runFunctions(this._client,e,t):Qu.runFunctions(this._client,e,t)}runTools(e,t){return e.stream?cl.runTools(this._client,e,t):Qu.runTools(this._client,e,t)}stream(e,t){return Ju.createChatCompletion(this._client,e,t)}};class uy extends Et{constructor(){super(...arguments),this.completions=new gA(this._client)}}(function(n){n.Completions=gA})(uy||(uy={}));var Fe=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},vr=function(n,e,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t},Sn,cy,Pi,Ad,ti,Vo,rl,Do,th,_r,Id,Pd,Lu,Ru,ku,pb,mb,gb,yb,vb,_b,wb;class ai extends Xx{constructor(){super(...arguments),Sn.add(this),cy.set(this,[]),Pi.set(this,{}),Ad.set(this,{}),ti.set(this,void 0),Vo.set(this,void 0),rl.set(this,void 0),Do.set(this,void 0),th.set(this,void 0),_r.set(this,void 0),Id.set(this,void 0),Pd.set(this,void 0),Lu.set(this,void 0)}[(cy=new WeakMap,Pi=new WeakMap,Ad=new WeakMap,ti=new WeakMap,Vo=new WeakMap,rl=new WeakMap,Do=new WeakMap,th=new WeakMap,_r=new WeakMap,Id=new WeakMap,Pd=new WeakMap,Lu=new WeakMap,Sn=new WeakSet,Symbol.asyncIterator)](){const e=[],t=[];let r=!1;return this.on("event",i=>{const a=t.shift();a?a.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of t)i.resolve(void 0);t.length=0}),this.on("abort",i=>{r=!0;for(const a of t)a.reject(i);t.length=0}),this.on("error",i=>{r=!0;for(const a of t)a.reject(i);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((a,l)=>t.push({resolve:a,reject:l})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const t=new ai;return t._run(()=>t._fromReadableStream(e)),t}async _fromReadableStream(e,t){var a;const r=t==null?void 0:t.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const i=ki.fromReadableStream(e,this.controller);for await(const l of i)Fe(this,Sn,"m",Ru).call(this,l);if((a=i.controller.signal)!=null&&a.aborted)throw new oi;return this._addRun(Fe(this,Sn,"m",ku).call(this))}toReadableStream(){return new ki(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,t,r,i,a){const l=new ai;return l._run(()=>l._runToolAssistantStream(e,t,r,i,{...a,headers:{...a==null?void 0:a.headers,"X-Stainless-Helper-Method":"stream"}})),l}async _createToolAssistantStream(e,t,r,i,a){var p;const l=a==null?void 0:a.signal;l&&(l.aborted&&this.controller.abort(),l.addEventListener("abort",()=>this.controller.abort()));const f={...i,stream:!0},h=await e.submitToolOutputs(t,r,f,{...a,signal:this.controller.signal});this._connected();for await(const g of h)Fe(this,Sn,"m",Ru).call(this,g);if((p=h.controller.signal)!=null&&p.aborted)throw new oi;return this._addRun(Fe(this,Sn,"m",ku).call(this))}static createThreadAssistantStream(e,t,r){const i=new ai;return i._run(()=>i._threadAssistantStream(e,t,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}static createAssistantStream(e,t,r,i){const a=new ai;return a._run(()=>a._runAssistantStream(e,t,r,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),a}currentEvent(){return Fe(this,Id,"f")}currentRun(){return Fe(this,Pd,"f")}currentMessageSnapshot(){return Fe(this,ti,"f")}currentRunStepSnapshot(){return Fe(this,Lu,"f")}async finalRunSteps(){return await this.done(),Object.values(Fe(this,Pi,"f"))}async finalMessages(){return await this.done(),Object.values(Fe(this,Ad,"f"))}async finalRun(){if(await this.done(),!Fe(this,Vo,"f"))throw Error("Final run was not received.");return Fe(this,Vo,"f")}async _createThreadAssistantStream(e,t,r){var f;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const a={...t,stream:!0},l=await e.createAndRun(a,{...r,signal:this.controller.signal});this._connected();for await(const h of l)Fe(this,Sn,"m",Ru).call(this,h);if((f=l.controller.signal)!=null&&f.aborted)throw new oi;return this._addRun(Fe(this,Sn,"m",ku).call(this))}async _createAssistantStream(e,t,r,i){var h;const a=i==null?void 0:i.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const l={...r,stream:!0},f=await e.create(t,l,{...i,signal:this.controller.signal});this._connected();for await(const p of f)Fe(this,Sn,"m",Ru).call(this,p);if((h=f.controller.signal)!=null&&h.aborted)throw new oi;return this._addRun(Fe(this,Sn,"m",ku).call(this))}static accumulateDelta(e,t){for(const[r,i]of Object.entries(t)){if(!e.hasOwnProperty(r)){e[r]=i;continue}let a=e[r];if(a==null){e[r]=i;continue}if(r==="index"||r==="type"){e[r]=i;continue}if(typeof a=="string"&&typeof i=="string")a+=i;else if(typeof a=="number"&&typeof i=="number")a+=i;else if(fg(a)&&fg(i))a=this.accumulateDelta(a,i);else if(Array.isArray(a)&&Array.isArray(i)){if(a.every(l=>typeof l=="string"||typeof l=="number")){a.push(...i);continue}for(const l of i){if(!fg(l))throw new Error(`Expected array delta entry to be an object but got: ${l}`);const f=l.index;if(f==null)throw console.error(l),new Error("Expected array delta entry to have an `index` property");if(typeof f!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${f}`);const h=a[f];h==null?a.push(l):a[f]=this.accumulateDelta(h,l)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${i}, accValue: ${a}`);e[r]=a}return e}_addRun(e){return e}async _threadAssistantStream(e,t,r){return await this._createThreadAssistantStream(t,e,r)}async _runAssistantStream(e,t,r,i){return await this._createAssistantStream(t,e,r,i)}async _runToolAssistantStream(e,t,r,i,a){return await this._createToolAssistantStream(r,e,t,i,a)}}Ru=function(e){if(!this.ended)switch(vr(this,Id,e,"f"),Fe(this,Sn,"m",gb).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":Fe(this,Sn,"m",wb).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Fe(this,Sn,"m",mb).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":Fe(this,Sn,"m",pb).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},ku=function(){if(this.ended)throw new rt("stream has ended, this shouldn't happen");if(!Fe(this,Vo,"f"))throw Error("Final run has not been received");return Fe(this,Vo,"f")},pb=function(e){const[t,r]=Fe(this,Sn,"m",vb).call(this,e,Fe(this,ti,"f"));vr(this,ti,t,"f"),Fe(this,Ad,"f")[t.id]=t;for(const i of r){const a=t.content[i.index];(a==null?void 0:a.type)=="text"&&this._emit("textCreated",a.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,t),e.data.delta.content)for(const i of e.data.delta.content){if(i.type=="text"&&i.text){let a=i.text,l=t.content[i.index];if(l&&l.type=="text")this._emit("textDelta",a,l.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(i.index!=Fe(this,rl,"f")){if(Fe(this,Do,"f"))switch(Fe(this,Do,"f").type){case"text":this._emit("textDone",Fe(this,Do,"f").text,Fe(this,ti,"f"));break;case"image_file":this._emit("imageFileDone",Fe(this,Do,"f").image_file,Fe(this,ti,"f"));break}vr(this,rl,i.index,"f")}vr(this,Do,t.content[i.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(Fe(this,rl,"f")!==void 0){const i=e.data.content[Fe(this,rl,"f")];if(i)switch(i.type){case"image_file":this._emit("imageFileDone",i.image_file,Fe(this,ti,"f"));break;case"text":this._emit("textDone",i.text,Fe(this,ti,"f"));break}}Fe(this,ti,"f")&&this._emit("messageDone",e.data),vr(this,ti,void 0,"f")}},mb=function(e){const t=Fe(this,Sn,"m",yb).call(this,e);switch(vr(this,Lu,t,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const r=e.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&t.step_details.type=="tool_calls")for(const a of r.step_details.tool_calls)a.index==Fe(this,th,"f")?this._emit("toolCallDelta",a,t.step_details.tool_calls[a.index]):(Fe(this,_r,"f")&&this._emit("toolCallDone",Fe(this,_r,"f")),vr(this,th,a.index,"f"),vr(this,_r,t.step_details.tool_calls[a.index],"f"),Fe(this,_r,"f")&&this._emit("toolCallCreated",Fe(this,_r,"f")));this._emit("runStepDelta",e.data.delta,t);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":vr(this,Lu,void 0,"f"),e.data.step_details.type=="tool_calls"&&Fe(this,_r,"f")&&(this._emit("toolCallDone",Fe(this,_r,"f")),vr(this,_r,void 0,"f")),this._emit("runStepDone",e.data,t);break}},gb=function(e){Fe(this,cy,"f").push(e),this._emit("event",e)},yb=function(e){switch(e.event){case"thread.run.step.created":return Fe(this,Pi,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let t=Fe(this,Pi,"f")[e.data.id];if(!t)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){const i=ai.accumulateDelta(t,r.delta);Fe(this,Pi,"f")[e.data.id]=i}return Fe(this,Pi,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":Fe(this,Pi,"f")[e.data.id]=e.data;break}if(Fe(this,Pi,"f")[e.data.id])return Fe(this,Pi,"f")[e.data.id];throw new Error("No snapshot available")},vb=function(e,t){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!t)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let i=e.data;if(i.delta.content)for(const a of i.delta.content)if(a.index in t.content){let l=t.content[a.index];t.content[a.index]=Fe(this,Sn,"m",_b).call(this,a,l)}else t.content[a.index]=a,r.push(a);return[t,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(t)return[t,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},_b=function(e,t){return ai.accumulateDelta(t,e)},wb=function(e){switch(vr(this,Pd,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":vr(this,Vo,e.data,"f"),Fe(this,_r,"f")&&(this._emit("toolCallDone",Fe(this,_r,"f")),vr(this,_r,void 0,"f"));break}};class hv extends Et{create(e,t,r){return this._client.post(`/threads/${e}/messages`,{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,t,r){return this._client.get(`/threads/${e}/messages/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,t,r,i){return this._client.post(`/threads/${e}/messages/${t}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,t={},r){return lr(t)?this.list(e,{},t):this._client.getAPIList(`/threads/${e}/messages`,pv,{query:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,t,r){return this._client.delete(`/threads/${e}/messages/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class pv extends hi{}hv.MessagesPage=pv;class mv extends Et{retrieve(e,t,r,i={},a){return lr(i)?this.retrieve(e,t,r,{},i):this._client.get(`/threads/${e}/runs/${t}/steps/${r}`,{query:i,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}list(e,t,r={},i){return lr(r)?this.list(e,t,{},r):this._client.getAPIList(`/threads/${e}/runs/${t}/steps`,gv,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}}class gv extends hi{}mv.RunStepsPage=gv;class vc extends Et{constructor(){super(...arguments),this.steps=new mv(this._client)}create(e,t,r){const{include:i,...a}=t;return this._client.post(`/threads/${e}/runs`,{query:{include:i},body:a,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:t.stream??!1})}retrieve(e,t,r){return this._client.get(`/threads/${e}/runs/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,t,r,i){return this._client.post(`/threads/${e}/runs/${t}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,t={},r){return lr(t)?this.list(e,{},t):this._client.getAPIList(`/threads/${e}/runs`,yv,{query:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,t,r){return this._client.post(`/threads/${e}/runs/${t}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,t,r){const i=await this.create(e,t,r);return await this.poll(e,i.id,r)}createAndStream(e,t,r){return ai.createAssistantStream(e,this._client.beta.threads.runs,t,r)}async poll(e,t,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:a,response:l}=await this.retrieve(e,t,{...r,headers:{...r==null?void 0:r.headers,...i}}).withResponse();switch(a.status){case"queued":case"in_progress":case"cancelling":let f=5e3;if(r!=null&&r.pollIntervalMs)f=r.pollIntervalMs;else{const h=l.headers.get("openai-poll-after-ms");if(h){const p=parseInt(h);isNaN(p)||(f=p)}}await mc(f);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return a}}}stream(e,t,r){return ai.createAssistantStream(e,this._client.beta.threads.runs,t,r)}submitToolOutputs(e,t,r,i){return this._client.post(`/threads/${e}/runs/${t}/submit_tool_outputs`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(e,t,r,i){const a=await this.submitToolOutputs(e,t,r,i);return await this.poll(e,a.id,i)}submitToolOutputsStream(e,t,r,i){return ai.createToolAssistantStream(e,t,this._client.beta.threads.runs,r,i)}}class yv extends hi{}vc.RunsPage=yv;vc.Steps=mv;vc.RunStepsPage=gv;class Rl extends Et{constructor(){super(...arguments),this.runs=new vc(this._client),this.messages=new hv(this._client)}create(e={},t){return lr(e)?this.create({},e):this._client.post("/threads",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}retrieve(e,t){return this._client.get(`/threads/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}update(e,t,r){return this._client.post(`/threads/${e}`,{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,t){return this._client.delete(`/threads/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}createAndRun(e,t){return this._client.post("/threads/runs",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers},stream:e.stream??!1})}async createAndRunPoll(e,t){const r=await this.createAndRun(e,t);return await this.runs.poll(r.thread_id,r.id,t)}createAndRunStream(e,t){return ai.createThreadAssistantStream(e,this._client.beta.threads,t)}}Rl.Runs=vc;Rl.RunsPage=yv;Rl.Messages=hv;Rl.MessagesPage=pv;const VF=async n=>{const e=await Promise.allSettled(n),t=e.filter(i=>i.status==="rejected");if(t.length){for(const i of t)console.error(i.reason);throw new Error(`${t.length} promise(s) failed - see the above errors`)}const r=[];for(const i of e)i.status==="fulfilled"&&r.push(i.value);return r};let vv=class extends Et{create(e,t,r){return this._client.post(`/vector_stores/${e}/files`,{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,t,r){return this._client.get(`/vector_stores/${e}/files/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e,t={},r){return lr(t)?this.list(e,{},t):this._client.getAPIList(`/vector_stores/${e}/files`,jh,{query:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,t,r){return this._client.delete(`/vector_stores/${e}/files/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,t,r){const i=await this.create(e,t,r);return await this.poll(e,i.id,r)}async poll(e,t,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const a=await this.retrieve(e,t,{...r,headers:i}).withResponse(),l=a.data;switch(l.status){case"in_progress":let f=5e3;if(r!=null&&r.pollIntervalMs)f=r.pollIntervalMs;else{const h=a.response.headers.get("openai-poll-after-ms");if(h){const p=parseInt(h);isNaN(p)||(f=p)}}await mc(f);break;case"failed":case"completed":return l}}}async upload(e,t,r){const i=await this._client.files.create({file:t,purpose:"assistants"},r);return this.create(e,{file_id:i.id},r)}async uploadAndPoll(e,t,r){const i=await this.upload(e,t,r);return await this.poll(e,i.id,r)}};class jh extends hi{}vv.VectorStoreFilesPage=jh;class yA extends Et{create(e,t,r){return this._client.post(`/vector_stores/${e}/file_batches`,{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,t,r){return this._client.get(`/vector_stores/${e}/file_batches/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,t,r){return this._client.post(`/vector_stores/${e}/file_batches/${t}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,t,r){const i=await this.create(e,t);return await this.poll(e,i.id,r)}listFiles(e,t,r={},i){return lr(r)?this.listFiles(e,t,{},r):this._client.getAPIList(`/vector_stores/${e}/file_batches/${t}/files`,jh,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}async poll(e,t,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:a,response:l}=await this.retrieve(e,t,{...r,headers:i}).withResponse();switch(a.status){case"in_progress":let f=5e3;if(r!=null&&r.pollIntervalMs)f=r.pollIntervalMs;else{const h=l.headers.get("openai-poll-after-ms");if(h){const p=parseInt(h);isNaN(p)||(f=p)}}await mc(f);break;case"failed":case"cancelled":case"completed":return a}}}async uploadAndPoll(e,{files:t,fileIds:r=[]},i){if(t==null||t.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const a=(i==null?void 0:i.maxConcurrency)??5,l=Math.min(a,t.length),f=this._client,h=t.values(),p=[...r];async function g(E){for(let A of E){const S=await f.files.create({file:A,purpose:"assistants"},i);p.push(S.id)}}const y=Array(l).fill(h).map(g);return await VF(y),await this.createAndPoll(e,{file_ids:p})}}class kl extends Et{constructor(){super(...arguments),this.files=new vv(this._client),this.fileBatches=new yA(this._client)}create(e,t){return this._client.post("/vector_stores",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}retrieve(e,t){return this._client.get(`/vector_stores/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}update(e,t,r){return this._client.post(`/vector_stores/${e}`,{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},t){return lr(e)?this.list({},e):this._client.getAPIList("/vector_stores",_v,{query:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}del(e,t){return this._client.delete(`/vector_stores/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t==null?void 0:t.headers}})}}class _v extends hi{}kl.VectorStoresPage=_v;kl.Files=vv;kl.VectorStoreFilesPage=jh;kl.FileBatches=yA;class sa extends Et{constructor(){super(...arguments),this.vectorStores=new kl(this._client),this.chat=new uy(this._client),this.assistants=new cv(this._client),this.threads=new Rl(this._client)}}sa.VectorStores=kl;sa.VectorStoresPage=_v;sa.Assistants=cv;sa.AssistantsPage=fv;sa.Threads=Rl;class vA extends Et{create(e,t){return this._client.post("/completions",{body:e,...t,stream:e.stream??!1})}}class _A extends Et{create(e,t){return this._client.post("/embeddings",{body:e,...t})}}class wv extends Et{create(e,t){return this._client.post("/files",ml({body:e,...t}))}retrieve(e,t){return this._client.get(`/files/${e}`,t)}list(e={},t){return lr(e)?this.list({},e):this._client.getAPIList("/files",Ev,{query:e,...t})}del(e,t){return this._client.delete(`/files/${e}`,t)}content(e,t){return this._client.get(`/files/${e}/content`,{...t,__binaryResponse:!0})}retrieveContent(e,t){return this._client.get(`/files/${e}/content`,{...t,headers:{Accept:"application/json",...t==null?void 0:t.headers}})}async waitForProcessing(e,{pollInterval:t=5e3,maxWait:r=30*60*1e3}={}){const i=new Set(["processed","error","deleted"]),a=Date.now();let l=await this.retrieve(e);for(;!l.status||!i.has(l.status);)if(await mc(t),l=await this.retrieve(e),Date.now()-a>r)throw new ov({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return l}}class Ev extends hi{}wv.FileObjectsPage=Ev;class bv extends Et{list(e,t={},r){return lr(t)?this.list(e,{},t):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,Sv,{query:t,...r})}}class Sv extends hi{}bv.FineTuningJobCheckpointsPage=Sv;class Ol extends Et{constructor(){super(...arguments),this.checkpoints=new bv(this._client)}create(e,t){return this._client.post("/fine_tuning/jobs",{body:e,...t})}retrieve(e,t){return this._client.get(`/fine_tuning/jobs/${e}`,t)}list(e={},t){return lr(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",Tv,{query:e,...t})}cancel(e,t){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,t)}listEvents(e,t={},r){return lr(t)?this.listEvents(e,{},t):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,xv,{query:t,...r})}}class Tv extends hi{}class xv extends hi{}Ol.FineTuningJobsPage=Tv;Ol.FineTuningJobEventsPage=xv;Ol.Checkpoints=bv;Ol.FineTuningJobCheckpointsPage=Sv;class _c extends Et{constructor(){super(...arguments),this.jobs=new Ol(this._client)}}_c.Jobs=Ol;_c.FineTuningJobsPage=Tv;_c.FineTuningJobEventsPage=xv;class wA extends Et{createVariation(e,t){return this._client.post("/images/variations",ml({body:e,...t}))}edit(e,t){return this._client.post("/images/edits",ml({body:e,...t}))}generate(e,t){return this._client.post("/images/generations",{body:e,...t})}}class Av extends Et{retrieve(e,t){return this._client.get(`/models/${e}`,t)}list(e){return this._client.getAPIList("/models",Iv,e)}del(e,t){return this._client.delete(`/models/${e}`,t)}}class Iv extends AF{}Av.ModelsPage=Iv;class EA extends Et{create(e,t){return this._client.post("/moderations",{body:e,...t})}}class bA extends Et{create(e,t,r){return this._client.post(`/uploads/${e}/parts`,ml({body:t,...r}))}}class Pv extends Et{constructor(){super(...arguments),this.parts=new bA(this._client)}create(e,t){return this._client.post("/uploads",{body:e,...t})}cancel(e,t){return this._client.post(`/uploads/${e}/cancel`,t)}complete(e,t,r){return this._client.post(`/uploads/${e}/complete`,{body:t,...r})}}Pv.Parts=bA;var SA;class ut extends hF{constructor({baseURL:e=td("OPENAI_BASE_URL"),apiKey:t=td("OPENAI_API_KEY"),organization:r=td("OPENAI_ORG_ID")??null,project:i=td("OPENAI_PROJECT_ID")??null,...a}={}){if(t===void 0)throw new rt("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const l={apiKey:t,organization:r,project:i,...a,baseURL:e||"https://api.openai.com/v1"};if(!l.dangerouslyAllowBrowser&&TF())throw new rt(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:l.baseURL,timeout:l.timeout??6e5,httpAgent:l.httpAgent,maxRetries:l.maxRetries,fetch:l.fetch}),this.completions=new vA(this),this.chat=new av(this),this.embeddings=new _A(this),this.files=new wv(this),this.images=new wA(this),this.audio=new gc(this),this.moderations=new EA(this),this.models=new Av(this),this.fineTuning=new _c(this),this.beta=new sa(this),this.batches=new lv(this),this.uploads=new Pv(this),this._options=l,this.apiKey=t,this.organization=r,this.project=i}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return JM(e,{arrayFormat:"brackets"})}}SA=ut;ut.OpenAI=SA;ut.DEFAULT_TIMEOUT=6e5;ut.OpenAIError=rt;ut.APIError=Rn;ut.APIConnectionError=Mh;ut.APIConnectionTimeoutError=ov;ut.APIUserAbortError=oi;ut.NotFoundError=Cx;ut.ConflictError=Rx;ut.RateLimitError=Ox;ut.BadRequestError=Ax;ut.AuthenticationError=Ix;ut.InternalServerError=Nx;ut.PermissionDeniedError=Px;ut.UnprocessableEntityError=kx;ut.toFile=jx;ut.fileFromPath=Tx;ut.Completions=vA;ut.Chat=av;ut.Embeddings=_A;ut.Files=wv;ut.FileObjectsPage=Ev;ut.Images=wA;ut.Audio=gc;ut.Moderations=EA;ut.Models=Av;ut.ModelsPage=Iv;ut.FineTuning=_c;ut.Beta=sa;ut.Batches=lv;ut.BatchesPage=uv;ut.Uploads=Pv;const jF=new ut({apiKey:"sk-proj-vWWWY_gAl3CBYTNv8wmKe9vK7GqHTN7GpBsd47nqm3h7jk0WRYyklzGCqgWhRwe5YtL1txfv1VT3BlbkFJx2Rk4RDj73ZVkZlsrjdLDfMQeTmlTebywSrhjVEhmb60snhCHraudWaJ-_xNovvKcRyE0DpaoAn",dangerouslyAllowBrowser:!0}),yg=({children:n})=>V.jsx("div",{className:"bg-white bg-opacity-80 rounded-lg shadow-lg p-8 w-full",children:n}),UF=({movie:n})=>V.jsx(_h,{className:"contents",to:`/movie/${n.id}`,children:V.jsxs("li",{className:"bg-gray-50 rounded-lg shadow-lg flex flex-col  hover:bg-gray-100 hover:shadow-xl hover:scale-105 transition-all duration-300 ease-in-out    cursor-pointer",children:[V.jsx("div",{className:"h-[280px] rounded overflow-hidden shadow-lg",children:V.jsx(NT.LazyLoadImage,{effect:"blur",placeholderSrc:"https://image.tmdb.org/t/p/original/4EYPN5mVIhKLfxGruy7Dy41dTVn.jpg",src:`${nv}${n.poster_path||n.backdrop_path}`,alt:n.title,className:"object-cover object-center w-ful"})}),V.jsxs("div",{className:"p-4",children:[V.jsx("h3",{className:"font-semibold text-xl text-gray-900 mb-2",children:n.title}),V.jsxs("p",{className:"text-gray-500 text-sm mb-2",children:[V.jsx("strong",{children:"Release Date:"})," ",n.release_date]}),V.jsxs("p",{className:"text-yellow-400 font-medium mb-4",children:["⭐ ",n.vote_average," / 10"]}),V.jsx("p",{className:"text-gray-700 text-sm line-clamp-3",children:n.overview})]})]},n.id)});function $F(n,e){const[t,r]=Q.useState(n);return Q.useEffect(()=>{const i=setTimeout(()=>{r(n)},e);return()=>{clearTimeout(i)}},[n,e]),t}function BF(){var A,S;const{selectedLanguage:n}=Ry(C=>C.language),[e,t]=Q.useState(""),[r,i]=Q.useState([]),[a,l]=Q.useState(!1),[f,h]=Q.useState(null),p=$F(e,200),g=C=>{t(C.target.value)},y=async C=>{var L,O,U,q,W,X,R;C==null||C.preventDefault();const x=p.trim();if(!x){i([]),h(null);return}l(!0),h(null);try{const T=`Act as a movie recommendation system and suggest some movies for the query "${x}". Give only the names of 5 movies, separated by commas like this example: "Breaking Bad, The Shawshank Redemption, The Dark Knight"...`,I=await jF.chat.completions.create({model:"gpt-3.5-turbo",messages:[{role:"user",content:T}]}),N=(O=(L=I==null?void 0:I.choices[0])==null?void 0:L.message)==null?void 0:O.content;if(N){const D=N.toLowerCase().split(",").map(M=>M.trim());await E(D)}else await E([x])}catch(T){console.error("Error fetching search results:",T),(W=(q=(U=T==null?void 0:T.response)==null?void 0:U.data)==null?void 0:q.error)!=null&&W.message||T!=null&&T.message,((X=T==null?void 0:T.response)==null?void 0:X.status)===429||(R=T==null?void 0:T.message)!=null&&R.includes("You exceeded your current quota"),await E([x])}finally{l(!1)}},E=async C=>{const x="92bcc12799d8068995c7c9650f414f3e";try{const L=C.map(q=>Wt.get(`https://api.themoviedb.org/3/search/movie?api_key=${x}&query=${encodeURIComponent(q)}&language=${n||"en-US"}`).catch(W=>(console.error(`Error fetching movie "${q}" from TMDb:`,W),null))),U=(await Promise.all(L)).filter(q=>q!==null).map(q=>q.data.results).flat().filter(q=>q.poster_path||q.backdrop_path);U.length>0?i(U):(i([]),h("No results found for query. Please try a different search."))}catch(L){console.error("Error fetching from TMDb:",L),h("Unable to fetch results from TMDb. Please try again later.")}};return Q.useEffect(()=>{p!==""?y():(i([]),h(null))},[p]),V.jsxs("div",{className:"relative h-full min-h-full w-[100vw] bg-[url('../assets/images/backgroundImage.jpg')] bg-center bg-cover bg-no-repeat bg-fixed",children:[V.jsx("div",{className:"w-full h-screen z-10 bg-black bg-opacity-40 bg-gradient-to-t from-black/80 via-transparent to-black/80"}),V.jsx("div",{className:"absolute top-[15%] w-full p-5 z-10 flex justify-center",children:V.jsxs("div",{className:"chatgpt-search-container p-5 w-full flex flex-col items-center gap-8 mx-auto max-w-7xl",children:[V.jsxs("form",{className:"z-50 top-0 search-bar flex flex-col md:flex-row justify-center sticky w-full max-w-5xl",onSubmit:y,children:[V.jsx("input",{type:"text",placeholder:((A=Oo==null?void 0:Oo.find(C=>C.identifier===n))==null?void 0:A.placeholder)||"🔍  Search movies, shows, or ask ChatGPT...",value:e,onChange:g,className:" mb-5 md:mb-0 md:inline-block box-border text-base rounded-sm min-h-[40px] p-[16px_20px] outline-none text-black border-transparent hover:border-[#e50914] border-b-[1px] transition duration-300  w-full"}),V.jsx("button",{type:"submit",disabled:!e.trim(),className:`w-[90%] block md:w-fit md:inline-block box-border text-base rounded-sm min-h-[40px] p-[16px_30px] border-none duration-400 font-semibold transition-colors duration-300 ${e.trim()?"bg-[#e50914] text-white cursor-pointer hover:bg-[#b20710]":"bg-[#f16a6f] text-white cursor-not-allowed"}`,children:((S=Oo==null?void 0:Oo.find(C=>C.identifier===n))==null?void 0:S.buttonText)||"Search"})]}),V.jsxs("div",{className:"w-full max-w-5xl mt-6  flex flex-col gap-7",children:[a&&V.jsx(yg,{children:V.jsxs("p",{className:"text-center text-gray-600 font-medium flex items-center justify-center",children:[V.jsx("div",{className:"w-6 h-6 border-4 border-t-4 border-gray-300 border-t-red-500 rounded-full animate-spin"}),V.jsx("span",{className:"ml-2",children:"ChatGPT is thinking... Hang tight while we fetch your recommendations!"})]})}),!r.length&&f&&V.jsx(yg,{children:V.jsx("p",{className:"text-center text-red-600 font-semibold bg-red-100 p-4 rounded-lg mt-4 overflow-hidden",children:f})}),!a&&!f&&!e.trim()&&!r.length&&V.jsx(yg,{children:V.jsx("p",{className:"text-center text-gray-600 font-medium mt-4",children:"Please enter a search query to get started."})})]}),r.length>0&&V.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"Recommended Movies"}),V.jsx("ul",{className:"mx-auto  py-4 sm:grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map(C=>V.jsx(UF,{movie:C},C.id))})]})})]})}function zF(){const[n,e]=Q.useState(!1);function t(){e(r=>!r)}return V.jsxs("div",{className:"homeScreen",children:[V.jsx(Q.Suspense,{fallback:V.jsx("div",{children:"Loading..."}),children:V.jsx(iv,{handleGptSearch:t,isChatGptSearch:n,isShowLanguage:!0})}),V.jsx(V.Fragment,{children:n?V.jsx(BF,{}):V.jsxs("div",{children:[V.jsx(UM,{}),V.jsx(tn,{title:"NETFILX ORIGINALS",fetchUrl:nn.fetchNetflixOriginals,isLargeRow:!0}),V.jsx(tn,{title:"Top Rated Series For You",fetchUrl:nn.fetchTopRated}),V.jsx(tn,{title:"Romance Movies",fetchUrl:nn.fetchRomanceMovies}),V.jsx(tn,{title:"Action Movies",fetchUrl:nn.fetchActionMovies}),V.jsx(tn,{title:"War Movies",fetchUrl:nn.fetchWarMovies}),V.jsx(tn,{title:"Comedy Movies",fetchUrl:nn.fetchNetflixOriginals}),V.jsx(tn,{title:"Horror Movies",fetchUrl:nn.fetchHorrorMovies}),V.jsx(tn,{title:"Crime Movies",fetchUrl:nn.fetchCrimeMovies}),V.jsx(tn,{title:"Documentaries Movies",fetchUrl:nn.fetchDocumentariesMovies}),V.jsx(tn,{title:"Drama Movies",fetchUrl:nn.fetchDramaMovies}),V.jsx(tn,{title:"Mystery Movies",fetchUrl:nn.fetchMysteryMovies}),V.jsx(tn,{title:"Family Movies",fetchUrl:nn.fetchFamilyMovies}),V.jsx(tn,{title:"History Movies",fetchUrl:nn.fetchHistoryMovies}),V.jsx(tn,{title:"Music Movies",fetchUrl:nn.fetchMusicMovies}),V.jsx(tn,{title:"Science Fiction Movies",fetchUrl:nn.fetchScienceFictionMovies}),V.jsx(tn,{title:"Adventure Movies",fetchUrl:nn.fetchAdventureMovies}),V.jsx(tn,{title:"Animation Movies",fetchUrl:nn.fetchAnimationMovies}),V.jsx(tn,{title:"Western Movies",fetchUrl:nn.fetchWesternMovies}),V.jsx(tn,{title:"Fantasy Movies",fetchUrl:nn.fetchFantasyMovies})]})})]})}var Eb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var TA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,T){function I(){}I.prototype=T.prototype,R.D=T.prototype,R.prototype=new I,R.prototype.constructor=R,R.C=function(N,D,M){for(var k=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)k[Pe-2]=arguments[Pe];return T.prototype[D].apply(N,k)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,T,I){I||(I=0);var N=Array(16);if(typeof T=="string")for(var D=0;16>D;++D)N[D]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(D=0;16>D;++D)N[D]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=R.g[0],I=R.g[1],D=R.g[2];var M=R.g[3],k=T+(M^I&(D^M))+N[0]+3614090360&4294967295;T=I+(k<<7&4294967295|k>>>25),k=M+(D^T&(I^D))+N[1]+3905402710&4294967295,M=T+(k<<12&4294967295|k>>>20),k=D+(I^M&(T^I))+N[2]+606105819&4294967295,D=M+(k<<17&4294967295|k>>>15),k=I+(T^D&(M^T))+N[3]+3250441966&4294967295,I=D+(k<<22&4294967295|k>>>10),k=T+(M^I&(D^M))+N[4]+4118548399&4294967295,T=I+(k<<7&4294967295|k>>>25),k=M+(D^T&(I^D))+N[5]+1200080426&4294967295,M=T+(k<<12&4294967295|k>>>20),k=D+(I^M&(T^I))+N[6]+2821735955&4294967295,D=M+(k<<17&4294967295|k>>>15),k=I+(T^D&(M^T))+N[7]+4249261313&4294967295,I=D+(k<<22&4294967295|k>>>10),k=T+(M^I&(D^M))+N[8]+1770035416&4294967295,T=I+(k<<7&4294967295|k>>>25),k=M+(D^T&(I^D))+N[9]+2336552879&4294967295,M=T+(k<<12&4294967295|k>>>20),k=D+(I^M&(T^I))+N[10]+4294925233&4294967295,D=M+(k<<17&4294967295|k>>>15),k=I+(T^D&(M^T))+N[11]+2304563134&4294967295,I=D+(k<<22&4294967295|k>>>10),k=T+(M^I&(D^M))+N[12]+1804603682&4294967295,T=I+(k<<7&4294967295|k>>>25),k=M+(D^T&(I^D))+N[13]+4254626195&4294967295,M=T+(k<<12&4294967295|k>>>20),k=D+(I^M&(T^I))+N[14]+2792965006&4294967295,D=M+(k<<17&4294967295|k>>>15),k=I+(T^D&(M^T))+N[15]+1236535329&4294967295,I=D+(k<<22&4294967295|k>>>10),k=T+(D^M&(I^D))+N[1]+4129170786&4294967295,T=I+(k<<5&4294967295|k>>>27),k=M+(I^D&(T^I))+N[6]+3225465664&4294967295,M=T+(k<<9&4294967295|k>>>23),k=D+(T^I&(M^T))+N[11]+643717713&4294967295,D=M+(k<<14&4294967295|k>>>18),k=I+(M^T&(D^M))+N[0]+3921069994&4294967295,I=D+(k<<20&4294967295|k>>>12),k=T+(D^M&(I^D))+N[5]+3593408605&4294967295,T=I+(k<<5&4294967295|k>>>27),k=M+(I^D&(T^I))+N[10]+38016083&4294967295,M=T+(k<<9&4294967295|k>>>23),k=D+(T^I&(M^T))+N[15]+3634488961&4294967295,D=M+(k<<14&4294967295|k>>>18),k=I+(M^T&(D^M))+N[4]+3889429448&4294967295,I=D+(k<<20&4294967295|k>>>12),k=T+(D^M&(I^D))+N[9]+568446438&4294967295,T=I+(k<<5&4294967295|k>>>27),k=M+(I^D&(T^I))+N[14]+3275163606&4294967295,M=T+(k<<9&4294967295|k>>>23),k=D+(T^I&(M^T))+N[3]+4107603335&4294967295,D=M+(k<<14&4294967295|k>>>18),k=I+(M^T&(D^M))+N[8]+1163531501&4294967295,I=D+(k<<20&4294967295|k>>>12),k=T+(D^M&(I^D))+N[13]+2850285829&4294967295,T=I+(k<<5&4294967295|k>>>27),k=M+(I^D&(T^I))+N[2]+4243563512&4294967295,M=T+(k<<9&4294967295|k>>>23),k=D+(T^I&(M^T))+N[7]+1735328473&4294967295,D=M+(k<<14&4294967295|k>>>18),k=I+(M^T&(D^M))+N[12]+2368359562&4294967295,I=D+(k<<20&4294967295|k>>>12),k=T+(I^D^M)+N[5]+4294588738&4294967295,T=I+(k<<4&4294967295|k>>>28),k=M+(T^I^D)+N[8]+2272392833&4294967295,M=T+(k<<11&4294967295|k>>>21),k=D+(M^T^I)+N[11]+1839030562&4294967295,D=M+(k<<16&4294967295|k>>>16),k=I+(D^M^T)+N[14]+4259657740&4294967295,I=D+(k<<23&4294967295|k>>>9),k=T+(I^D^M)+N[1]+2763975236&4294967295,T=I+(k<<4&4294967295|k>>>28),k=M+(T^I^D)+N[4]+1272893353&4294967295,M=T+(k<<11&4294967295|k>>>21),k=D+(M^T^I)+N[7]+4139469664&4294967295,D=M+(k<<16&4294967295|k>>>16),k=I+(D^M^T)+N[10]+3200236656&4294967295,I=D+(k<<23&4294967295|k>>>9),k=T+(I^D^M)+N[13]+681279174&4294967295,T=I+(k<<4&4294967295|k>>>28),k=M+(T^I^D)+N[0]+3936430074&4294967295,M=T+(k<<11&4294967295|k>>>21),k=D+(M^T^I)+N[3]+3572445317&4294967295,D=M+(k<<16&4294967295|k>>>16),k=I+(D^M^T)+N[6]+76029189&4294967295,I=D+(k<<23&4294967295|k>>>9),k=T+(I^D^M)+N[9]+3654602809&4294967295,T=I+(k<<4&4294967295|k>>>28),k=M+(T^I^D)+N[12]+3873151461&4294967295,M=T+(k<<11&4294967295|k>>>21),k=D+(M^T^I)+N[15]+530742520&4294967295,D=M+(k<<16&4294967295|k>>>16),k=I+(D^M^T)+N[2]+3299628645&4294967295,I=D+(k<<23&4294967295|k>>>9),k=T+(D^(I|~M))+N[0]+4096336452&4294967295,T=I+(k<<6&4294967295|k>>>26),k=M+(I^(T|~D))+N[7]+1126891415&4294967295,M=T+(k<<10&4294967295|k>>>22),k=D+(T^(M|~I))+N[14]+2878612391&4294967295,D=M+(k<<15&4294967295|k>>>17),k=I+(M^(D|~T))+N[5]+4237533241&4294967295,I=D+(k<<21&4294967295|k>>>11),k=T+(D^(I|~M))+N[12]+1700485571&4294967295,T=I+(k<<6&4294967295|k>>>26),k=M+(I^(T|~D))+N[3]+2399980690&4294967295,M=T+(k<<10&4294967295|k>>>22),k=D+(T^(M|~I))+N[10]+4293915773&4294967295,D=M+(k<<15&4294967295|k>>>17),k=I+(M^(D|~T))+N[1]+2240044497&4294967295,I=D+(k<<21&4294967295|k>>>11),k=T+(D^(I|~M))+N[8]+1873313359&4294967295,T=I+(k<<6&4294967295|k>>>26),k=M+(I^(T|~D))+N[15]+4264355552&4294967295,M=T+(k<<10&4294967295|k>>>22),k=D+(T^(M|~I))+N[6]+2734768916&4294967295,D=M+(k<<15&4294967295|k>>>17),k=I+(M^(D|~T))+N[13]+1309151649&4294967295,I=D+(k<<21&4294967295|k>>>11),k=T+(D^(I|~M))+N[4]+4149444226&4294967295,T=I+(k<<6&4294967295|k>>>26),k=M+(I^(T|~D))+N[11]+3174756917&4294967295,M=T+(k<<10&4294967295|k>>>22),k=D+(T^(M|~I))+N[2]+718787259&4294967295,D=M+(k<<15&4294967295|k>>>17),k=I+(M^(D|~T))+N[9]+3951481745&4294967295,R.g[0]=R.g[0]+T&4294967295,R.g[1]=R.g[1]+(D+(k<<21&4294967295|k>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+M&4294967295}r.prototype.u=function(R,T){T===void 0&&(T=R.length);for(var I=T-this.blockSize,N=this.B,D=this.h,M=0;M<T;){if(D==0)for(;M<=I;)i(this,R,M),M+=this.blockSize;if(typeof R=="string"){for(;M<T;)if(N[D++]=R.charCodeAt(M++),D==this.blockSize){i(this,N),D=0;break}}else for(;M<T;)if(N[D++]=R[M++],D==this.blockSize){i(this,N),D=0;break}}this.h=D,this.o+=T},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var T=1;T<R.length-8;++T)R[T]=0;var I=8*this.o;for(T=R.length-8;T<R.length;++T)R[T]=I&255,I/=256;for(this.u(R),R=Array(16),T=I=0;4>T;++T)for(var N=0;32>N;N+=8)R[I++]=this.g[T]>>>N&255;return R};function a(R,T){var I=f;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=T(R)}function l(R,T){this.h=T;for(var I=[],N=!0,D=R.length-1;0<=D;D--){var M=R[D]|0;N&&M==T||(I[D]=M,N=!1)}this.g=I}var f={};function h(R){return-128<=R&&128>R?a(R,function(T){return new l([T|0],0>T?-1:0)}):new l([R|0],0>R?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return y;if(0>R)return x(p(-R));for(var T=[],I=1,N=0;R>=I;N++)T[N]=R/I|0,I*=4294967296;return new l(T,0)}function g(R,T){if(R.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(R.charAt(0)=="-")return x(g(R.substring(1),T));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=p(Math.pow(T,8)),N=y,D=0;D<R.length;D+=8){var M=Math.min(8,R.length-D),k=parseInt(R.substring(D,D+M),T);8>M?(M=p(Math.pow(T,M)),N=N.j(M).add(p(k))):(N=N.j(I),N=N.add(p(k)))}return N}var y=h(0),E=h(1),A=h(16777216);n=l.prototype,n.m=function(){if(C(this))return-x(this).m();for(var R=0,T=1,I=0;I<this.g.length;I++){var N=this.i(I);R+=(0<=N?N:4294967296+N)*T,T*=4294967296}return R},n.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(S(this))return"0";if(C(this))return"-"+x(this).toString(R);for(var T=p(Math.pow(R,6)),I=this,N="";;){var D=q(I,T).g;I=L(I,D.j(T));var M=((0<I.g.length?I.g[0]:I.h)>>>0).toString(R);if(I=D,S(I))return M+N;for(;6>M.length;)M="0"+M;N=M+N}},n.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function S(R){if(R.h!=0)return!1;for(var T=0;T<R.g.length;T++)if(R.g[T]!=0)return!1;return!0}function C(R){return R.h==-1}n.l=function(R){return R=L(this,R),C(R)?-1:S(R)?0:1};function x(R){for(var T=R.g.length,I=[],N=0;N<T;N++)I[N]=~R.g[N];return new l(I,~R.h).add(E)}n.abs=function(){return C(this)?x(this):this},n.add=function(R){for(var T=Math.max(this.g.length,R.g.length),I=[],N=0,D=0;D<=T;D++){var M=N+(this.i(D)&65535)+(R.i(D)&65535),k=(M>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);N=k>>>16,M&=65535,k&=65535,I[D]=k<<16|M}return new l(I,I[I.length-1]&-2147483648?-1:0)};function L(R,T){return R.add(x(T))}n.j=function(R){if(S(this)||S(R))return y;if(C(this))return C(R)?x(this).j(x(R)):x(x(this).j(R));if(C(R))return x(this.j(x(R)));if(0>this.l(A)&&0>R.l(A))return p(this.m()*R.m());for(var T=this.g.length+R.g.length,I=[],N=0;N<2*T;N++)I[N]=0;for(N=0;N<this.g.length;N++)for(var D=0;D<R.g.length;D++){var M=this.i(N)>>>16,k=this.i(N)&65535,Pe=R.i(D)>>>16,je=R.i(D)&65535;I[2*N+2*D]+=k*je,O(I,2*N+2*D),I[2*N+2*D+1]+=M*je,O(I,2*N+2*D+1),I[2*N+2*D+1]+=k*Pe,O(I,2*N+2*D+1),I[2*N+2*D+2]+=M*Pe,O(I,2*N+2*D+2)}for(N=0;N<T;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=T;N<2*T;N++)I[N]=0;return new l(I,0)};function O(R,T){for(;(R[T]&65535)!=R[T];)R[T+1]+=R[T]>>>16,R[T]&=65535,T++}function U(R,T){this.g=R,this.h=T}function q(R,T){if(S(T))throw Error("division by zero");if(S(R))return new U(y,y);if(C(R))return T=q(x(R),T),new U(x(T.g),x(T.h));if(C(T))return T=q(R,x(T)),new U(x(T.g),T.h);if(30<R.g.length){if(C(R)||C(T))throw Error("slowDivide_ only works with positive integers.");for(var I=E,N=T;0>=N.l(R);)I=W(I),N=W(N);var D=X(I,1),M=X(N,1);for(N=X(N,2),I=X(I,2);!S(N);){var k=M.add(N);0>=k.l(R)&&(D=D.add(I),M=k),N=X(N,1),I=X(I,1)}return T=L(R,D.j(T)),new U(D,T)}for(D=y;0<=R.l(T);){for(I=Math.max(1,Math.floor(R.m()/T.m())),N=Math.ceil(Math.log(I)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),M=p(I),k=M.j(T);C(k)||0<k.l(R);)I-=N,M=p(I),k=M.j(T);S(M)&&(M=E),D=D.add(M),R=L(R,k)}return new U(D,R)}n.A=function(R){return q(this,R).h},n.and=function(R){for(var T=Math.max(this.g.length,R.g.length),I=[],N=0;N<T;N++)I[N]=this.i(N)&R.i(N);return new l(I,this.h&R.h)},n.or=function(R){for(var T=Math.max(this.g.length,R.g.length),I=[],N=0;N<T;N++)I[N]=this.i(N)|R.i(N);return new l(I,this.h|R.h)},n.xor=function(R){for(var T=Math.max(this.g.length,R.g.length),I=[],N=0;N<T;N++)I[N]=this.i(N)^R.i(N);return new l(I,this.h^R.h)};function W(R){for(var T=R.g.length+1,I=[],N=0;N<T;N++)I[N]=R.i(N)<<1|R.i(N-1)>>>31;return new l(I,R.h)}function X(R,T){var I=T>>5;T%=32;for(var N=R.g.length-I,D=[],M=0;M<N;M++)D[M]=0<T?R.i(M+I)>>>T|R.i(M+I+1)<<32-T:R.i(M+I);return new l(D,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,TA=l}).apply(typeof Eb<"u"?Eb:typeof self<"u"?self:typeof window<"u"?window:{});var sd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xA,Ou,AA,Cd,fy,IA,PA,CA;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,v,w){return c==Array.prototype||c==Object.prototype||(c[v]=w.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof sd=="object"&&sd];for(var v=0;v<c.length;++v){var w=c[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=t(this);function i(c,v){if(v)e:{var w=r;c=c.split(".");for(var P=0;P<c.length-1;P++){var G=c[P];if(!(G in w))break e;w=w[G]}c=c[c.length-1],P=w[c],v=v(P),v!=P&&v!=null&&e(w,c,{configurable:!0,writable:!0,value:v})}}function a(c,v){c instanceof String&&(c+="");var w=0,P=!1,G={next:function(){if(!P&&w<c.length){var ne=w++;return{value:v(ne,c[ne]),done:!1}}return P=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}i("Array.prototype.values",function(c){return c||function(){return a(this,function(v,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},f=this||self;function h(c){var v=typeof c;return v=v!="object"?v:c?Array.isArray(c)?"array":v:"null",v=="array"||v=="object"&&typeof c.length=="number"}function p(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function g(c,v,w){return c.call.apply(c.bind,arguments)}function y(c,v,w){if(!c)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,P),c.apply(v,G)}}return function(){return c.apply(v,arguments)}}function E(c,v,w){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:y,E.apply(null,arguments)}function A(c,v){var w=Array.prototype.slice.call(arguments,1);return function(){var P=w.slice();return P.push.apply(P,arguments),c.apply(this,P)}}function S(c,v){function w(){}w.prototype=v.prototype,c.aa=v.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(P,G,ne){for(var we=Array(arguments.length-2),_t=2;_t<arguments.length;_t++)we[_t-2]=arguments[_t];return v.prototype[G].apply(P,we)}}function C(c){const v=c.length;if(0<v){const w=Array(v);for(let P=0;P<v;P++)w[P]=c[P];return w}return[]}function x(c,v){for(let w=1;w<arguments.length;w++){const P=arguments[w];if(h(P)){const G=c.length||0,ne=P.length||0;c.length=G+ne;for(let we=0;we<ne;we++)c[G+we]=P[we]}else c.push(P)}}class L{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function O(c){return/^[\s\xa0]*$/.test(c)}function U(){var c=f.navigator;return c&&(c=c.userAgent)?c:""}function q(c){return q[" "](c),c}q[" "]=function(){};var W=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function X(c,v,w){for(const P in c)v.call(w,c[P],P,c)}function R(c,v){for(const w in c)v.call(void 0,c[w],w,c)}function T(c){const v={};for(const w in c)v[w]=c[w];return v}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,v){let w,P;for(let G=1;G<arguments.length;G++){P=arguments[G];for(w in P)c[w]=P[w];for(let ne=0;ne<I.length;ne++)w=I[ne],Object.prototype.hasOwnProperty.call(P,w)&&(c[w]=P[w])}}function D(c){var v=1;c=c.split(":");const w=[];for(;0<v&&c.length;)w.push(c.shift()),v--;return c.length&&w.push(c.join(":")),w}function M(c){f.setTimeout(()=>{throw c},0)}function k(){var c=be;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class Pe{constructor(){this.h=this.g=null}add(v,w){const P=je.get();P.set(v,w),this.h?this.h.next=P:this.g=P,this.h=P}}var je=new L(()=>new qe,c=>c.reset());class qe{constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Me,he=!1,be=new Pe,fe=()=>{const c=f.Promise.resolve(void 0);Me=()=>{c.then(H)}};var H=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(w){M(w)}var v=je;v.j(c),100>v.h&&(v.h++,c.next=v.g,v.g=c)}he=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ee(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}Ee.prototype.h=function(){this.defaultPrevented=!0};var Le=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};f.addEventListener("test",w,v),f.removeEventListener("test",w,v)}catch{}return c}();function Ve(c,v){if(Ee.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,P=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget){if(W){e:{try{q(v.nodeName);var G=!0;break e}catch{}G=!1}G||(v=null)}}else w=="mouseover"?v=c.fromElement:w=="mouseout"&&(v=c.toElement);this.relatedTarget=v,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ze[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ve.aa.h.call(this)}}S(Ve,Ee);var ze={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ze="closure_listenable_"+(1e6*Math.random()|0),Qe=0;function st(c,v,w,P,G){this.listener=c,this.proxy=null,this.src=v,this.type=w,this.capture=!!P,this.ha=G,this.key=++Qe,this.da=this.fa=!1}function vt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function mt(c){this.src=c,this.g={},this.h=0}mt.prototype.add=function(c,v,w,P,G){var ne=c.toString();c=this.g[ne],c||(c=this.g[ne]=[],this.h++);var we=xt(c,v,P,G);return-1<we?(v=c[we],w||(v.fa=!1)):(v=new st(v,this.src,ne,!!P,G),v.fa=w,c.push(v)),v};function Bt(c,v){var w=v.type;if(w in c.g){var P=c.g[w],G=Array.prototype.indexOf.call(P,v,void 0),ne;(ne=0<=G)&&Array.prototype.splice.call(P,G,1),ne&&(vt(v),c.g[w].length==0&&(delete c.g[w],c.h--))}}function xt(c,v,w,P){for(var G=0;G<c.length;++G){var ne=c[G];if(!ne.da&&ne.listener==v&&ne.capture==!!w&&ne.ha==P)return G}return-1}var Sr="closure_lm_"+(1e6*Math.random()|0),pi={};function Vi(c,v,w,P,G){if(Array.isArray(v)){for(var ne=0;ne<v.length;ne++)Vi(c,v[ne],w,P,G);return null}return w=ee(w),c&&c[Ze]?c.K(v,w,p(P)?!!P.capture:!!P,G):vs(c,v,w,!1,P,G)}function vs(c,v,w,P,G,ne){if(!v)throw Error("Invalid event type");var we=p(G)?!!G.capture:!!G,_t=pe(c);if(_t||(c[Sr]=_t=new mt(c)),w=_t.add(v,w,P,we,ne),w.proxy)return w;if(P=j(),w.proxy=P,P.src=c,P.listener=w,c.addEventListener)Le||(G=we),G===void 0&&(G=!1),c.addEventListener(v.toString(),P,G);else if(c.attachEvent)c.attachEvent(_e(v.toString()),P);else if(c.addListener&&c.removeListener)c.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return w}function j(){function c(w){return v.call(c.src,c.listener,w)}const v=ge;return c}function Y(c,v,w,P,G){if(Array.isArray(v))for(var ne=0;ne<v.length;ne++)Y(c,v[ne],w,P,G);else P=p(P)?!!P.capture:!!P,w=ee(w),c&&c[Ze]?(c=c.i,v=String(v).toString(),v in c.g&&(ne=c.g[v],w=xt(ne,w,P,G),-1<w&&(vt(ne[w]),Array.prototype.splice.call(ne,w,1),ne.length==0&&(delete c.g[v],c.h--)))):c&&(c=pe(c))&&(v=c.g[v.toString()],c=-1,v&&(c=xt(v,w,P,G)),(w=-1<c?v[c]:null)&&re(w))}function re(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[Ze])Bt(v.i,c);else{var w=c.type,P=c.proxy;v.removeEventListener?v.removeEventListener(w,P,c.capture):v.detachEvent?v.detachEvent(_e(w),P):v.addListener&&v.removeListener&&v.removeListener(P),(w=pe(v))?(Bt(w,c),w.h==0&&(w.src=null,v[Sr]=null)):vt(c)}}}function _e(c){return c in pi?pi[c]:pi[c]="on"+c}function ge(c,v){if(c.da)c=!0;else{v=new Ve(v,this);var w=c.listener,P=c.ha||c.src;c.fa&&re(c),c=w.call(P,v)}return c}function pe(c){return c=c[Sr],c instanceof mt?c:null}var Ne="__closure_events_fn_"+(1e9*Math.random()>>>0);function ee(c){return typeof c=="function"?c:(c[Ne]||(c[Ne]=function(v){return c.handleEvent(v)}),c[Ne])}function z(){oe.call(this),this.i=new mt(this),this.M=this,this.F=null}S(z,oe),z.prototype[Ze]=!0,z.prototype.removeEventListener=function(c,v,w,P){Y(this,c,v,w,P)};function se(c,v){var w,P=c.F;if(P)for(w=[];P;P=P.F)w.push(P);if(c=c.M,P=v.type||v,typeof v=="string")v=new Ee(v,c);else if(v instanceof Ee)v.target=v.target||c;else{var G=v;v=new Ee(P,c),N(v,G)}if(G=!0,w)for(var ne=w.length-1;0<=ne;ne--){var we=v.g=w[ne];G=ue(we,P,!0,v)&&G}if(we=v.g=c,G=ue(we,P,!0,v)&&G,G=ue(we,P,!1,v)&&G,w)for(ne=0;ne<w.length;ne++)we=v.g=w[ne],G=ue(we,P,!1,v)&&G}z.prototype.N=function(){if(z.aa.N.call(this),this.i){var c=this.i,v;for(v in c.g){for(var w=c.g[v],P=0;P<w.length;P++)vt(w[P]);delete c.g[v],c.h--}}this.F=null},z.prototype.K=function(c,v,w,P){return this.i.add(String(c),v,!1,w,P)},z.prototype.L=function(c,v,w,P){return this.i.add(String(c),v,!0,w,P)};function ue(c,v,w,P){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();for(var G=!0,ne=0;ne<v.length;++ne){var we=v[ne];if(we&&!we.da&&we.capture==w){var _t=we.listener,Xt=we.ha||we.src;we.fa&&Bt(c.i,we),G=_t.call(Xt,P)!==!1&&G}}return G&&!P.defaultPrevented}function We(c,v,w){if(typeof c=="function")w&&(c=E(c,w));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(c,v||0)}function Be(c){c.g=We(()=>{c.g=null,c.i&&(c.i=!1,Be(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class Xe extends oe{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Be(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function te(c){oe.call(this),this.h=c,this.g={}}S(te,oe);var ae=[];function Ae(c){X(c.g,function(v,w){this.g.hasOwnProperty(w)&&re(v)},c),c.g={}}te.prototype.N=function(){te.aa.N.call(this),Ae(this)},te.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Se=f.JSON.stringify,Te=f.JSON.parse,Je=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function ht(){}ht.prototype.h=null;function gt(c){return c.h||(c.h=c.i())}function ft(){}var yt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pt(){Ee.call(this,"d")}S(pt,Ee);function Lt(){Ee.call(this,"c")}S(Lt,Ee);var gn={},cr=null;function Tr(){return cr=cr||new z}gn.La="serverreachability";function _s(c){Ee.call(this,gn.La,c)}S(_s,Ee);function xr(c){const v=Tr();se(v,new _s(v))}gn.STAT_EVENT="statevent";function Dl(c,v){Ee.call(this,gn.STAT_EVENT,c),this.stat=v}S(Dl,Ee);function zt(c){const v=Tr();se(v,new Dl(v,c))}gn.Ma="timingevent";function ua(c,v){Ee.call(this,gn.Ma,c),this.size=v}S(ua,Ee);function jr(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},v)}function oo(){this.g=!0}oo.prototype.xa=function(){this.g=!1};function ao(c,v,w,P,G,ne){c.info(function(){if(c.g)if(ne)for(var we="",_t=ne.split("&"),Xt=0;Xt<_t.length;Xt++){var at=_t[Xt].split("=");if(1<at.length){var ln=at[0];at=at[1];var Gt=ln.split("_");we=2<=Gt.length&&Gt[1]=="type"?we+(ln+"="+at+"&"):we+(ln+"=redacted&")}}else we=null;else we=ne;return"XMLHTTP REQ ("+P+") [attempt "+G+"]: "+v+`
`+w+`
`+we})}function ca(c,v,w,P,G,ne,we){c.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+G+"]: "+v+`
`+w+`
`+ne+" "+we})}function Ur(c,v,w,P){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+Yh(c,w)+(P?" "+P:"")})}function Ll(c,v){c.info(function(){return"TIMEOUT: "+v})}oo.prototype.info=function(){};function Yh(c,v){if(!c.g)return v;if(!v)return null;try{var w=JSON.parse(v);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var P=w[c];if(!(2>P.length)){var G=P[1];if(Array.isArray(G)&&!(1>G.length)){var ne=G[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var we=1;we<G.length;we++)G[we]=""}}}}return Se(w)}catch{return v}}var fa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Tc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$r;function lo(){}S(lo,ht),lo.prototype.g=function(){return new XMLHttpRequest},lo.prototype.i=function(){return{}},$r=new lo;function Br(c,v,w,P){this.j=c,this.i=v,this.l=w,this.R=P||1,this.U=new te(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xc}function xc(){this.i=null,this.g="",this.h=!1}var Ml={},da={};function ha(c,v,w){c.L=1,c.v=Ts(dr(v)),c.m=w,c.P=!0,Fl(c,null)}function Fl(c,v){c.F=Date.now(),At(c),c.A=dr(c.v);var w=c.A,P=c.R;Array.isArray(P)||(P=[String(P)]),As(w.i,"t",P),c.C=0,w=c.j.J,c.h=new xc,c.g=zc(c.j,w?v:null,!c.m),0<c.O&&(c.M=new Xe(E(c.Y,c,c.g),c.O)),v=c.U,w=c.g,P=c.ca;var G="readystatechange";Array.isArray(G)||(G&&(ae[0]=G.toString()),G=ae);for(var ne=0;ne<G.length;ne++){var we=Vi(w,G[ne],P||v.handleEvent,!1,v.h||v);if(!we)break;v.g[we.key]=we}v=c.H?T(c.H):{},c.m?(c.u||(c.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,v)):(c.u="GET",c.g.ea(c.A,c.u,null,v)),xr(),ao(c.i,c.u,c.A,c.l,c.R,c.m)}Br.prototype.ca=function(c){c=c.target;const v=this.M;v&&Qn(c)==3?v.j():this.Y(c)},Br.prototype.Y=function(c){try{if(c==this.g)e:{const Gt=Qn(this.g);var v=this.g.Ba();const Pr=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||zl(this.g)))){this.J||Gt!=4||v==7||(v==8||0>=Pr?xr(3):xr(2)),uo(this);var w=this.g.Z();this.X=w;t:if(Ac(this)){var P=zl(this.g);c="";var G=P.length,ne=Qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ar(this),ws(this);var we="";break t}this.h.i=new f.TextDecoder}for(v=0;v<G;v++)this.h.h=!0,c+=this.h.i.decode(P[v],{stream:!(ne&&v==G-1)});P.length=0,this.h.g+=c,this.C=0,we=this.h.g}else we=this.g.oa();if(this.o=w==200,ca(this.i,this.u,this.A,this.l,this.R,Gt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var _t,Xt=this.g;if((_t=Xt.g?Xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(_t)){var at=_t;break t}}at=null}if(w=at)Ur(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vl(this,w);else{this.o=!1,this.s=3,zt(12),Ar(this),ws(this);break e}}if(this.P){w=!0;let pr;for(;!this.J&&this.C<we.length;)if(pr=Xh(this,we),pr==da){Gt==4&&(this.s=4,zt(14),w=!1),Ur(this.i,this.l,null,"[Incomplete Response]");break}else if(pr==Ml){this.s=4,zt(15),Ur(this.i,this.l,we,"[Invalid Chunk]"),w=!1;break}else Ur(this.i,this.l,pr,null),Vl(this,pr);if(Ac(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||we.length!=0||this.h.h||(this.s=1,zt(16),w=!1),this.o=this.o&&w,!w)Ur(this.i,this.l,we,"[Invalid Chunked Response]"),Ar(this),ws(this);else if(0<we.length&&!this.W){this.W=!0;var ln=this.j;ln.g==this&&ln.ba&&!ln.M&&(ln.j.info("Great, no buffering proxy detected. Bytes received: "+we.length),Hl(ln),ln.M=!0,zt(11))}}else Ur(this.i,this.l,we,null),Vl(this,we);Gt==4&&Ar(this),this.o&&!this.J&&(Gt==4?Ta(this.j,this):(this.o=!1,At(this)))}else _a(this.g),w==400&&0<we.indexOf("Unknown SID")?(this.s=3,zt(12)):(this.s=0,zt(13)),Ar(this),ws(this)}}}catch{}finally{}};function Ac(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Xh(c,v){var w=c.C,P=v.indexOf(`
`,w);return P==-1?da:(w=Number(v.substring(w,P)),isNaN(w)?Ml:(P+=1,P+w>v.length?da:(v=v.slice(P,P+w),c.C=P+w,v)))}Br.prototype.cancel=function(){this.J=!0,Ar(this)};function At(c){c.S=Date.now()+c.I,Ic(c,c.I)}function Ic(c,v){if(c.B!=null)throw Error("WatchDog timer not null");c.B=jr(E(c.ba,c),v)}function uo(c){c.B&&(f.clearTimeout(c.B),c.B=null)}Br.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ll(this.i,this.A),this.L!=2&&(xr(),zt(17)),Ar(this),this.s=2,ws(this)):Ic(this,this.S-c)};function ws(c){c.j.G==0||c.J||Ta(c.j,c)}function Ar(c){uo(c);var v=c.M;v&&typeof v.ma=="function"&&v.ma(),c.M=null,Ae(c.U),c.g&&(v=c.g,c.g=null,v.abort(),v.ma())}function Vl(c,v){try{var w=c.j;if(w.G!=0&&(w.g==c||$n(w.h,c))){if(!c.K&&$n(w.h,c)&&w.G==3){try{var P=w.Da.g.parse(v)}catch{P=null}if(Array.isArray(P)&&P.length==3){var G=P;if(G[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)Sa(w),Gr(w);else break e;ba(w),zt(18)}}else w.za=G[1],0<w.za-w.T&&37500>G[2]&&w.F&&w.v==0&&!w.C&&(w.C=jr(E(w.Za,w),6e3));if(1>=Cc(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else zi(w,11)}else if((c.K||w.g==c)&&Sa(w),!O(v))for(G=w.Da.g.parse(v),v=0;v<G.length;v++){let at=G[v];if(w.T=at[0],at=at[1],w.G==2)if(at[0]=="c"){w.K=at[1],w.ia=at[2];const ln=at[3];ln!=null&&(w.la=ln,w.j.info("VER="+w.la));const Gt=at[4];Gt!=null&&(w.Aa=Gt,w.j.info("SVER="+w.Aa));const Pr=at[5];Pr!=null&&typeof Pr=="number"&&0<Pr&&(P=1.5*Pr,w.L=P,w.j.info("backChannelRequestTimeoutMs_="+P)),P=w;const pr=c.g;if(pr){const yo=pr.g?pr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yo){var ne=P.h;ne.g||yo.indexOf("spdy")==-1&&yo.indexOf("quic")==-1&&yo.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(jl(ne,ne.h),ne.h=null))}if(P.D){const Aa=pr.g?pr.g.getResponseHeader("X-HTTP-Session-Id"):null;Aa&&(P.ya=Aa,Tt(P.I,P.D,Aa))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),P=w;var we=c;if(P.qa=Bc(P,P.J?P.ia:null,P.W),we.K){Rc(P.h,we);var _t=we,Xt=P.L;Xt&&(_t.I=Xt),_t.B&&(uo(_t),At(_t)),P.g=we}else go(P);0<w.i.length&&vi(w)}else at[0]!="stop"&&at[0]!="close"||zi(w,7);else w.G==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?zi(w,7):vn(w):at[0]!="noop"&&w.l&&w.l.ta(at),w.v=0)}}xr(4)}catch{}}var Pc=class{constructor(c,v){this.g=c,this.map=v}};function co(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fr(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Cc(c){return c.h?1:c.g?c.g.size:0}function $n(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function jl(c,v){c.g?c.g.add(v):c.h=v}function Rc(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}co.prototype.cancel=function(){if(this.i=kc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function kc(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const w of c.g.values())v=v.concat(w.D);return v}return C(c.i)}function pa(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(h(c)){for(var v=[],w=c.length,P=0;P<w;P++)v.push(c[P]);return v}v=[],w=0;for(P in c)v[w++]=c[P];return v}function ma(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(h(c)||typeof c=="string"){var v=[];c=c.length;for(var w=0;w<c;w++)v.push(w);return v}v=[],w=0;for(const P in c)v[w++]=P;return v}}}function Es(c,v){if(c.forEach&&typeof c.forEach=="function")c.forEach(v,void 0);else if(h(c)||typeof c=="string")Array.prototype.forEach.call(c,v,void 0);else for(var w=ma(c),P=pa(c),G=P.length,ne=0;ne<G;ne++)v.call(void 0,P[ne],w&&w[ne],c)}var fo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zh(c,v){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var P=c[w].indexOf("="),G=null;if(0<=P){var ne=c[w].substring(0,P);G=c[w].substring(P+1)}else ne=c[w];v(ne,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function ji(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ji){this.h=c.h,ho(this,c.j),this.o=c.o,this.g=c.g,bs(this,c.s),this.l=c.l;var v=c.i,w=new mi;w.i=v.i,v.g&&(w.g=new Map(v.g),w.h=v.h),Ss(this,w),this.m=c.m}else c&&(v=String(c).match(fo))?(this.h=!1,ho(this,v[1]||"",!0),this.o=ot(v[2]||""),this.g=ot(v[3]||"",!0),bs(this,v[4]),this.l=ot(v[5]||"",!0),Ss(this,v[6]||"",!0),this.m=ot(v[7]||"")):(this.h=!1,this.i=new mi(null,this.h))}ji.prototype.toString=function(){var c=[],v=this.j;v&&c.push(xs(v,ga,!0),":");var w=this.g;return(w||v=="file")&&(c.push("//"),(v=this.o)&&c.push(xs(v,ga,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(xs(w,w.charAt(0)=="/"?Dc:Nc,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",xs(w,Ul)),c.join("")};function dr(c){return new ji(c)}function ho(c,v,w){c.j=w?ot(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function bs(c,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);c.s=v}else c.s=null}function Ss(c,v,w){v instanceof mi?(c.i=v,gi(c.i,c.h)):(w||(v=xs(v,Lc)),c.i=new mi(v,c.h))}function Tt(c,v,w){c.i.set(v,w)}function Ts(c){return Tt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ot(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function xs(c,v,w){return typeof c=="string"?(c=encodeURI(c).replace(v,Oc),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Oc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ga=/[#\/\?@]/g,Nc=/[#\?:]/g,Dc=/[#\?]/g,Lc=/[#\?@]/g,Ul=/#/g;function mi(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function yn(c){c.g||(c.g=new Map,c.h=0,c.i&&Zh(c.i,function(v,w){c.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}n=mi.prototype,n.add=function(c,v){yn(this),this.i=null,c=Ir(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(v),this.h+=1,this};function zr(c,v){yn(c),v=Ir(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function qr(c,v){return yn(c),v=Ir(c,v),c.g.has(v)}n.forEach=function(c,v){yn(this),this.g.forEach(function(w,P){w.forEach(function(G){c.call(v,G,P,this)},this)},this)},n.na=function(){yn(this);const c=Array.from(this.g.values()),v=Array.from(this.g.keys()),w=[];for(let P=0;P<v.length;P++){const G=c[P];for(let ne=0;ne<G.length;ne++)w.push(v[P])}return w},n.V=function(c){yn(this);let v=[];if(typeof c=="string")qr(this,c)&&(v=v.concat(this.g.get(Ir(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)v=v.concat(c[w])}return v},n.set=function(c,v){return yn(this),this.i=null,c=Ir(this,c),qr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},n.get=function(c,v){return c?(c=this.V(c),0<c.length?String(c[0]):v):v};function As(c,v,w){zr(c,v),0<w.length&&(c.i=null,c.g.set(Ir(c,v),C(w)),c.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(var w=0;w<v.length;w++){var P=v[w];const ne=encodeURIComponent(String(P)),we=this.V(P);for(P=0;P<we.length;P++){var G=ne;we[P]!==""&&(G+="="+encodeURIComponent(String(we[P]))),c.push(G)}}return this.i=c.join("&")};function Ir(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function gi(c,v){v&&!c.j&&(yn(c),c.i=null,c.g.forEach(function(w,P){var G=P.toLowerCase();P!=G&&(zr(this,P),As(this,G,w))},c)),c.j=v}function ep(c,v){const w=new oo;if(f.Image){const P=new Image;P.onload=A(Kn,w,"TestLoadImage: loaded",!0,v,P),P.onerror=A(Kn,w,"TestLoadImage: error",!1,v,P),P.onabort=A(Kn,w,"TestLoadImage: abort",!1,v,P),P.ontimeout=A(Kn,w,"TestLoadImage: timeout",!1,v,P),f.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=c}else v(!1)}function Mc(c,v){const w=new oo,P=new AbortController,G=setTimeout(()=>{P.abort(),Kn(w,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:P.signal}).then(ne=>{clearTimeout(G),ne.ok?Kn(w,"TestPingServer: ok",!0,v):Kn(w,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(G),Kn(w,"TestPingServer: error",!1,v)})}function Kn(c,v,w,P,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),P(w)}catch{}}function tp(){this.g=new Je}function Fc(c,v,w){const P=w||"";try{Es(c,function(G,ne){let we=G;p(G)&&(we=Se(G)),v.push(P+ne+"="+encodeURIComponent(we))})}catch(G){throw v.push(P+"type="+encodeURIComponent("_badmap")),G}}function Ui(c){this.l=c.Ub||null,this.j=c.eb||!1}S(Ui,ht),Ui.prototype.g=function(){return new po(this.l,this.j)},Ui.prototype.i=function(c){return function(){return c}}({});function po(c,v){z.call(this),this.D=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(po,z),n=po.prototype,n.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=v,this.readyState=1,Wr(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(v.body=c),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hr(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Wr(this)),this.g&&(this.readyState=3,Wr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vc(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vc(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?Hr(this):Wr(this),this.readyState==3&&Vc(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Hr(this))},n.Qa=function(c){this.g&&(this.response=c,Hr(this))},n.ga=function(){this.g&&Hr(this)};function Hr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Wr(c)}n.setRequestHeader=function(c,v){this.u.append(c,v)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var w=v.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=v.next();return c.join(`\r
`)};function Wr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(po.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function $i(c){let v="";return X(c,function(w,P){v+=P,v+=":",v+=w,v+=`\r
`}),v}function Is(c,v,w){e:{for(P in w){var P=!1;break e}P=!0}P||(w=$i(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):Tt(c,v,w))}function kt(c){z.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(kt,z);var np=/^https?$/i,$l=["POST","PUT"];n=kt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,v,w,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$r.g(),this.v=this.o?gt(this.o):gt($r),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(ne){mo(this,ne);return}if(c=w||"",w=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var G in P)w.set(G,P[G]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const ne of P.keys())w.set(ne,P.get(ne));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(w.keys()).find(ne=>ne.toLowerCase()=="content-type"),G=f.FormData&&c instanceof f.FormData,!(0<=Array.prototype.indexOf.call($l,v,void 0))||P||G||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,we]of w)this.g.setRequestHeader(ne,we);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{va(this),this.u=!0,this.g.send(c),this.u=!1}catch(ne){mo(this,ne)}};function mo(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.m=5,ya(c),hr(c)}function ya(c){c.A||(c.A=!0,se(c,"complete"),se(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,se(this,"complete"),se(this,"abort"),hr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hr(this,!0)),kt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Bl(this):this.bb())},n.bb=function(){Bl(this)};function Bl(c){if(c.h&&typeof l<"u"&&(!c.v[1]||Qn(c)!=4||c.Z()!=2)){if(c.u&&Qn(c)==4)We(c.Ea,0,c);else if(se(c,"readystatechange"),Qn(c)==4){c.h=!1;try{const we=c.Z();e:switch(we){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var w;if(!(w=v)){var P;if(P=we===0){var G=String(c.D).match(fo)[1]||null;!G&&f.self&&f.self.location&&(G=f.self.location.protocol.slice(0,-1)),P=!np.test(G?G.toLowerCase():"")}w=P}if(w)se(c,"complete"),se(c,"success");else{c.m=6;try{var ne=2<Qn(c)?c.g.statusText:""}catch{ne=""}c.l=ne+" ["+c.Z()+"]",ya(c)}}finally{hr(c)}}}}function hr(c,v){if(c.g){va(c);const w=c.g,P=c.v[0]?()=>{}:null;c.g=null,c.v=null,v||se(c,"ready");try{w.onreadystatechange=P}catch{}}}function va(c){c.I&&(f.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Qn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Qn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),Te(v)}};function zl(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function _a(c){const v={};c=(c.g&&2<=Qn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<c.length;P++){if(O(c[P]))continue;var w=D(c[P]);const G=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const ne=v[G]||[];v[G]=ne,ne.push(w)}R(v,function(P){return P.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function yi(c,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||v}function ql(c){this.Aa=0,this.i=[],this.j=new oo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=yi("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=yi("baseRetryDelayMs",5e3,c),this.cb=yi("retryDelaySeedMs",1e4,c),this.Wa=yi("forwardChannelMaxRetries",2,c),this.wa=yi("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new co(c&&c.concurrentRequestLimit),this.Da=new tp,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ql.prototype,n.la=8,n.G=1,n.connect=function(c,v,w,P){zt(0),this.W=c,this.H=v||{},w&&P!==void 0&&(this.H.OSID=w,this.H.OAID=P),this.F=this.X,this.I=Bc(this,null,this.W),vi(this)};function vn(c){if(wa(c),c.G==3){var v=c.U++,w=dr(c.I);if(Tt(w,"SID",c.K),Tt(w,"RID",v),Tt(w,"TYPE","terminate"),Bi(c,w),v=new Br(c,c.j,v),v.L=2,v.v=Ts(dr(w)),w=!1,f.navigator&&f.navigator.sendBeacon)try{w=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!w&&f.Image&&(new Image().src=v.v,w=!0),w||(v.g=zc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),At(v)}$c(c)}function Gr(c){c.g&&(Hl(c),c.g.cancel(),c.g=null)}function wa(c){Gr(c),c.u&&(f.clearTimeout(c.u),c.u=null),Sa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&f.clearTimeout(c.s),c.s=null)}function vi(c){if(!fr(c.h)&&!c.s){c.s=!0;var v=c.Ga;Me||fe(),he||(Me(),he=!0),be.add(v,c),c.B=0}}function rp(c,v){return Cc(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=v.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=jr(E(c.Ga,c,v),Uc(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const G=new Br(this,this.j,c);let ne=this.o;if(this.S&&(ne?(ne=T(ne),N(ne,this.S)):ne=this.S),this.m!==null||this.O||(G.H=ne,ne=null),this.P)e:{for(var v=0,w=0;w<this.i.length;w++){t:{var P=this.i[w];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(v+=P,4096<v){v=w;break e}if(v===4096||w===this.i.length-1){v=w+1;break e}}v=1e3}else v=1e3;v=Ps(this,G,v),w=dr(this.I),Tt(w,"RID",c),Tt(w,"CVER",22),this.D&&Tt(w,"X-HTTP-Session-Id",this.D),Bi(this,w),ne&&(this.O?v="headers="+encodeURIComponent(String($i(ne)))+"&"+v:this.m&&Is(w,this.m,ne)),jl(this.h,G),this.Ua&&Tt(w,"TYPE","init"),this.P?(Tt(w,"$req",v),Tt(w,"SID","null"),G.T=!0,ha(G,w,null)):ha(G,w,v),this.G=2}}else this.G==3&&(c?Ea(this,c):this.i.length==0||fr(this.h)||Ea(this))};function Ea(c,v){var w;v?w=v.l:w=c.U++;const P=dr(c.I);Tt(P,"SID",c.K),Tt(P,"RID",w),Tt(P,"AID",c.T),Bi(c,P),c.m&&c.o&&Is(P,c.m,c.o),w=new Br(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),v&&(c.i=v.D.concat(c.i)),v=Ps(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),jl(c.h,w),ha(w,P,v)}function Bi(c,v){c.H&&X(c.H,function(w,P){Tt(v,P,w)}),c.l&&Es({},function(w,P){Tt(v,P,w)})}function Ps(c,v,w){w=Math.min(c.i.length,w);var P=c.l?E(c.l.Na,c.l,c):null;e:{var G=c.i;let ne=-1;for(;;){const we=["count="+w];ne==-1?0<w?(ne=G[0].g,we.push("ofs="+ne)):ne=0:we.push("ofs="+ne);let _t=!0;for(let Xt=0;Xt<w;Xt++){let at=G[Xt].g;const ln=G[Xt].map;if(at-=ne,0>at)ne=Math.max(0,G[Xt].g-100),_t=!1;else try{Fc(ln,we,"req"+at+"_")}catch{P&&P(ln)}}if(_t){P=we.join("&");break e}}}return c=c.i.splice(0,w),v.D=c,P}function go(c){if(!c.g&&!c.u){c.Y=1;var v=c.Fa;Me||fe(),he||(Me(),he=!0),be.add(v,c),c.v=0}}function ba(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=jr(E(c.Fa,c),Uc(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,jc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=jr(E(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,zt(10),Gr(this),jc(this))};function Hl(c){c.A!=null&&(f.clearTimeout(c.A),c.A=null)}function jc(c){c.g=new Br(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var v=dr(c.qa);Tt(v,"RID","rpc"),Tt(v,"SID",c.K),Tt(v,"AID",c.T),Tt(v,"CI",c.F?"0":"1"),!c.F&&c.ja&&Tt(v,"TO",c.ja),Tt(v,"TYPE","xmlhttp"),Bi(c,v),c.m&&c.o&&Is(v,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=Ts(dr(v)),w.m=null,w.P=!0,Fl(w,c)}n.Za=function(){this.C!=null&&(this.C=null,Gr(this),ba(this),zt(19))};function Sa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Ta(c,v){var w=null;if(c.g==v){Sa(c),Hl(c),c.g=null;var P=2}else if($n(c.h,v))w=v.D,Rc(c.h,v),P=1;else return;if(c.G!=0){if(v.o)if(P==1){w=v.m?v.m.length:0,v=Date.now()-v.F;var G=c.B;P=Tr(),se(P,new ua(P,w)),vi(c)}else go(c);else if(G=v.s,G==3||G==0&&0<v.X||!(P==1&&rp(c,v)||P==2&&ba(c)))switch(w&&0<w.length&&(v=c.h,v.i=v.i.concat(w)),G){case 1:zi(c,5);break;case 4:zi(c,10);break;case 3:zi(c,6);break;default:zi(c,2)}}}function Uc(c,v){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*v}function zi(c,v){if(c.j.info("Error code "+v),v==2){var w=E(c.fb,c),P=c.Xa;const G=!P;P=new ji(P||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ho(P,"https"),Ts(P),G?ep(P.toString(),w):Mc(P.toString(),w)}else zt(2);c.G=0,c.l&&c.l.sa(v),$c(c),wa(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function $c(c){if(c.G=0,c.ka=[],c.l){const v=kc(c.h);(v.length!=0||c.i.length!=0)&&(x(c.ka,v),x(c.ka,c.i),c.h.i.length=0,C(c.i),c.i.length=0),c.l.ra()}}function Bc(c,v,w){var P=w instanceof ji?dr(w):new ji(w);if(P.g!="")v&&(P.g=v+"."+P.g),bs(P,P.s);else{var G=f.location;P=G.protocol,v=v?v+"."+G.hostname:G.hostname,G=+G.port;var ne=new ji(null);P&&ho(ne,P),v&&(ne.g=v),G&&bs(ne,G),w&&(ne.l=w),P=ne}return w=c.D,v=c.ya,w&&v&&Tt(P,w,v),Tt(P,"VER",c.la),Bi(c,P),P}function zc(c,v,w){if(v&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Ca&&!c.pa?new kt(new Ui({eb:w})):new kt(c.pa),v.Ha(c.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wl(){}n=Wl.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function xa(){}xa.prototype.g=function(c,v){return new Bn(c,v)};function Bn(c,v){z.call(this),this.g=new ql(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(c?c["X-WebChannel-Client-Profile"]=v.va:c={"X-WebChannel-Client-Profile":v.va}),this.g.S=c,(c=v&&v.Sb)&&!O(c)&&(this.g.m=c),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!O(v)&&(this.g.D=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new _i(this)}S(Bn,z),Bn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bn.prototype.close=function(){vn(this.g)},Bn.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=Se(c),c=w);v.i.push(new Pc(v.Ya++,c)),v.G==3&&vi(v)},Bn.prototype.N=function(){this.g.l=null,delete this.j,vn(this.g),delete this.g,Bn.aa.N.call(this)};function qc(c){pt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const w in v){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}S(qc,pt);function Hc(){Lt.call(this),this.status=1}S(Hc,Lt);function _i(c){this.g=c}S(_i,Wl),_i.prototype.ua=function(){se(this.g,"a")},_i.prototype.ta=function(c){se(this.g,new qc(c))},_i.prototype.sa=function(c){se(this.g,new Hc)},_i.prototype.ra=function(){se(this.g,"b")},xa.prototype.createWebChannel=xa.prototype.g,Bn.prototype.send=Bn.prototype.o,Bn.prototype.open=Bn.prototype.m,Bn.prototype.close=Bn.prototype.close,CA=function(){return new xa},PA=function(){return Tr()},IA=gn,fy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fa.NO_ERROR=0,fa.TIMEOUT=8,fa.HTTP_ERROR=6,Cd=fa,Tc.COMPLETE="complete",AA=Tc,ft.EventType=yt,yt.OPEN="a",yt.CLOSE="b",yt.ERROR="c",yt.MESSAGE="d",z.prototype.listen=z.prototype.K,Ou=ft,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,xA=kt}).apply(typeof sd<"u"?sd:typeof self<"u"?self:typeof window<"u"?window:{});const bb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fn.UNAUTHENTICATED=new Fn(null),Fn.GOOGLE_CREDENTIALS=new Fn("google-credentials-uid"),Fn.FIRST_PARTY=new Fn("first-party-uid"),Fn.MOCK_USER=new Fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nl="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=new Dy("@firebase/firestore");function Za(){return ea.logLevel}function Oe(n,...e){if(ea.logLevel<=nt.DEBUG){const t=e.map(Cv);ea.debug(`Firestore (${Nl}): ${n}`,...t)}}function ta(n,...e){if(ea.logLevel<=nt.ERROR){const t=e.map(Cv);ea.error(`Firestore (${Nl}): ${n}`,...t)}}function nh(n,...e){if(ea.logLevel<=nt.WARN){const t=e.map(Cv);ea.warn(`Firestore (${Nl}): ${n}`,...t)}}function Cv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(n="Unexpected state"){const e=`FIRESTORE (${Nl}) INTERNAL ASSERTION FAILED: `+n;throw ta(e),new Error(e)}function $t(n,e){n||it()}function Pt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ke extends gs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Fn.UNAUTHENTICATED))}shutdown(){}}class HF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class WF{constructor(e){this.t=e,this.currentUser=Fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$t(this.o===void 0);let r=this.i;const i=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let a=new zo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new zo,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},f=h=>{Oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>f(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?f(h):(Oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new zo)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($t(typeof r.accessToken=="string"),new RA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $t(e===null||typeof e=="string"),new Fn(e)}}class GF{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Fn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class KF{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new GF(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class QF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JF{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){$t(this.o===void 0);const r=a=>{a.error!=null&&Oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,Oe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):Oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($t(typeof t.token=="string"),this.R=t.token,new QF(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YF(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=YF(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function wt(n,e){return n<e?-1:n>e?1:0}function gl(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{static now(){return mn.fromMillis(Date.now())}static fromDate(e){return mn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new mn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ke(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ke(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ke(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ke(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?wt(this.nanoseconds,e.nanoseconds):wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{static fromTimestamp(e){return new Nt(e)}static min(){return new Nt(new mn(0,0))}static max(){return new Nt(new mn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,t,r){t===void 0?t=0:t>e.length&&it(),r===void 0?r=e.length-t:r>e.length-t&&it(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Yu.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yu?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),l=t.get(i);if(a<l)return-1;if(a>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Yt extends Yu{construct(e,t,r){return new Yt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ke(ve.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Yt(t)}static emptyPath(){return new Yt([])}}const XF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class In extends Yu{construct(e,t,r){return new In(e,t,r)}static isValidIdentifier(e){return XF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),In.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new In(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Ke(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const f=e[i];if(f==="\\"){if(i+1===e.length)throw new Ke(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ke(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else f==="`"?(l=!l,i++):f!=="."||l?(r+=f,i++):(a(),i++)}if(a(),l)throw new Ke(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new In(t)}static emptyPath(){return new In([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.path=e}static fromPath(e){return new et(Yt.fromString(e))}static fromName(e){return new et(Yt.fromString(e).popFirst(5))}static empty(){return new et(Yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Yt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new et(new Yt(e.slice()))}}function ZF(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Nt.fromTimestamp(r===1e9?new mn(t+1,0):new mn(t,r));return new to(i,et.empty(),e)}function eV(n){return new to(n.readTime,n.key,-1)}class to{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new to(Nt.min(),et.empty(),-1)}static max(){return new to(Nt.max(),et.empty(),-1)}}function tV(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=et.comparator(n.documentKey,e.documentKey),t!==0?t:wt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rv(n){if(n.code!==ve.FAILED_PRECONDITION||n.message!==nV)throw n;Oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&it(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,r)=>{t(e)})}static reject(e){return new le((t,r)=>{r(e)})}static waitFor(e){return new le((t,r)=>{let i=0,a=0,l=!1;e.forEach(f=>{++i,f.next(()=>{++a,l&&a===i&&t()},h=>r(h))}),l=!0,a===i&&t()})}static or(e){let t=le.resolve(!1);for(const r of e)t=t.next(i=>i?le.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new le((r,i)=>{const a=e.length,l=new Array(a);let f=0;for(let h=0;h<a;h++){const p=h;t(e[p]).next(g=>{l[p]=g,++f,f===a&&r(l)},g=>i(g))}})}static doWhile(e,t){return new le((r,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):r()};a()})}}function iV(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function wc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}kv.oe=-1;function Ov(n){return n==null}function rh(n){return n===0&&1/n==-1/0}function sV(n){return typeof n=="number"&&Number.isInteger(n)&&!rh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Sb(e)),e=aV(n.get(t),e);return Sb(e)}function aV(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function Sb(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function oa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function OA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,t){this.comparator=e,this.root=t||Tn.EMPTY}insert(e,t){return new ur(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(e){return new ur(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new od(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new od(this.root,e,this.comparator,!1)}getReverseIterator(){return new od(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new od(this.root,e,this.comparator,!0)}}class od{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tn{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Tn.RED,this.left=i??Tn.EMPTY,this.right=a??Tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Tn(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Tn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw it();const e=this.left.check();if(e!==this.right.check())throw it();return e+(this.isRed()?0:1)}}Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1;Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw it()}get value(){throw it()}get color(){throw it()}get left(){throw it()}get right(){throw it()}copy(e,t,r,i,a){return this}insert(e,t,r){return new Tn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.comparator=e,this.data=new ur(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xb(this.data.getIterator())}getIteratorFrom(e){return new xb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Pn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Pn(this.comparator);return t.data=e,t}}class xb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this.fields=e,e.sort(In.comparator)}static empty(){return new li([])}unionWith(e){let t=new Pn(In.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new li(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return gl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new lV("Invalid base64 string: "+a):a}}(e);return new Mi(t)}static fromUint8Array(e){const t=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new Mi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mi.EMPTY_BYTE_STRING=new Mi("");const uV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function na(n){if($t(!!n),typeof n=="string"){let e=0;const t=uV.exec(n);if($t(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xn(n.seconds),nanos:xn(n.nanos)}}function xn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function yl(n){return typeof n=="string"?Mi.fromBase64String(n):Mi.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Dv(n){const e=n.mapValue.fields.__previous_value__;return Nv(e)?Dv(e):e}function ih(n){const e=na(n.mapValue.fields.__local_write_time__.timestampValue);return new mn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e,t,r,i,a,l,f,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=f,this.longPollingOptions=h,this.useFetchStreams=p}}class sh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new sh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof sh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ra(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Nv(n)?4:dV(n)?9007199254740991:fV(n)?10:11:it()}function Fi(n,e){if(n===e)return!0;const t=ra(n);if(t!==ra(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ih(n).isEqual(ih(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=na(i.timestampValue),f=na(a.timestampValue);return l.seconds===f.seconds&&l.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,a){return yl(i.bytesValue).isEqual(yl(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return xn(i.geoPointValue.latitude)===xn(a.geoPointValue.latitude)&&xn(i.geoPointValue.longitude)===xn(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return xn(i.integerValue)===xn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=xn(i.doubleValue),f=xn(a.doubleValue);return l===f?rh(l)===rh(f):isNaN(l)&&isNaN(f)}return!1}(n,e);case 9:return gl(n.arrayValue.values||[],e.arrayValue.values||[],Fi);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},f=a.mapValue.fields||{};if(Tb(l)!==Tb(f))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(f[h]===void 0||!Fi(l[h],f[h])))return!1;return!0}(n,e);default:return it()}}function Xu(n,e){return(n.values||[]).find(t=>Fi(t,e))!==void 0}function vl(n,e){if(n===e)return 0;const t=ra(n),r=ra(e);if(t!==r)return wt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return wt(n.booleanValue,e.booleanValue);case 2:return function(a,l){const f=xn(a.integerValue||a.doubleValue),h=xn(l.integerValue||l.doubleValue);return f<h?-1:f>h?1:f===h?0:isNaN(f)?isNaN(h)?0:-1:1}(n,e);case 3:return Ab(n.timestampValue,e.timestampValue);case 4:return Ab(ih(n),ih(e));case 5:return wt(n.stringValue,e.stringValue);case 6:return function(a,l){const f=yl(a),h=yl(l);return f.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const f=a.split("/"),h=l.split("/");for(let p=0;p<f.length&&p<h.length;p++){const g=wt(f[p],h[p]);if(g!==0)return g}return wt(f.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const f=wt(xn(a.latitude),xn(l.latitude));return f!==0?f:wt(xn(a.longitude),xn(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Ib(n.arrayValue,e.arrayValue);case 10:return function(a,l){var f,h,p,g;const y=a.fields||{},E=l.fields||{},A=(f=y.value)===null||f===void 0?void 0:f.arrayValue,S=(h=E.value)===null||h===void 0?void 0:h.arrayValue,C=wt(((p=A==null?void 0:A.values)===null||p===void 0?void 0:p.length)||0,((g=S==null?void 0:S.values)===null||g===void 0?void 0:g.length)||0);return C!==0?C:Ib(A,S)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===ad.mapValue&&l===ad.mapValue)return 0;if(a===ad.mapValue)return 1;if(l===ad.mapValue)return-1;const f=a.fields||{},h=Object.keys(f),p=l.fields||{},g=Object.keys(p);h.sort(),g.sort();for(let y=0;y<h.length&&y<g.length;++y){const E=wt(h[y],g[y]);if(E!==0)return E;const A=vl(f[h[y]],p[g[y]]);if(A!==0)return A}return wt(h.length,g.length)}(n.mapValue,e.mapValue);default:throw it()}}function Ab(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return wt(n,e);const t=na(n),r=na(e),i=wt(t.seconds,r.seconds);return i!==0?i:wt(t.nanos,r.nanos)}function Ib(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=vl(t[i],r[i]);if(a)return a}return wt(t.length,r.length)}function _l(n){return dy(n)}function dy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=na(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return yl(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return et.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=dy(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${dy(t.fields[l])}`;return i+"}"}(n.mapValue):it()}function Rd(n){switch(ra(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dv(n);return e?16+Rd(e):16;case 5:return 2*n.stringValue.length;case 6:return yl(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Rd(a),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return oa(r.fields,(a,l)=>{i+=a.length+Rd(l)}),i}(n.mapValue);default:throw it()}}function hy(n){return!!n&&"integerValue"in n}function Lv(n){return!!n&&"arrayValue"in n}function kd(n){return!!n&&"mapValue"in n}function fV(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Mu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return oa(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Mu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Mu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function dV(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this.value=e}static empty(){return new Mr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!kd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mu(t)}setAll(e){let t=In.emptyPath(),r={},i=[];e.forEach((l,f)=>{if(!t.isImmediateParentOf(f)){const h=this.getFieldsMap(t);this.applyChanges(h,r,i),r={},i=[],t=f.popLast()}l?r[f.lastSegment()]=Mu(l):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());kd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];kd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){oa(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Mr(Mu(this.value))}}function NA(n){const e=[];return oa(n.fields,(t,r)=>{const i=new In([t]);if(kd(r)){const a=NA(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new li(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,t,r,i,a,l,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=f}static newInvalidDocument(e){return new ni(e,0,Nt.min(),Nt.min(),Nt.min(),Mr.empty(),0)}static newFoundDocument(e,t,r,i){return new ni(e,1,t,Nt.min(),r,i,0)}static newNoDocument(e,t){return new ni(e,2,t,Nt.min(),Nt.min(),Mr.empty(),0)}static newUnknownDocument(e,t){return new ni(e,3,t,Nt.min(),Nt.min(),Mr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ni&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ni(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,t){this.position=e,this.inclusive=t}}function Pb(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(a.field.isKeyField()?r=et.comparator(et.fromName(l.referenceValue),t.key):r=vl(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Cb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Fi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,t="asc"){this.field=e,this.dir=t}}function hV(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{}class pn extends DA{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new mV(e,t,r):t==="array-contains"?new vV(e,r):t==="in"?new _V(e,r):t==="not-in"?new wV(e,r):t==="array-contains-any"?new EV(e,r):new pn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new gV(e,r):new yV(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(vl(t,this.value)):t!==null&&ra(this.value)===ra(t)&&this.matchesComparison(vl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return it()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class no extends DA{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new no(e,t)}matches(e){return LA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function LA(n){return n.op==="and"}function MA(n){return pV(n)&&LA(n)}function pV(n){for(const e of n.filters)if(e instanceof no)return!1;return!0}function py(n){if(n instanceof pn)return n.field.canonicalString()+n.op.toString()+_l(n.value);if(MA(n))return n.filters.map(e=>py(e)).join(",");{const e=n.filters.map(t=>py(t)).join(",");return`${n.op}(${e})`}}function FA(n,e){return n instanceof pn?function(r,i){return i instanceof pn&&r.op===i.op&&r.field.isEqual(i.field)&&Fi(r.value,i.value)}(n,e):n instanceof no?function(r,i){return i instanceof no&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,l,f)=>a&&FA(l,i.filters[f]),!0):!1}(n,e):void it()}function VA(n){return n instanceof pn?function(t){return`${t.field.canonicalString()} ${t.op} ${_l(t.value)}`}(n):n instanceof no?function(t){return t.op.toString()+" {"+t.getFilters().map(VA).join(" ,")+"}"}(n):"Filter"}class mV extends pn{constructor(e,t,r){super(e,t,r),this.key=et.fromName(r.referenceValue)}matches(e){const t=et.comparator(e.key,this.key);return this.matchesComparison(t)}}class gV extends pn{constructor(e,t){super(e,"in",t),this.keys=jA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class yV extends pn{constructor(e,t){super(e,"not-in",t),this.keys=jA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function jA(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>et.fromName(r.referenceValue))}class vV extends pn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Lv(t)&&Xu(t.arrayValue,this.value)}}class _V extends pn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Xu(this.value.arrayValue,t)}}class wV extends pn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Xu(this.value.arrayValue,t)}}class EV extends pn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Lv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Xu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e,t=null,r=[],i=[],a=null,l=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=f,this.ue=null}}function Rb(n,e=null,t=[],r=[],i=null,a=null,l=null){return new bV(n,e,t,r,i,a,l)}function Mv(n){const e=Pt(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>py(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Ov(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>_l(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>_l(r)).join(",")),e.ue=t}return e.ue}function Fv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!hV(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!FA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Cb(n.startAt,e.startAt)&&Cb(n.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,t=null,r=[],i=[],a=null,l="F",f=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=f,this.endAt=h,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function SV(n,e,t,r,i,a,l,f){return new Uh(n,e,t,r,i,a,l,f)}function TV(n){return new Uh(n)}function kb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function xV(n){return n.collectionGroup!==null}function Fu(n){const e=Pt(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let f=new Pn(In.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(f=f.add(p.field))})}),f})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new ah(a,r))}),t.has(In.keyField().canonicalString())||e.ce.push(new ah(In.keyField(),r))}return e.ce}function qo(n){const e=Pt(n);return e.le||(e.le=AV(e,Fu(n))),e.le}function AV(n,e){if(n.limitType==="F")return Rb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new ah(i.field,a)});const t=n.endAt?new oh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new oh(n.startAt.position,n.startAt.inclusive):null;return Rb(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function my(n,e,t){return new Uh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function UA(n,e){return Fv(qo(n),qo(e))&&n.limitType===e.limitType}function $A(n){return`${Mv(qo(n))}|lt:${n.limitType}`}function wu(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>VA(i)).join(", ")}]`),Ov(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>_l(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>_l(i)).join(",")),`Target(${r})`}(qo(n))}; limitType=${n.limitType})`}function Vv(n,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):et.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,i){for(const a of Fu(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,f,h){const p=Pb(l,f,h);return l.inclusive?p<=0:p<0}(r.startAt,Fu(r),i)||r.endAt&&!function(l,f,h){const p=Pb(l,f,h);return l.inclusive?p>=0:p>0}(r.endAt,Fu(r),i))}(n,e)}function IV(n){return(e,t)=>{let r=!1;for(const i of Fu(n)){const a=PV(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function PV(n,e,t){const r=n.field.isKeyField()?et.comparator(e.key,t.key):function(a,l,f){const h=l.data.field(a),p=f.data.field(a);return h!==null&&p!==null?vl(h,p):it()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return it()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){oa(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return OA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV=new ur(et.comparator);function lh(){return CV}const BA=new ur(et.comparator);function ld(...n){let e=BA;for(const t of n)e=e.insert(t.key,t);return e}function zA(n){let e=BA;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function jo(){return Vu()}function qA(){return Vu()}function Vu(){return new aa(n=>n.toString(),(n,e)=>n.isEqual(e))}const RV=new ur(et.comparator),kV=new Pn(et.comparator);function Vn(...n){let e=kV;for(const t of n)e=e.add(t);return e}const OV=new Pn(wt);function NV(){return OV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rh(e)?"-0":e}}function HA(n){return{integerValue:""+n}}function DV(n,e){return sV(e)?HA(e):jv(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(){this._=void 0}}function LV(n,e,t){return n instanceof uh?function(i,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Nv(a)&&(a=Dv(a)),a&&(l.fields.__previous_value__=a),{mapValue:l}}(t,e):n instanceof Zu?GA(n,e):n instanceof ec?KA(n,e):function(i,a){const l=WA(i,a),f=Ob(l)+Ob(i.Pe);return hy(l)&&hy(i.Pe)?HA(f):jv(i.serializer,f)}(n,e)}function MV(n,e,t){return n instanceof Zu?GA(n,e):n instanceof ec?KA(n,e):t}function WA(n,e){return n instanceof ch?function(r){return hy(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class uh extends $h{}class Zu extends $h{constructor(e){super(),this.elements=e}}function GA(n,e){const t=QA(e);for(const r of n.elements)t.some(i=>Fi(i,r))||t.push(r);return{arrayValue:{values:t}}}class ec extends $h{constructor(e){super(),this.elements=e}}function KA(n,e){let t=QA(e);for(const r of n.elements)t=t.filter(i=>!Fi(i,r));return{arrayValue:{values:t}}}class ch extends $h{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Ob(n){return xn(n.integerValue||n.doubleValue)}function QA(n){return Lv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function FV(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Zu&&i instanceof Zu||r instanceof ec&&i instanceof ec?gl(r.elements,i.elements,Fi):r instanceof ch&&i instanceof ch?Fi(r.Pe,i.Pe):r instanceof uh&&i instanceof uh}(n.transform,e.transform)}class VV{constructor(e,t){this.version=e,this.transformResults=t}}class cs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new cs}static exists(e){return new cs(void 0,e)}static updateTime(e){return new cs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Od(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Bh{}function JA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new XA(n.key,cs.none()):new zh(n.key,n.data,cs.none());{const t=n.data,r=Mr.empty();let i=new Pn(In.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new la(n.key,r,new li(i.toArray()),cs.none())}}function jV(n,e,t){n instanceof zh?function(i,a,l){const f=i.value.clone(),h=Db(i.fieldTransforms,a,l.transformResults);f.setAll(h),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):n instanceof la?function(i,a,l){if(!Od(i.precondition,a))return void a.convertToUnknownDocument(l.version);const f=Db(i.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(YA(i)),h.setAll(f),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function ju(n,e,t,r){return n instanceof zh?function(a,l,f,h){if(!Od(a.precondition,l))return f;const p=a.value.clone(),g=Lb(a.fieldTransforms,h,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof la?function(a,l,f,h){if(!Od(a.precondition,l))return f;const p=Lb(a.fieldTransforms,h,l),g=l.data;return g.setAll(YA(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(y=>y.field))}(n,e,t,r):function(a,l,f){return Od(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):f}(n,e,t)}function UV(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=WA(r.transform,i||null);a!=null&&(t===null&&(t=Mr.empty()),t.set(r.field,a))}return t||null}function Nb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&gl(r,i,(a,l)=>FV(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class zh extends Bh{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class la extends Bh{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function YA(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Db(n,e,t){const r=new Map;$t(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,f=e.data.field(a.field);r.set(a.field,MV(l,f,t[i]))}return r}function Lb(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,LV(a,l,e))}return r}class XA extends Bh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $V extends Bh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&jV(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=ju(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=ju(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=qA();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let f=this.applyToLocalView(l,a.mutatedFields);f=t.has(i.key)?null:f;const h=JA(l,f);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(Nt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Vn())}isEqual(e){return this.batchId===e.batchId&&gl(this.mutations,e.mutations,(t,r)=>Nb(t,r))&&gl(this.baseMutations,e.baseMutations,(t,r)=>Nb(t,r))}}class Uv{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){$t(e.mutations.length===r.length);let i=function(){return RV}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new Uv(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt,lt;function qV(n){switch(n){default:return it();case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0}}function HV(n){if(n===void 0)return ta("GRPC error has no .code"),ve.UNKNOWN;switch(n){case Jt.OK:return ve.OK;case Jt.CANCELLED:return ve.CANCELLED;case Jt.UNKNOWN:return ve.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return ve.INTERNAL;case Jt.UNAVAILABLE:return ve.UNAVAILABLE;case Jt.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case Jt.NOT_FOUND:return ve.NOT_FOUND;case Jt.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case Jt.ABORTED:return ve.ABORTED;case Jt.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case Jt.DATA_LOSS:return ve.DATA_LOSS;default:return it()}}(lt=Jt||(Jt={}))[lt.OK=0]="OK",lt[lt.CANCELLED=1]="CANCELLED",lt[lt.UNKNOWN=2]="UNKNOWN",lt[lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lt[lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lt[lt.NOT_FOUND=5]="NOT_FOUND",lt[lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",lt[lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",lt[lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",lt[lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lt[lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lt[lt.ABORTED=10]="ABORTED",lt[lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",lt[lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",lt[lt.INTERNAL=13]="INTERNAL",lt[lt.UNAVAILABLE=14]="UNAVAILABLE",lt[lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new TA([4294967295,4294967295],0);class WV{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function gy(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GV(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function KV(n,e){return gy(n,e.toTimestamp())}function fl(n){return $t(!!n),Nt.fromTimestamp(function(t){const r=na(t);return new mn(r.seconds,r.nanos)}(n))}function ZA(n,e){return yy(n,e).canonicalString()}function yy(n,e){const t=function(i){return new Yt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function QV(n){const e=Yt.fromString(n);return $t(rj(e)),e}function vy(n,e){return ZA(n.databaseId,e.path)}function JV(n){const e=QV(n);return e.length===4?Yt.emptyPath():XV(e)}function YV(n){return new Yt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function XV(n){return $t(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Mb(n,e,t){return{name:vy(n,e),fields:t.value.mapValue.fields}}function ZV(n,e){let t;if(e instanceof zh)t={update:Mb(n,e.key,e.value)};else if(e instanceof XA)t={delete:vy(n,e.key)};else if(e instanceof la)t={update:Mb(n,e.key,e.data),updateMask:nj(e.fieldMask)};else{if(!(e instanceof $V))return it();t={verify:vy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const f=l.transform;if(f instanceof uh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Zu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof ec)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof ch)return{fieldPath:l.field.canonicalString(),increment:f.Pe};throw it()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:KV(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:it()}(n,e.precondition)),t}function ej(n,e){return n&&n.length>0?($t(e!==void 0),n.map(t=>function(i,a){let l=i.updateTime?fl(i.updateTime):fl(a);return l.isEqual(Nt.min())&&(l=fl(a)),new VV(l,i.transformResults||[])}(t,e))):[]}function tj(n){let e=JV(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){$t(r===1);const g=t.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=function(y){const E=eI(y);return E instanceof no&&MA(E)?E.getFilters():[E]}(t.where));let l=[];t.orderBy&&(l=function(y){return y.map(E=>function(S){return new ah(el(S.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(E))}(t.orderBy));let f=null;t.limit&&(f=function(y){let E;return E=typeof y=="object"?y.value:y,Ov(E)?null:E}(t.limit));let h=null;t.startAt&&(h=function(y){const E=!!y.before,A=y.values||[];return new oh(A,E)}(t.startAt));let p=null;return t.endAt&&(p=function(y){const E=!y.before,A=y.values||[];return new oh(A,E)}(t.endAt)),SV(e,i,l,a,f,"F",h,p)}function eI(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=el(t.unaryFilter.field);return pn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=el(t.unaryFilter.field);return pn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=el(t.unaryFilter.field);return pn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=el(t.unaryFilter.field);return pn.create(l,"!=",{nullValue:"NULL_VALUE"});default:return it()}}(n):n.fieldFilter!==void 0?function(t){return pn.create(el(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return it()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return no.create(t.compositeFilter.filters.map(r=>eI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return it()}}(t.compositeFilter.op))}(n):it()}function el(n){return In.fromServerFormat(n.fieldPath)}function nj(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function rj(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e){this.ht=e}}function sj(n){const e=tj({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?my(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(){this.ln=new aj}addToCollectionParentIndex(e,t){return this.ln.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(to.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(to.min())}updateCollectionGroup(e,t,r){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class aj{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Pn(Yt.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pn(Yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class sr{static withCacheSize(e){return new sr(e,sr.DEFAULT_COLLECTION_PERCENTILE,sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sr.DEFAULT_COLLECTION_PERCENTILE=10,sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sr.DEFAULT=new sr(41943040,sr.DEFAULT_COLLECTION_PERCENTILE,sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sr.DISABLED=new sr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new wl(0)}static Qn(){return new wl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb([n,e],[t,r]){const i=wt(n,t);return i===0?wt(e,r):i}class lj{constructor(e){this.Gn=e,this.buffer=new Pn(Vb),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Vb(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class uj{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){Oe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){wc(t)?Oe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Rv(t)}await this.Yn(3e5)})}}class cj{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return le.resolve(kv.oe);const r=new lj(t);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Oe("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(Fb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Fb):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,i,a,l,f,h,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(Oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,l=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(r=y,f=Date.now(),this.removeTargets(e,r,t))).next(y=>(a=y,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(p=Date.now(),Za()<=nt.DEBUG&&Oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(f-l)+`ms
	Removed ${a} targets in `+(h-f)+`ms
	Removed ${y} documents in `+(p-h)+`ms
Total Duration: ${p-g}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:y})))}}function fj(n,e){return new cj(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(){this.changes=new aa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ni.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?le.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&ju(r.mutation,i,li.empty(),mn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Vn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Vn()){const i=jo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=ld();return a.forEach((f,h)=>{l=l.insert(f,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=jo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Vn()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,f)=>{t.set(l,f)})})}computeViews(e,t,r,i){let a=lh();const l=Vu(),f=function(){return Vu()}();return t.forEach((h,p)=>{const g=r.get(p.key);i.has(p.key)&&(g===void 0||g.mutation instanceof la)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),ju(g.mutation,p,g.mutation.getFieldMask(),mn.now())):l.set(p.key,li.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((p,g)=>l.set(p,g)),t.forEach((p,g)=>{var y;return f.set(p,new hj(g,(y=l.get(p))!==null&&y!==void 0?y:null))}),f))}recalculateAndSaveOverlays(e,t){const r=Vu();let i=new ur((l,f)=>l-f),a=Vn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const f of l)f.keys().forEach(h=>{const p=t.get(h);if(p===null)return;let g=r.get(h)||li.empty();g=f.applyToLocalView(p,g),r.set(h,g);const y=(i.get(f.batchId)||Vn()).add(h);i=i.insert(f.batchId,y)})}).next(()=>{const l=[],f=i.getReverseIterator();for(;f.hasNext();){const h=f.getNext(),p=h.key,g=h.value,y=qA();g.forEach(E=>{if(!a.has(E)){const A=JA(t.get(E),r.get(E));A!==null&&y.set(E,A),a=a.add(E)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,y))}return le.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return et.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):xV(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):le.resolve(jo());let f=-1,h=a;return l.next(p=>le.forEach(p,(g,y)=>(f<y.largestBatchId&&(f=y.largestBatchId),a.get(g)?le.resolve():this.remoteDocumentCache.getEntry(e,g).next(E=>{h=h.insert(g,E)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,h,p,Vn())).next(g=>({batchId:f,changes:zA(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new et(t)).next(r=>{let i=ld();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let l=ld();return this.indexManager.getCollectionParents(e,a).next(f=>le.forEach(f,h=>{const p=function(y,E){return new Uh(E,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(t,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(g=>{g.forEach((y,E)=>{l=l.insert(y,E)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i))).next(l=>{a.forEach((h,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,ni.newInvalidDocument(g)))});let f=ld();return l.forEach((h,p)=>{const g=a.get(h);g!==void 0&&ju(g.mutation,p,li.empty(),mn.now()),Vv(t,p)&&(f=f.insert(h,p))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return le.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:fl(i.createTime)}}(t)),le.resolve()}getNamedQuery(e,t){return le.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(i){return{name:i.name,query:sj(i.bundledQuery),readTime:fl(i.readTime)}}(t)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(){this.overlays=new ur(et.comparator),this.Er=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const r=jo();return le.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.Tt(e,t,a)}),le.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Er.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Er.delete(r)),le.resolve()}getOverlaysForCollection(e,t,r){const i=jo(),a=t.length+1,l=new et(t.child("")),f=this.overlays.getIteratorFrom(l);for(;f.hasNext();){const h=f.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&h.largestBatchId>r&&i.set(h.getKey(),h)}return le.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new ur((p,g)=>p-g);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=jo(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const f=jo(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,g)=>f.set(p,g)),!(f.size()>=i)););return le.resolve(f)}Tt(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new zV(t,r));let a=this.Er.get(t);a===void 0&&(a=Vn(),this.Er.set(t,a)),this.Er.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(){this.sessionToken=Mi.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(){this.dr=new Pn(hn.Ar),this.Rr=new Pn(hn.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const r=new hn(e,t);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new hn(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){const t=new et(new Yt([])),r=new hn(t,e),i=new hn(t,e+1),a=[];return this.Rr.forEachInRange([r,i],l=>{this.gr(l),a.push(l.key)}),a}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new et(new Yt([])),r=new hn(t,e),i=new hn(t,e+1);let a=Vn();return this.Rr.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new hn(e,0),r=this.dr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class hn{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return et.comparator(e.key,t.key)||wt(e.br,t.br)}static Vr(e,t){return wt(e.br,t.br)||et.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Pn(hn.Ar)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new BV(a,t,r,i);this.mutationQueue.push(l);for(const f of i)this.vr=this.vr.add(new hn(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return le.resolve(l)}lookupMutationBatch(e,t){return le.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Fr(r),a=i<0?0:i;return le.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new hn(t,0),i=new hn(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([r,i],l=>{const f=this.Cr(l.br);a.push(f)}),le.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Pn(wt);return t.forEach(i=>{const a=new hn(i,0),l=new hn(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,l],f=>{r=r.add(f.br)})}),le.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;et.isDocumentKey(a)||(a=a.child(""));const l=new hn(new et(a),0);let f=new Pn(wt);return this.vr.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(f=f.add(h.br)),!0)},l),le.resolve(this.Mr(f))}Mr(e){const t=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){$t(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return le.forEach(t.mutations,i=>{const a=new hn(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,t){const r=new hn(t,0),i=this.vr.firstAfterOrEqual(r);return le.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(e){this.Nr=e,this.docs=function(){return new ur(et.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return le.resolve(r?r.document.mutableCopy():ni.newInvalidDocument(t))}getEntries(e,t){let r=lh();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():ni.newInvalidDocument(i))}),le.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=lh();const l=t.path,f=new et(l.child("")),h=this.docs.getIteratorFrom(f);for(;h.hasNext();){const{key:p,value:{document:g}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||tV(eV(g),r)<=0||(i.has(g.key)||Vv(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return le.resolve(a)}getAllFromCollectionGroup(e,t,r,i){it()}Lr(e,t){return le.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new wj(this)}getSize(e){return le.resolve(this.size)}}class wj extends dj{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),le.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e){this.persistence=e,this.Br=new aa(t=>Mv(t),Fv),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.kr=0,this.qr=new $v,this.targetCount=0,this.Qr=wl.qn()}forEachTarget(e,t){return this.Br.forEach((r,i)=>t(i)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),le.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new wl(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.Un(t),le.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Br.forEach((l,f)=>{f.sequenceNumber<=t&&r.get(f.targetId)===null&&(this.Br.delete(l),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),le.waitFor(a).next(()=>i)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const r=this.Br.get(t)||null;return le.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),le.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),le.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),le.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qr.Sr(t);return le.resolve(r)}containsKey(e,t){return le.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,t){this.Kr={},this.overlays={},this.$r=new kv(0),this.Ur=!1,this.Ur=!0,this.Wr=new yj,this.referenceDelegate=e(this),this.Gr=new Ej(this),this.indexManager=new oj,this.remoteDocumentCache=function(i){return new _j(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new ij(t),this.jr=new mj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new gj,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new vj(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){Oe("MemoryPersistence","Starting transaction:",e);const i=new bj(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(a=>this.referenceDelegate.Jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Yr(e,t){return le.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}}class bj extends rV{constructor(e){super(),this.currentSequenceNumber=e}}class Bv{constructor(e){this.persistence=e,this.Zr=new $v,this.Xr=null}static ei(e){return new Bv(e)}get ti(){if(this.Xr)return this.Xr;throw it()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),le.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),le.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.ti.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.ti,r=>{const i=et.fromPath(r);return this.ni(e,i).next(a=>{a||t.removeEntry(i,Nt.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return le.or([()=>le.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class fh{constructor(e,t){this.persistence=e,this.ri=new aa(r=>oV(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=fj(this,t)}static ei(e,t){return new fh(e,t)}Hr(){}Jr(e){return le.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return le.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(a=>a?le.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.Lr(e,l=>this.ir(e,l,t).next(f=>{f||(r++,a.removeEntry(l,Nt.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),le.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),le.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),le.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Rd(e.data.value)),t}ir(e,t,r){return le.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.ri.get(t);return le.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=i}static zi(e,t){let r=Vn(),i=Vn();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new zv(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return BR()?8:iV(Un())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.Xi(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.es(e,t,i,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new Sj;return this.ts(e,t,l).next(f=>{if(a.result=f,this.Hi)return this.ns(e,t,l,f.size)})}).next(()=>a.result)}ns(e,t,r,i){return r.documentReadCount<this.Ji?(Za()<=nt.DEBUG&&Oe("QueryEngine","SDK will not create cache indexes for query:",wu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),le.resolve()):(Za()<=nt.DEBUG&&Oe("QueryEngine","Query:",wu(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(Za()<=nt.DEBUG&&Oe("QueryEngine","The SDK decides to create cache indexes for query:",wu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qo(t))):le.resolve())}Xi(e,t){if(kb(t))return le.resolve(null);let r=qo(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=my(t,null,"F"),r=qo(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=Vn(...a);return this.Zi.getDocuments(e,l).next(f=>this.indexManager.getMinOffset(e,r).next(h=>{const p=this.rs(t,f);return this.ss(t,p,l,h.readTime)?this.Xi(e,my(t,null,"F")):this.os(e,p,t,h)}))})))}es(e,t,r,i){return kb(t)||i.isEqual(Nt.min())?le.resolve(null):this.Zi.getDocuments(e,r).next(a=>{const l=this.rs(t,a);return this.ss(t,l,r,i)?le.resolve(null):(Za()<=nt.DEBUG&&Oe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),wu(t)),this.os(e,l,t,ZF(i,-1)).next(f=>f))})}rs(e,t){let r=new Pn(IV(e));return t.forEach((i,a)=>{Vv(e,a)&&(r=r.add(a))}),r}ss(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ts(e,t,r){return Za()<=nt.DEBUG&&Oe("QueryEngine","Using full collection scan to execute query:",wu(t)),this.Zi.getDocumentsMatchingQuery(e,t,to.min(),r)}os(e,t,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e,t,r,i){this.persistence=e,this._s=t,this.serializer=i,this.us=new ur(wt),this.cs=new aa(a=>Mv(a),Fv),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pj(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function Aj(n,e,t,r){return new xj(n,e,t,r)}async function nI(n,e){const t=Pt(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],f=[];let h=Vn();for(const p of i){l.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}for(const p of a){f.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(r,h).next(p=>({Ts:p,removedBatchIds:l,addedBatchIds:f}))})})}function Ij(n,e){const t=Pt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(f,h,p,g){const y=p.batch,E=y.keys();let A=le.resolve();return E.forEach(S=>{A=A.next(()=>g.getEntry(h,S)).next(C=>{const x=p.docVersions.get(S);$t(x!==null),C.version.compareTo(x)<0&&(y.applyToRemoteDocument(C,p),C.isValidDocument()&&(C.setReadTime(p.commitVersion),g.addEntry(C)))})}),A.next(()=>f.mutationQueue.removeMutationBatch(h,y))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let h=Vn();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(h=h.add(f.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Pj(n){const e=Pt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function Cj(n,e){const t=Pt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}class jb{constructor(){this.activeTargetIds=NV()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Rj{constructor(){this._o=new jb,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new jb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){Oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ud=null;function vg(){return ud===null?ud=function(){return 268435456+Math.round(2147483648*Math.random())}():ud++,"0x"+ud.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ln="WebChannelConnection";class Dj extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${i}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Oo(t,r,i,a,l){const f=vg(),h=this.No(t,r.toUriEncodedString());Oe("RestConnection",`Sending RPC '${t}' ${f}:`,h,i);const p={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(p,a,l),this.Bo(t,h,p,i).then(g=>(Oe("RestConnection",`Received RPC '${t}' ${f}: `,g),g),g=>{throw nh("RestConnection",`RPC '${t}' ${f} failed with error: `,g,"url: ",h,"request:",i),g})}ko(t,r,i,a,l,f){return this.Oo(t,r,i,a,l)}Lo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Nl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,l)=>t[l]=a),i&&i.headers.forEach((a,l)=>t[l]=a)}No(t,r){const i=Oj[t];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,r,i){const a=vg();return new Promise((l,f)=>{const h=new xA;h.setWithCredentials(!0),h.listenOnce(AA.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Cd.NO_ERROR:const g=h.getResponseJson();Oe(Ln,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),l(g);break;case Cd.TIMEOUT:Oe(Ln,`RPC '${e}' ${a} timed out`),f(new Ke(ve.DEADLINE_EXCEEDED,"Request time out"));break;case Cd.HTTP_ERROR:const y=h.getStatus();if(Oe(Ln,`RPC '${e}' ${a} failed with status:`,y,"response text:",h.getResponseText()),y>0){let E=h.getResponseJson();Array.isArray(E)&&(E=E[0]);const A=E==null?void 0:E.error;if(A&&A.status&&A.message){const S=function(x){const L=x.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(L)>=0?L:ve.UNKNOWN}(A.status);f(new Ke(S,A.message))}else f(new Ke(ve.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new Ke(ve.UNAVAILABLE,"Connection failed."));break;default:it()}}finally{Oe(Ln,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(i);Oe(Ln,`RPC '${e}' ${a} sending request:`,i),h.send(t,"POST",p,r,15)})}qo(e,t,r){const i=vg(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=CA(),f=PA(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Lo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const g=a.join("");Oe(Ln,`Creating RPC '${e}' stream ${i}: ${g}`,h);const y=l.createWebChannel(g,h);let E=!1,A=!1;const S=new Nj({Eo:x=>{A?Oe(Ln,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(E||(Oe(Ln,`Opening RPC '${e}' stream ${i} transport.`),y.open(),E=!0),Oe(Ln,`RPC '${e}' stream ${i} sending:`,x),y.send(x))},Ao:()=>y.close()}),C=(x,L,O)=>{x.listen(L,U=>{try{O(U)}catch(q){setTimeout(()=>{throw q},0)}})};return C(y,Ou.EventType.OPEN,()=>{A||(Oe(Ln,`RPC '${e}' stream ${i} transport opened.`),S.So())}),C(y,Ou.EventType.CLOSE,()=>{A||(A=!0,Oe(Ln,`RPC '${e}' stream ${i} transport closed`),S.Do())}),C(y,Ou.EventType.ERROR,x=>{A||(A=!0,nh(Ln,`RPC '${e}' stream ${i} transport errored:`,x),S.Do(new Ke(ve.UNAVAILABLE,"The operation could not be completed")))}),C(y,Ou.EventType.MESSAGE,x=>{var L;if(!A){const O=x.data[0];$t(!!O);const U=O,q=(U==null?void 0:U.error)||((L=U[0])===null||L===void 0?void 0:L.error);if(q){Oe(Ln,`RPC '${e}' stream ${i} received error:`,q);const W=q.status;let X=function(I){const N=Jt[I];if(N!==void 0)return HV(N)}(W),R=q.message;X===void 0&&(X=ve.INTERNAL,R="Unknown error status: "+W+" with message "+q.message),A=!0,S.Do(new Ke(X,R)),y.close()}else Oe(Ln,`RPC '${e}' stream ${i} received:`,O),S.vo(O)}}),C(f,IA.STAT_EVENT,x=>{x.stat===fy.PROXY?Oe(Ln,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===fy.NOPROXY&&Oe(Ln,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.bo()},0),S}}function _g(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(n){return new WV(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,t,r=1e3,i=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=i,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,t-r);i>0&&Oe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e,t,r,i,a,l,f,h){this.li=e,this.Yo=r,this.Zo=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=f,this.listener=h,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new rI(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===ve.RESOURCE_EXHAUSTED?(ta(t.toString()),ta("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===t&&this.I_(r,i)},r=>{e(()=>{const i=new Ke(ve.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,t){const r=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return Oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(Oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Mj extends Lj{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return $t(!!e.streamToken),this.lastStreamToken=e.streamToken,$t(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){$t(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=ej(e.writeResults,e.commitTime),r=fl(e.commitTime);return this.listener.y_(r,t)}w_(){const e={};e.database=YV(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>ZV(this.serializer,r))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new Ke(ve.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Oo(e,yy(t,r),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ke(ve.UNKNOWN,a.toString())})}ko(e,t,r,i,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.ko(e,yy(t,r),i,l,f,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ke(ve.UNKNOWN,l.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class Vj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(ta(t),this.C_=!1):Oe("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(l=>{r.enqueueAndForget(async()=>{bc(this)&&(Oe("RemoteStore","Restarting streams for network reachability change."),await async function(h){const p=Pt(h);p.k_.add(4),await Ec(p),p.K_.set("Unknown"),p.k_.delete(4),await Hh(p)}(this))})}),this.K_=new Vj(r,i)}}async function Hh(n){if(bc(n))for(const e of n.q_)await e(!0)}async function Ec(n){for(const e of n.q_)await e(!1)}function bc(n){return Pt(n).k_.size===0}async function iI(n,e,t){if(!wc(e))throw e;n.k_.add(1),await Ec(n),n.K_.set("Offline"),t||(t=()=>Pj(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Oe("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Hh(n)})}function sI(n,e){return e().catch(t=>iI(n,t,e))}async function Wh(n){const e=Pt(n),t=ro(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;Uj(e);)try{const i=await Cj(e.localStore,r);if(i===null){e.L_.length===0&&t.a_();break}r=i.batchId,$j(e,i)}catch(i){await iI(e,i)}oI(e)&&aI(e)}function Uj(n){return bc(n)&&n.L_.length<10}function $j(n,e){n.L_.push(e);const t=ro(n);t.s_()&&t.f_&&t.g_(e.mutations)}function oI(n){return bc(n)&&!ro(n).i_()&&n.L_.length>0}function aI(n){ro(n).start()}async function Bj(n){ro(n).w_()}async function zj(n){const e=ro(n);for(const t of n.L_)e.g_(t.mutations)}async function qj(n,e,t){const r=n.L_.shift(),i=Uv.from(r,e,t);await sI(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Wh(n)}async function Hj(n,e){e&&ro(n).f_&&await async function(r,i){if(function(l){return qV(l)&&l!==ve.ABORTED}(i.code)){const a=r.L_.shift();ro(r).__(),await sI(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Wh(r)}}(n,e),oI(n)&&aI(n)}async function $b(n,e){const t=Pt(n);t.asyncQueue.verifyOperationInProgress(),Oe("RemoteStore","RemoteStore received new credentials");const r=bc(t);t.k_.add(3),await Ec(t),r&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Hh(t)}async function Wj(n,e){const t=Pt(n);e?(t.k_.delete(2),await Hh(t)):e||(t.k_.add(2),await Ec(t),t.K_.set("Unknown"))}function ro(n){return n.G_||(n.G_=function(t,r,i){const a=Pt(t);return a.b_(),new Mj(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:Bj.bind(null,n),po:Hj.bind(null,n),p_:zj.bind(null,n),y_:qj.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Wh(n)):(await n.G_.stop(),n.L_.length>0&&(Oe("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new zo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,f=new qv(e,t,l,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ke(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lI(n,e){if(ta("AsyncQueue",`${e}: ${n}`),wc(n))return new Ke(ve.UNAVAILABLE,`${e}: ${n}`);throw n}class Gj{constructor(){this.queries=Bb(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,r){const i=Pt(t),a=i.queries;i.queries=Bb(),a.forEach((l,f)=>{for(const h of f.J_)h.onError(r)})})(this,new Ke(ve.ABORTED,"Firestore shutting down"))}}function Bb(){return new aa(n=>$A(n),UA)}function Kj(n){n.X_.forEach(e=>{e.next()})}var zb,qb;(qb=zb||(zb={})).na="default",qb.Cache="cache";class Qj{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Ma={},this.xa=new aa(f=>$A(f),UA),this.Oa=new Map,this.Na=new Set,this.La=new ur(et.comparator),this.Ba=new Map,this.ka=new $v,this.qa={},this.Qa=new Map,this.Ka=wl.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function Jj(n,e,t){const r=eU(n);try{const i=await function(l,f){const h=Pt(l),p=mn.now(),g=f.reduce((A,S)=>A.add(S.key),Vn());let y,E;return h.persistence.runTransaction("Locally write mutations","readwrite",A=>{let S=lh(),C=Vn();return h.hs.getEntries(A,g).next(x=>{S=x,S.forEach((L,O)=>{O.isValidDocument()||(C=C.add(L))})}).next(()=>h.localDocuments.getOverlayedDocuments(A,S)).next(x=>{y=x;const L=[];for(const O of f){const U=UV(O,y.get(O.key).overlayedDocument);U!=null&&L.push(new la(O.key,U,NA(U.value.mapValue),cs.exists(!0)))}return h.mutationQueue.addMutationBatch(A,p,L,f)}).next(x=>{E=x;const L=x.applyToLocalDocumentSet(y,C);return h.documentOverlayCache.saveOverlays(A,x.batchId,L)})}).then(()=>({batchId:E.batchId,changes:zA(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,f,h){let p=l.qa[l.currentUser.toKey()];p||(p=new ur(wt)),p=p.insert(f,h),l.qa[l.currentUser.toKey()]=p}(r,i.batchId,t),await Gh(r,i.changes),await Wh(r.remoteStore)}catch(i){const a=lI(i,"Failed to persist write");t.reject(a)}}function Hb(n,e,t){const r=Pt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.xa.forEach((a,l)=>{const f=l.view.ea(e);f.snapshot&&i.push(f.snapshot)}),function(l,f){const h=Pt(l);h.onlineState=f;let p=!1;h.queries.forEach((g,y)=>{for(const E of y.J_)E.ea(f)&&(p=!0)}),p&&Kj(h)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Yj(n,e){const t=Pt(n),r=e.batch.batchId;try{const i=await Ij(t.localStore,e);cI(t,r,null),uI(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Gh(t,i)}catch(i){await Rv(i)}}async function Xj(n,e,t){const r=Pt(n);try{const i=await function(l,f){const h=Pt(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return h.mutationQueue.lookupMutationBatch(p,f).next(y=>($t(y!==null),g=y.keys(),h.mutationQueue.removeMutationBatch(p,y))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,g,f)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>h.localDocuments.getDocuments(p,g))})}(r.localStore,e);cI(r,e,t),uI(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Gh(r,i)}catch(i){await Rv(i)}}function uI(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function cI(n,e,t){const r=Pt(n);let i=r.qa[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}async function Gh(n,e,t){const r=Pt(n),i=[],a=[],l=[];r.xa.isEmpty()||(r.xa.forEach((f,h)=>{l.push(r.Ua(h,e,t).then(p=>{var g;if((p||t)&&r.isPrimaryClient){const y=p?!p.fromCache:(g=void 0)===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(p){i.push(p);const y=zv.zi(h.targetId,p);a.push(y)}}))}),await Promise.all(l),r.Ma.R_(i),await async function(h,p){const g=Pt(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>le.forEach(p,E=>le.forEach(E.Wi,A=>g.persistence.referenceDelegate.addReference(y,E.targetId,A)).next(()=>le.forEach(E.Gi,A=>g.persistence.referenceDelegate.removeReference(y,E.targetId,A)))))}catch(y){if(!wc(y))throw y;Oe("LocalStore","Failed to update sequence numbers: "+y)}for(const y of p){const E=y.targetId;if(!y.fromCache){const A=g.us.get(E),S=A.snapshotVersion,C=A.withLastLimboFreeSnapshotVersion(S);g.us=g.us.insert(E,C)}}}(r.localStore,a))}async function Zj(n,e){const t=Pt(n);if(!t.currentUser.isEqual(e)){Oe("SyncEngine","User change. New user:",e.toKey());const r=await nI(t.localStore,e);t.currentUser=e,function(a,l){a.Qa.forEach(f=>{f.forEach(h=>{h.reject(new Ke(ve.CANCELLED,l))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gh(t,r.Ts)}}function eU(n){const e=Pt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Yj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Xj.bind(null,e),e}class dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qh(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return Aj(this.persistence,new Tj,e.initialUser,this.serializer)}ja(e){return new tI(Bv.ei,this.serializer)}za(e){return new Rj}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dh.provider={build:()=>new dh};class tU extends dh{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){$t(this.persistence.referenceDelegate instanceof fh);const r=this.persistence.referenceDelegate.garbageCollector;return new uj(r,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?sr.withCacheSize(this.cacheSizeBytes):sr.DEFAULT;return new tI(r=>fh.ei(r,t),this.serializer)}}class _y{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Hb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Zj.bind(null,this.syncEngine),await Wj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Gj}()}createDatastore(e){const t=qh(e.databaseInfo.databaseId),r=function(a){return new Dj(a)}(e.databaseInfo);return function(a,l,f,h){return new Fj(a,l,f,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,a,l,f){return new jj(r,i,a,l,f)}(this.localStore,this.datastore,e.asyncQueue,t=>Hb(this.syncEngine,t,0),function(){return Ub.p()?new Ub:new kj}())}createSyncEngine(e,t){return function(i,a,l,f,h,p,g){const y=new Qj(i,a,l,f,h,p);return g&&(y.$a=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=Pt(i);Oe("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await Ec(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}_y.provider={build:()=>new _y};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Fn.UNAUTHENTICATED,this.clientId=kA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{Oe("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(Oe("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=lI(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function wg(n,e){n.asyncQueue.verifyOperationInProgress(),Oe("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await nI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Wb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await rU(n);Oe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>$b(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>$b(e.remoteStore,i)),n._onlineComponents=e}async function rU(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Oe("FirestoreClient","Using user provided OfflineComponentProvider");try{await wg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ve.FAILED_PRECONDITION||i.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;nh("Error using user provided cache. Falling back to memory cache: "+t),await wg(n,new dh)}}else Oe("FirestoreClient","Using default OfflineComponentProvider"),await wg(n,new tU(void 0));return n._offlineComponents}async function iU(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Oe("FirestoreClient","Using user provided OnlineComponentProvider"),await Wb(n,n._uninitializedComponentsProvider._online)):(Oe("FirestoreClient","Using default OnlineComponentProvider"),await Wb(n,new _y))),n._onlineComponents}function sU(n){return iU(n).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(n,e,t){if(!t)throw new Ke(ve.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function aU(n,e,t,r){if(e===!0&&r===!0)throw new Ke(ve.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Kb(n){if(!et.isDocumentKey(n))throw new Ke(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Hv(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":it()}function wy(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ke(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Hv(n);throw new Ke(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ke(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ke(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ke(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ke(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ke(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wv{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qb({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ke(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ke(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qb(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new qF;switch(r.type){case"firstParty":return new KF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ke(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Gb.get(t);r&&(Oe("ComponentProvider","Removing Datastore"),Gb.delete(t),r.terminate())}(this),Promise.resolve()}}function lU(n,e,t,r={}){var i;const a=(n=wy(n,Wv))._getSettings(),l=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==l&&nh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let f,h;if(typeof r.mockUserToken=="string")f=r.mockUserToken,h=Fn.MOCK_USER;else{f=LR(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Ke(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Fn(p)}n._authCredentials=new HF(new RA(f,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Gv(this.firestore,e,this._query)}}class fs{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fs(this.firestore,e,this._key)}}class tc extends Gv{constructor(e,t,r){super(e,t,TV(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fs(this.firestore,null,new et(e))}withConverter(e){return new tc(this.firestore,e,this._path)}}function uU(n,e,...t){if(n=Cn(n),arguments.length===1&&(e=kA.newId()),oU("doc","path",e),n instanceof Wv){const r=Yt.fromString(e,...t);return Kb(r),new fs(n,null,new et(r))}{if(!(n instanceof fs||n instanceof tc))throw new Ke(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Yt.fromString(e,...t));return Kb(r),new fs(n.firestore,n instanceof tc?n.converter:null,new et(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new rI(this,"async_queue_retry"),this.fu=()=>{const r=_g();r&&Oe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const t=_g();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=_g();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new zo;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!wc(e))throw e;Oe("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(l){let f=l.message||"";return l.stack&&(f=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),f}(r);throw ta("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const i=qv.createAndSchedule(this,e,t,r,a=>this.Su(a));return this.du.push(i),i}pu(){this.Au&&it()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class dI extends Wv{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Jb,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Jb(e),this._firestoreClient=void 0,await e}}}function cU(n,e){const t=QS(),r="(default)",i=My(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=NR("firestore");a&&lU(i,...a)}return i}function fU(n){if(n._terminated)throw new Ke(ve.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||dU(n),n._firestoreClient}function dU(n){var e,t,r;const i=n._freezeSettings(),a=function(f,h,p,g){return new cV(f,h,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,fI(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new nU(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(f){const h=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nc(Mi.fromBase64String(e))}catch(t){throw new Ke(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new nc(Mi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ke(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new In(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ke(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ke(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return wt(this._lat,e._lat)||wt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU=/^__.*__$/;class mI{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new la(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function gI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw it()}}class Jv{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Jv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return hh(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(gI(this.Mu)&&hU.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class pU{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||qh(e)}$u(e,t,r,i=!1){return new Jv({Mu:e,methodName:t,Ku:r,path:In.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mU(n){const e=n._freezeSettings(),t=qh(n._databaseId);return new pU(n._databaseId,!!e.ignoreUndefinedProperties,t)}class Kh extends Qv{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kh}}function gU(n,e,t,r){const i=n.$u(1,e,t);vI("Data must be an object, but it was:",i,r);const a=[],l=Mr.empty();oa(r,(h,p)=>{const g=_I(e,h,t);p=Cn(p);const y=i.Bu(g);if(p instanceof Kh)a.push(g);else{const E=Qh(p,y);E!=null&&(a.push(g),l.set(g,E))}});const f=new li(a);return new mI(l,f,i.fieldTransforms)}function yU(n,e,t,r,i,a){const l=n.$u(1,e,t),f=[Yb(e,r,t)],h=[i];if(a.length%2!=0)throw new Ke(ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)f.push(Yb(e,a[E])),h.push(a[E+1]);const p=[],g=Mr.empty();for(let E=f.length-1;E>=0;--E)if(!wU(p,f[E])){const A=f[E];let S=h[E];S=Cn(S);const C=l.Bu(A);if(S instanceof Kh)p.push(A);else{const x=Qh(S,C);x!=null&&(p.push(A),g.set(A,x))}}const y=new li(p);return new mI(g,y,l.fieldTransforms)}function Qh(n,e){if(yI(n=Cn(n)))return vI("Unsupported field value:",e,n),vU(n,e);if(n instanceof Qv)return function(r,i){if(!gI(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const a=[];let l=0;for(const f of r){let h=Qh(f,i.ku(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(n,e)}return function(r,i){if((r=Cn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return DV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=mn.fromDate(r);return{timestampValue:gy(i.serializer,a)}}if(r instanceof mn){const a=new mn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gy(i.serializer,a)}}if(r instanceof hI)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof nc)return{bytesValue:GV(i.serializer,r._byteString)};if(r instanceof fs){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.qu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ZA(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof pI)return function(l,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw f.qu("VectorValues must only contain numeric values.");return jv(f.serializer,h)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${Hv(r)}`)}(n,e)}function vU(n,e){const t={};return OA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oa(n,(r,i)=>{const a=Qh(i,e.Ou(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function yI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof mn||n instanceof hI||n instanceof nc||n instanceof fs||n instanceof Qv||n instanceof pI)}function vI(n,e,t){if(!yI(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=Hv(t);throw r==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+r)}}function Yb(n,e,t){if((e=Cn(e))instanceof Kv)return e._internalPath;if(typeof e=="string")return _I(n,e);throw hh("Field path arguments must be of type string or ",n,!1,void 0,t)}const _U=new RegExp("[~\\*/\\[\\]]");function _I(n,e,t){if(e.search(_U)>=0)throw hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Kv(...e.split("."))._internalPath}catch{throw hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function hh(n,e,t,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new Ke(ve.INVALID_ARGUMENT,f+n+h)}function wU(n,e){return n.some(t=>t.isEqual(e))}function EU(n,e,t,...r){n=wy(n,fs);const i=wy(n.firestore,dI),a=mU(i);let l;return l=typeof(e=Cn(e))=="string"||e instanceof Kv?yU(a,"updateDoc",n._key,e,t,r):gU(a,"updateDoc",n._key,e),bU(i,[l.toMutation(n._key,cs.exists(!0))])}function bU(n,e){return function(r,i){const a=new zo;return r.asyncQueue.enqueueAndForget(async()=>Jj(await sU(r),i,a)),a.promise}(fU(n),e)}(function(e,t=!0){(function(i){Nl=i})(xl),hl(new Ko("firestore",(r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),f=new dI(new WF(r.getProvider("auth-internal")),new JF(r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ke(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sh(p.options.projectId,g)}(l,i),l);return a=Object.assign({useFetchStreams:t},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),Ys(bb,"4.7.5",e),Ys(bb,"4.7.5","esm2017")})();var SU="firebase",TU="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ys(SU,TU,"app");const xU=new rs;console.log();const AU={apiKey:"AIzaSyASxGLkdRaRct_I6I_cHjJBQphXAj1xdek",authDomain:"netflix-clone-80070.firebaseapp.com",projectId:"netflix-clone-80070",storageBucket:"netflix-clone-80070.firebasestorage.app",messagingSenderId:"22307329868",appId:"1:22307329868:web:3c974d3021728ba0a6a1e9"};B0().length>0?B0():KS(AU);const Ho=wD(),IU=cU();function PU(){const[n]=Ky(Ho),[e,t]=Q.useState((n==null?void 0:n.displayName)||""),[r,i]=Q.useState((n==null?void 0:n.email)||""),a=sc(),l=()=>{n&&uN(Ho).then(()=>{a("/sign-in")}).catch(h=>{const p=h==null?void 0:h.message;alert(p)})},f=async()=>{if(!e||!r){alert("Please provide both name and email to update your profile.");return}const h={name:e};console.log("Attempting to update profile with data:",JSON.stringify(h,null,2));try{if(n)if(n.displayName!==h.name){console.log("Updating display name to:",h.name),await sN(n,{displayName:h.name}),console.log("Display name updated successfully."),alert("successfully update your profile.");const p=uU(IU,"users",n.uid);await EU(p,{name:h.name}),console.log("User name updated in Firestore.")}else console.log("No change in display name; skipping update.");else console.warn("No user is currently signed in.")}catch(p){const g=p,y=g==null?void 0:g.code,E=g==null?void 0:g.message;console.error(`Error updating profile: ${E} (Code: ${y})`),alert(`An error occurred while updating your profile: ${E}`)}};return V.jsxs("div",{className:"min-h-screen bg-black text-white",children:[V.jsx(iv,{}),V.jsxs("div",{className:"flex flex-col w-11/12 sm:w-3/4 lg:w-1/2 mx-auto pt-16 max-w-4xl",children:[V.jsx("h1",{className:"text-5xl font-semibold border-b border-gray-700 mb-5 p-3",children:"Edit Profile"}),V.jsxs("div",{className:"flex",children:[V.jsx("img",{src:ax,alt:"logo",className:"h-24"}),V.jsxs("div",{className:"ml-6 flex-1",children:[V.jsx("h2",{children:V.jsx("input",{type:"text",value:e,onChange:h=>t(h.target.value),className:"w-full bg-gray-600 text-white px-5 py-3 text-lg border-none outline-none transition-all duration-300 placeholder-white focus:border-b-2 focus:border-yellow-500",placeholder:"Enter your name"})}),V.jsx("h2",{className:"mt-5",children:V.jsx("input",{type:"text",value:r,onChange:h=>i(h.target.value),className:"w-full bg-gray-600 text-white px-5 py-3 text-lg border-none outline-none transition-all duration-300 placeholder-white focus:border-b-2 focus:border-yellow-500",placeholder:"Enter your email"})}),V.jsxs("div",{className:"mt-5 opacity-80 hover:opacity-100",children:[V.jsx("h3",{className:"border-b border-gray-700 pb-2",children:"Plans (Current Plan: Premium)"}),V.jsxs("p",{className:"mt-2",children:["Renewal date: ",FM()]}),V.jsxs("div",{className:"flex justify-between mt-6 mb-6",children:[V.jsxs("p",{children:["Netflix Standard ",V.jsx("br",{}),V.jsx("span",{children:"1080p"})]}),V.jsx("button",{onClick:()=>a("/"),className:"bg-[#e50914] hover:bg-[#b20710] transition cursor-pointer duration-200 text-white px-4 py-2 rounded-md",children:"Subscribe"})]}),V.jsxs("div",{className:"flex justify-between mb-6",children:[V.jsxs("p",{children:["Netflix Basic ",V.jsx("br",{}),V.jsx("span",{children:"480p"})]}),V.jsx("button",{onClick:()=>a("/"),className:"bg-[#e50914] hover:bg-[#b20710] transition cursor-pointer duration-200 text-white px-4 py-2 rounded-md",children:"Subscribe"})]}),V.jsxs("div",{className:"flex justify-between mb-6",children:[V.jsxs("p",{children:["Netflix Premium ",V.jsx("br",{}),V.jsx("span",{children:"4k+HDR"})]}),V.jsx("button",{onClick:()=>a("/"),className:"bg-gray-600 text-white px-4 py-2 rounded-md cursor-pointer hover:bg-gray-500 transition duration-200",children:"Current Package"})]}),V.jsx("button",{onClick:f,className:"bg-[#0F7E80] hover:bg-[#0c6869] transition cursor-pointer duration-200 text-white py-4 px-5 text-lg font-semibold rounded-md w-full mt-6",children:"Update Profile"}),V.jsx("button",{onClick:l,className:"bg-[#e50914] hover:bg-[#b20710] transition cursor-pointer duration-200 text-white py-4 px-5 text-lg font-semibold rounded-md w-full mt-6",children:"Sign Out"})]})]})]})]})]})}var Sc=n=>n.type==="checkbox",Uo=n=>n instanceof Date,Gn=n=>n==null;const wI=n=>typeof n=="object";var Ht=n=>!Gn(n)&&!Array.isArray(n)&&wI(n)&&!Uo(n),CU=n=>Ht(n)&&n.target?Sc(n.target)?n.target.checked:n.target.value:n,RU=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,kU=(n,e)=>n.has(RU(e)),OU=n=>{const e=n.constructor&&n.constructor.prototype;return Ht(e)&&e.hasOwnProperty("isPrototypeOf")},Yv=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Lr(n){let e;const t=Array.isArray(n),r=typeof FileList<"u"?n instanceof FileList:!1;if(n instanceof Date)e=new Date(n);else if(n instanceof Set)e=new Set(n);else if(!(Yv&&(n instanceof Blob||r))&&(t||Ht(n)))if(e=t?[]:{},!t&&!OU(n))e=n;else for(const i in n)n.hasOwnProperty(i)&&(e[i]=Lr(n[i]));else return n;return e}var Jh=n=>Array.isArray(n)?n.filter(Boolean):[],Ut=n=>n===void 0,Ie=(n,e,t)=>{if(!e||!Ht(n))return t;const r=Jh(e.split(/[,[\].]+?/)).reduce((i,a)=>Gn(i)?i:i[a],n);return Ut(r)||r===n?Ut(n[e])?t:n[e]:r},Ci=n=>typeof n=="boolean",Xv=n=>/^\w*$/.test(n),EI=n=>Jh(n.replace(/["|']|\]/g,"").split(/\.|\[/)),St=(n,e,t)=>{let r=-1;const i=Xv(e)?[e]:EI(e),a=i.length,l=a-1;for(;++r<a;){const f=i[r];let h=t;if(r!==l){const p=n[f];h=Ht(p)||Array.isArray(p)?p:isNaN(+i[r+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;n[f]=h,n=n[f]}return n};const Xb={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ii={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},es={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Wn.createContext(null);var NU=(n,e,t,r=!0)=>{const i={defaultValues:e._defaultValues};for(const a in n)Object.defineProperty(i,a,{get:()=>{const l=a;return e._proxyFormState[l]!==ii.all&&(e._proxyFormState[l]=!r||ii.all),n[l]}});return i},ir=n=>Ht(n)&&!Object.keys(n).length,DU=(n,e,t,r)=>{t(n);const{name:i,...a}=n;return ir(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(l=>e[l]===ii.all)},Nd=n=>Array.isArray(n)?n:[n];function LU(n){const e=Wn.useRef(n);e.current=n,Wn.useEffect(()=>{const t=!n.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{t&&t.unsubscribe()}},[n.disabled])}var Oi=n=>typeof n=="string",MU=(n,e,t,r,i)=>Oi(n)?(r&&e.watch.add(n),Ie(t,n,i)):Array.isArray(n)?n.map(a=>(r&&e.watch.add(a),Ie(t,a))):(r&&(e.watchAll=!0),t),bI=(n,e,t,r,i)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[r]:i||!0}}:{},Zb=n=>({isOnSubmit:!n||n===ii.onSubmit,isOnBlur:n===ii.onBlur,isOnChange:n===ii.onChange,isOnAll:n===ii.all,isOnTouch:n===ii.onTouched}),eS=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(r=>n.startsWith(r)&&/^\.\w+/.test(n.slice(r.length))));const Uu=(n,e,t,r)=>{for(const i of t||Object.keys(n)){const a=Ie(n,i);if(a){const{_f:l,...f}=a;if(l){if(l.refs&&l.refs[0]&&e(l.refs[0],i)&&!r)return!0;if(l.ref&&e(l.ref,l.name)&&!r)return!0;if(Uu(f,e))break}else if(Ht(f)&&Uu(f,e))break}}};var FU=(n,e,t)=>{const r=Nd(Ie(n,t));return St(r,"root",e[t]),St(n,t,r),n},Zv=n=>n.type==="file",Ri=n=>typeof n=="function",ph=n=>{if(!Yv)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Dd=n=>Oi(n),e_=n=>n.type==="radio",mh=n=>n instanceof RegExp;const tS={value:!1,isValid:!1},nS={value:!0,isValid:!0};var SI=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!Ut(n[0].attributes.value)?Ut(n[0].value)||n[0].value===""?nS:{value:n[0].value,isValid:!0}:nS:tS}return tS};const rS={isValid:!1,value:null};var TI=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,rS):rS;function iS(n,e,t="validate"){if(Dd(n)||Array.isArray(n)&&n.every(Dd)||Ci(n)&&!n)return{type:t,message:Dd(n)?n:"",ref:e}}var Ja=n=>Ht(n)&&!mh(n)?n:{value:n,message:""},sS=async(n,e,t,r,i)=>{const{ref:a,refs:l,required:f,maxLength:h,minLength:p,min:g,max:y,pattern:E,validate:A,name:S,valueAsNumber:C,mount:x,disabled:L}=n._f,O=Ie(e,S);if(!x||L)return{};const U=l?l[0]:a,q=M=>{r&&U.reportValidity&&(U.setCustomValidity(Ci(M)?"":M||""),U.reportValidity())},W={},X=e_(a),R=Sc(a),T=X||R,I=(C||Zv(a))&&Ut(a.value)&&Ut(O)||ph(a)&&a.value===""||O===""||Array.isArray(O)&&!O.length,N=bI.bind(null,S,t,W),D=(M,k,Pe,je=es.maxLength,qe=es.minLength)=>{const Me=M?k:Pe;W[S]={type:M?je:qe,message:Me,ref:a,...N(M?je:qe,Me)}};if(i?!Array.isArray(O)||!O.length:f&&(!T&&(I||Gn(O))||Ci(O)&&!O||R&&!SI(l).isValid||X&&!TI(l).isValid)){const{value:M,message:k}=Dd(f)?{value:!!f,message:f}:Ja(f);if(M&&(W[S]={type:es.required,message:k,ref:U,...N(es.required,k)},!t))return q(k),W}if(!I&&(!Gn(g)||!Gn(y))){let M,k;const Pe=Ja(y),je=Ja(g);if(!Gn(O)&&!isNaN(O)){const qe=a.valueAsNumber||O&&+O;Gn(Pe.value)||(M=qe>Pe.value),Gn(je.value)||(k=qe<je.value)}else{const qe=a.valueAsDate||new Date(O),Me=fe=>new Date(new Date().toDateString()+" "+fe),he=a.type=="time",be=a.type=="week";Oi(Pe.value)&&O&&(M=he?Me(O)>Me(Pe.value):be?O>Pe.value:qe>new Date(Pe.value)),Oi(je.value)&&O&&(k=he?Me(O)<Me(je.value):be?O<je.value:qe<new Date(je.value))}if((M||k)&&(D(!!M,Pe.message,je.message,es.max,es.min),!t))return q(W[S].message),W}if((h||p)&&!I&&(Oi(O)||i&&Array.isArray(O))){const M=Ja(h),k=Ja(p),Pe=!Gn(M.value)&&O.length>+M.value,je=!Gn(k.value)&&O.length<+k.value;if((Pe||je)&&(D(Pe,M.message,k.message),!t))return q(W[S].message),W}if(E&&!I&&Oi(O)){const{value:M,message:k}=Ja(E);if(mh(M)&&!O.match(M)&&(W[S]={type:es.pattern,message:k,ref:a,...N(es.pattern,k)},!t))return q(k),W}if(A){if(Ri(A)){const M=await A(O,e),k=iS(M,U);if(k&&(W[S]={...k,...N(es.validate,k.message)},!t))return q(k.message),W}else if(Ht(A)){let M={};for(const k in A){if(!ir(M)&&!t)break;const Pe=iS(await A[k](O,e),U,k);Pe&&(M={...Pe,...N(k,Pe.message)},q(Pe.message),t&&(W[S]=M))}if(!ir(M)&&(W[S]={ref:U,...M},!t))return W}}return q(!0),W};function VU(n,e){const t=e.slice(0,-1).length;let r=0;for(;r<t;)n=Ut(n)?r++:n[e[r++]];return n}function jU(n){for(const e in n)if(n.hasOwnProperty(e)&&!Ut(n[e]))return!1;return!0}function sn(n,e){const t=Array.isArray(e)?e:Xv(e)?[e]:EI(e),r=t.length===1?n:VU(n,t),i=t.length-1,a=t[i];return r&&delete r[a],i!==0&&(Ht(r)&&ir(r)||Array.isArray(r)&&jU(r))&&sn(n,t.slice(0,-1)),n}var Eg=()=>{let n=[];return{get observers(){return n},next:i=>{for(const a of n)a.next&&a.next(i)},subscribe:i=>(n.push(i),{unsubscribe:()=>{n=n.filter(a=>a!==i)}}),unsubscribe:()=>{n=[]}}},Ey=n=>Gn(n)||!wI(n);function Ks(n,e){if(Ey(n)||Ey(e))return n===e;if(Uo(n)&&Uo(e))return n.getTime()===e.getTime();const t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(const i of t){const a=n[i];if(!r.includes(i))return!1;if(i!=="ref"){const l=e[i];if(Uo(a)&&Uo(l)||Ht(a)&&Ht(l)||Array.isArray(a)&&Array.isArray(l)?!Ks(a,l):a!==l)return!1}}return!0}var xI=n=>n.type==="select-multiple",UU=n=>e_(n)||Sc(n),bg=n=>ph(n)&&n.isConnected,AI=n=>{for(const e in n)if(Ri(n[e]))return!0;return!1};function gh(n,e={}){const t=Array.isArray(n);if(Ht(n)||t)for(const r in n)Array.isArray(n[r])||Ht(n[r])&&!AI(n[r])?(e[r]=Array.isArray(n[r])?[]:{},gh(n[r],e[r])):Gn(n[r])||(e[r]=!0);return e}function II(n,e,t){const r=Array.isArray(n);if(Ht(n)||r)for(const i in n)Array.isArray(n[i])||Ht(n[i])&&!AI(n[i])?Ut(e)||Ey(t[i])?t[i]=Array.isArray(n[i])?gh(n[i],[]):{...gh(n[i])}:II(n[i],Gn(e)?{}:e[i],t[i]):t[i]=!Ks(n[i],e[i]);return t}var Eu=(n,e)=>II(n,e,gh(e)),PI=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:r})=>Ut(n)?n:e?n===""?NaN:n&&+n:t&&Oi(n)?new Date(n):r?r(n):n;function Sg(n){const e=n.ref;if(!(n.refs?n.refs.every(t=>t.disabled):e.disabled))return Zv(e)?e.files:e_(e)?TI(n.refs).value:xI(e)?[...e.selectedOptions].map(({value:t})=>t):Sc(e)?SI(n.refs).value:PI(Ut(e.value)?n.ref.value:e.value,n)}var $U=(n,e,t,r)=>{const i={};for(const a of n){const l=Ie(e,a);l&&St(i,a,l._f)}return{criteriaMode:t,names:[...n],fields:i,shouldUseNativeValidation:r}},bu=n=>Ut(n)?n:mh(n)?n.source:Ht(n)?mh(n.value)?n.value.source:n.value:n;const oS="AsyncFunction";var BU=n=>!!n&&!!n.validate&&!!(Ri(n.validate)&&n.validate.constructor.name===oS||Ht(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===oS)),zU=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate);function aS(n,e,t){const r=Ie(n,t);if(r||Xv(t))return{error:r,name:t};const i=t.split(".");for(;i.length;){const a=i.join("."),l=Ie(e,a),f=Ie(n,a);if(l&&!Array.isArray(l)&&t!==a)return{name:t};if(f&&f.type)return{name:a,error:f};i.pop()}return{name:t}}var qU=(n,e,t,r,i)=>i.isOnAll?!1:!t&&i.isOnTouch?!(e||n):(t?r.isOnBlur:i.isOnBlur)?!n:(t?r.isOnChange:i.isOnChange)?n:!0,HU=(n,e)=>!Jh(Ie(n,e)).length&&sn(n,e);const WU={mode:ii.onSubmit,reValidateMode:ii.onChange,shouldFocusError:!0};function GU(n={}){let e={...WU,...n},t={submitCount:0,isDirty:!1,isLoading:Ri(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=Ht(e.defaultValues)||Ht(e.values)?Lr(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:Lr(i),l={action:!1,mount:!1,watch:!1},f={mount:new Set,unMount:new Set,array:new Set,watch:new Set},h,p=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},y={values:Eg(),array:Eg(),state:Eg()},E=Zb(e.mode),A=Zb(e.reValidateMode),S=e.criteriaMode===ii.all,C=j=>Y=>{clearTimeout(p),p=setTimeout(j,Y)},x=async j=>{if(!e.disabled&&(g.isValid||j)){const Y=e.resolver?ir((await T()).errors):await N(r,!0);Y!==t.isValid&&y.state.next({isValid:Y})}},L=(j,Y)=>{!e.disabled&&(g.isValidating||g.validatingFields)&&((j||Array.from(f.mount)).forEach(re=>{re&&(Y?St(t.validatingFields,re,Y):sn(t.validatingFields,re))}),y.state.next({validatingFields:t.validatingFields,isValidating:!ir(t.validatingFields)}))},O=(j,Y=[],re,_e,ge=!0,pe=!0)=>{if(_e&&re&&!e.disabled){if(l.action=!0,pe&&Array.isArray(Ie(r,j))){const Ne=re(Ie(r,j),_e.argA,_e.argB);ge&&St(r,j,Ne)}if(pe&&Array.isArray(Ie(t.errors,j))){const Ne=re(Ie(t.errors,j),_e.argA,_e.argB);ge&&St(t.errors,j,Ne),HU(t.errors,j)}if(g.touchedFields&&pe&&Array.isArray(Ie(t.touchedFields,j))){const Ne=re(Ie(t.touchedFields,j),_e.argA,_e.argB);ge&&St(t.touchedFields,j,Ne)}g.dirtyFields&&(t.dirtyFields=Eu(i,a)),y.state.next({name:j,isDirty:M(j,Y),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else St(a,j,Y)},U=(j,Y)=>{St(t.errors,j,Y),y.state.next({errors:t.errors})},q=j=>{t.errors=j,y.state.next({errors:t.errors,isValid:!1})},W=(j,Y,re,_e)=>{const ge=Ie(r,j);if(ge){const pe=Ie(a,j,Ut(re)?Ie(i,j):re);Ut(pe)||_e&&_e.defaultChecked||Y?St(a,j,Y?pe:Sg(ge._f)):je(j,pe),l.mount&&x()}},X=(j,Y,re,_e,ge)=>{let pe=!1,Ne=!1;const ee={name:j};if(!e.disabled){const z=!!(Ie(r,j)&&Ie(r,j)._f&&Ie(r,j)._f.disabled);if(!re||_e){g.isDirty&&(Ne=t.isDirty,t.isDirty=ee.isDirty=M(),pe=Ne!==ee.isDirty);const se=z||Ks(Ie(i,j),Y);Ne=!!(!z&&Ie(t.dirtyFields,j)),se||z?sn(t.dirtyFields,j):St(t.dirtyFields,j,!0),ee.dirtyFields=t.dirtyFields,pe=pe||g.dirtyFields&&Ne!==!se}if(re){const se=Ie(t.touchedFields,j);se||(St(t.touchedFields,j,re),ee.touchedFields=t.touchedFields,pe=pe||g.touchedFields&&se!==re)}pe&&ge&&y.state.next(ee)}return pe?ee:{}},R=(j,Y,re,_e)=>{const ge=Ie(t.errors,j),pe=g.isValid&&Ci(Y)&&t.isValid!==Y;if(e.delayError&&re?(h=C(()=>U(j,re)),h(e.delayError)):(clearTimeout(p),h=null,re?St(t.errors,j,re):sn(t.errors,j)),(re?!Ks(ge,re):ge)||!ir(_e)||pe){const Ne={..._e,...pe&&Ci(Y)?{isValid:Y}:{},errors:t.errors,name:j};t={...t,...Ne},y.state.next(Ne)}},T=async j=>{L(j,!0);const Y=await e.resolver(a,e.context,$U(j||f.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return L(j),Y},I=async j=>{const{errors:Y}=await T(j);if(j)for(const re of j){const _e=Ie(Y,re);_e?St(t.errors,re,_e):sn(t.errors,re)}else t.errors=Y;return Y},N=async(j,Y,re={valid:!0})=>{for(const _e in j){const ge=j[_e];if(ge){const{_f:pe,...Ne}=ge;if(pe){const ee=f.array.has(pe.name),z=ge._f&&BU(ge._f);z&&g.validatingFields&&L([_e],!0);const se=await sS(ge,a,S,e.shouldUseNativeValidation&&!Y,ee);if(z&&g.validatingFields&&L([_e]),se[pe.name]&&(re.valid=!1,Y))break;!Y&&(Ie(se,pe.name)?ee?FU(t.errors,se,pe.name):St(t.errors,pe.name,se[pe.name]):sn(t.errors,pe.name))}!ir(Ne)&&await N(Ne,Y,re)}}return re.valid},D=()=>{for(const j of f.unMount){const Y=Ie(r,j);Y&&(Y._f.refs?Y._f.refs.every(re=>!bg(re)):!bg(Y._f.ref))&&ze(j)}f.unMount=new Set},M=(j,Y)=>!e.disabled&&(j&&Y&&St(a,j,Y),!Ks(H(),i)),k=(j,Y,re)=>MU(j,f,{...l.mount?a:Ut(Y)?i:Oi(j)?{[j]:Y}:Y},re,Y),Pe=j=>Jh(Ie(l.mount?a:i,j,e.shouldUnregister?Ie(i,j,[]):[])),je=(j,Y,re={})=>{const _e=Ie(r,j);let ge=Y;if(_e){const pe=_e._f;pe&&(!pe.disabled&&St(a,j,PI(Y,pe)),ge=ph(pe.ref)&&Gn(Y)?"":Y,xI(pe.ref)?[...pe.ref.options].forEach(Ne=>Ne.selected=ge.includes(Ne.value)):pe.refs?Sc(pe.ref)?pe.refs.length>1?pe.refs.forEach(Ne=>(!Ne.defaultChecked||!Ne.disabled)&&(Ne.checked=Array.isArray(ge)?!!ge.find(ee=>ee===Ne.value):ge===Ne.value)):pe.refs[0]&&(pe.refs[0].checked=!!ge):pe.refs.forEach(Ne=>Ne.checked=Ne.value===ge):Zv(pe.ref)?pe.ref.value="":(pe.ref.value=ge,pe.ref.type||y.values.next({name:j,values:{...a}})))}(re.shouldDirty||re.shouldTouch)&&X(j,ge,re.shouldTouch,re.shouldDirty,!0),re.shouldValidate&&fe(j)},qe=(j,Y,re)=>{for(const _e in Y){const ge=Y[_e],pe=`${j}.${_e}`,Ne=Ie(r,pe);(f.array.has(j)||Ht(ge)||Ne&&!Ne._f)&&!Uo(ge)?qe(pe,ge,re):je(pe,ge,re)}},Me=(j,Y,re={})=>{const _e=Ie(r,j),ge=f.array.has(j),pe=Lr(Y);St(a,j,pe),ge?(y.array.next({name:j,values:{...a}}),(g.isDirty||g.dirtyFields)&&re.shouldDirty&&y.state.next({name:j,dirtyFields:Eu(i,a),isDirty:M(j,pe)})):_e&&!_e._f&&!Gn(pe)?qe(j,pe,re):je(j,pe,re),eS(j,f)&&y.state.next({...t}),y.values.next({name:l.mount?j:void 0,values:{...a}})},he=async j=>{l.mount=!0;const Y=j.target;let re=Y.name,_e=!0;const ge=Ie(r,re),pe=()=>Y.type?Sg(ge._f):CU(j),Ne=ee=>{_e=Number.isNaN(ee)||Uo(ee)&&isNaN(ee.getTime())||Ks(ee,Ie(a,re,ee))};if(ge){let ee,z;const se=pe(),ue=j.type===Xb.BLUR||j.type===Xb.FOCUS_OUT,We=!zU(ge._f)&&!e.resolver&&!Ie(t.errors,re)&&!ge._f.deps||qU(ue,Ie(t.touchedFields,re),t.isSubmitted,A,E),Be=eS(re,f,ue);St(a,re,se),ue?(ge._f.onBlur&&ge._f.onBlur(j),h&&h(0)):ge._f.onChange&&ge._f.onChange(j);const Xe=X(re,se,ue,!1),te=!ir(Xe)||Be;if(!ue&&y.values.next({name:re,type:j.type,values:{...a}}),We)return g.isValid&&(e.mode==="onBlur"?ue&&x():x()),te&&y.state.next({name:re,...Be?{}:Xe});if(!ue&&Be&&y.state.next({...t}),e.resolver){const{errors:ae}=await T([re]);if(Ne(se),_e){const Ae=aS(t.errors,r,re),Se=aS(ae,r,Ae.name||re);ee=Se.error,re=Se.name,z=ir(ae)}}else L([re],!0),ee=(await sS(ge,a,S,e.shouldUseNativeValidation))[re],L([re]),Ne(se),_e&&(ee?z=!1:g.isValid&&(z=await N(r,!0)));_e&&(ge._f.deps&&fe(ge._f.deps),R(re,z,ee,Xe))}},be=(j,Y)=>{if(Ie(t.errors,Y)&&j.focus)return j.focus(),1},fe=async(j,Y={})=>{let re,_e;const ge=Nd(j);if(e.resolver){const pe=await I(Ut(j)?j:ge);re=ir(pe),_e=j?!ge.some(Ne=>Ie(pe,Ne)):re}else j?(_e=(await Promise.all(ge.map(async pe=>{const Ne=Ie(r,pe);return await N(Ne&&Ne._f?{[pe]:Ne}:Ne)}))).every(Boolean),!(!_e&&!t.isValid)&&x()):_e=re=await N(r);return y.state.next({...!Oi(j)||g.isValid&&re!==t.isValid?{}:{name:j},...e.resolver||!j?{isValid:re}:{},errors:t.errors}),Y.shouldFocus&&!_e&&Uu(r,be,j?ge:f.mount),_e},H=j=>{const Y={...l.mount?a:i};return Ut(j)?Y:Oi(j)?Ie(Y,j):j.map(re=>Ie(Y,re))},oe=(j,Y)=>({invalid:!!Ie((Y||t).errors,j),isDirty:!!Ie((Y||t).dirtyFields,j),error:Ie((Y||t).errors,j),isValidating:!!Ie(t.validatingFields,j),isTouched:!!Ie((Y||t).touchedFields,j)}),Ee=j=>{j&&Nd(j).forEach(Y=>sn(t.errors,Y)),y.state.next({errors:j?t.errors:{}})},Le=(j,Y,re)=>{const _e=(Ie(r,j,{_f:{}})._f||{}).ref,ge=Ie(t.errors,j)||{},{ref:pe,message:Ne,type:ee,...z}=ge;St(t.errors,j,{...z,...Y,ref:_e}),y.state.next({name:j,errors:t.errors,isValid:!1}),re&&re.shouldFocus&&_e&&_e.focus&&_e.focus()},Ve=(j,Y)=>Ri(j)?y.values.subscribe({next:re=>j(k(void 0,Y),re)}):k(j,Y,!0),ze=(j,Y={})=>{for(const re of j?Nd(j):f.mount)f.mount.delete(re),f.array.delete(re),Y.keepValue||(sn(r,re),sn(a,re)),!Y.keepError&&sn(t.errors,re),!Y.keepDirty&&sn(t.dirtyFields,re),!Y.keepTouched&&sn(t.touchedFields,re),!Y.keepIsValidating&&sn(t.validatingFields,re),!e.shouldUnregister&&!Y.keepDefaultValue&&sn(i,re);y.values.next({values:{...a}}),y.state.next({...t,...Y.keepDirty?{isDirty:M()}:{}}),!Y.keepIsValid&&x()},Ze=({disabled:j,name:Y,field:re,fields:_e,value:ge})=>{if(Ci(j)&&l.mount||j){const pe=j?void 0:Ut(ge)?Sg(re?re._f:Ie(_e,Y)._f):ge;(j||!j&&!Ut(pe))&&St(a,Y,pe),X(Y,pe,!1,!1,!0)}},Qe=(j,Y={})=>{let re=Ie(r,j);const _e=Ci(Y.disabled)||Ci(e.disabled);return St(r,j,{...re||{},_f:{...re&&re._f?re._f:{ref:{name:j}},name:j,mount:!0,...Y}}),f.mount.add(j),re?Ze({field:re,disabled:Ci(Y.disabled)?Y.disabled:e.disabled,name:j,value:Y.value}):W(j,!0,Y.value),{..._e?{disabled:Y.disabled||e.disabled}:{},...e.progressive?{required:!!Y.required,min:bu(Y.min),max:bu(Y.max),minLength:bu(Y.minLength),maxLength:bu(Y.maxLength),pattern:bu(Y.pattern)}:{},name:j,onChange:he,onBlur:he,ref:ge=>{if(ge){Qe(j,Y),re=Ie(r,j);const pe=Ut(ge.value)&&ge.querySelectorAll&&ge.querySelectorAll("input,select,textarea")[0]||ge,Ne=UU(pe),ee=re._f.refs||[];if(Ne?ee.find(z=>z===pe):pe===re._f.ref)return;St(r,j,{_f:{...re._f,...Ne?{refs:[...ee.filter(bg),pe,...Array.isArray(Ie(i,j))?[{}]:[]],ref:{type:pe.type,name:j}}:{ref:pe}}}),W(j,!1,void 0,pe)}else re=Ie(r,j,{}),re._f&&(re._f.mount=!1),(e.shouldUnregister||Y.shouldUnregister)&&!(kU(f.array,j)&&l.action)&&f.unMount.add(j)}}},st=()=>e.shouldFocusError&&Uu(r,be,f.mount),vt=j=>{Ci(j)&&(y.state.next({disabled:j}),Uu(r,(Y,re)=>{const _e=Ie(r,re);_e&&(Y.disabled=_e._f.disabled||j,Array.isArray(_e._f.refs)&&_e._f.refs.forEach(ge=>{ge.disabled=_e._f.disabled||j}))},0,!1))},mt=(j,Y)=>async re=>{let _e;if(re&&(re.preventDefault&&re.preventDefault(),re.persist&&re.persist()),e.disabled){Y&&await Y({...t.errors},re);return}let ge=Lr(a);if(y.state.next({isSubmitting:!0}),e.resolver){const{errors:pe,values:Ne}=await T();t.errors=pe,ge=Ne}else await N(r);if(sn(t.errors,"root"),ir(t.errors)){y.state.next({errors:{}});try{await j(ge,re)}catch(pe){_e=pe}}else Y&&await Y({...t.errors},re),st(),setTimeout(st);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ir(t.errors)&&!_e,submitCount:t.submitCount+1,errors:t.errors}),_e)throw _e},Bt=(j,Y={})=>{Ie(r,j)&&(Ut(Y.defaultValue)?Me(j,Lr(Ie(i,j))):(Me(j,Y.defaultValue),St(i,j,Lr(Y.defaultValue))),Y.keepTouched||sn(t.touchedFields,j),Y.keepDirty||(sn(t.dirtyFields,j),t.isDirty=Y.defaultValue?M(j,Lr(Ie(i,j))):M()),Y.keepError||(sn(t.errors,j),g.isValid&&x()),y.state.next({...t}))},xt=(j,Y={})=>{const re=j?Lr(j):i,_e=Lr(re),ge=ir(j),pe=ge?i:_e;if(Y.keepDefaultValues||(i=re),!Y.keepValues){if(Y.keepDirtyValues){const Ne=new Set([...f.mount,...Object.keys(Eu(i,a))]);for(const ee of Array.from(Ne))Ie(t.dirtyFields,ee)?St(pe,ee,Ie(a,ee)):Me(ee,Ie(pe,ee))}else{if(Yv&&Ut(j))for(const Ne of f.mount){const ee=Ie(r,Ne);if(ee&&ee._f){const z=Array.isArray(ee._f.refs)?ee._f.refs[0]:ee._f.ref;if(ph(z)){const se=z.closest("form");if(se){se.reset();break}}}}r={}}a=e.shouldUnregister?Y.keepDefaultValues?Lr(i):{}:Lr(pe),y.array.next({values:{...pe}}),y.values.next({values:{...pe}})}f={mount:Y.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!g.isValid||!!Y.keepIsValid||!!Y.keepDirtyValues,l.watch=!!e.shouldUnregister,y.state.next({submitCount:Y.keepSubmitCount?t.submitCount:0,isDirty:ge?!1:Y.keepDirty?t.isDirty:!!(Y.keepDefaultValues&&!Ks(j,i)),isSubmitted:Y.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:ge?{}:Y.keepDirtyValues?Y.keepDefaultValues&&a?Eu(i,a):t.dirtyFields:Y.keepDefaultValues&&j?Eu(i,j):Y.keepDirty?t.dirtyFields:{},touchedFields:Y.keepTouched?t.touchedFields:{},errors:Y.keepErrors?t.errors:{},isSubmitSuccessful:Y.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Sr=(j,Y)=>xt(Ri(j)?j(a):j,Y);return{control:{register:Qe,unregister:ze,getFieldState:oe,handleSubmit:mt,setError:Le,_executeSchema:T,_getWatch:k,_getDirty:M,_updateValid:x,_removeUnmounted:D,_updateFieldArray:O,_updateDisabledField:Ze,_getFieldArray:Pe,_reset:xt,_resetDefaultValues:()=>Ri(e.defaultValues)&&e.defaultValues().then(j=>{Sr(j,e.resetOptions),y.state.next({isLoading:!1})}),_updateFormState:j=>{t={...t,...j}},_disableForm:vt,_subjects:y,_proxyFormState:g,_setErrors:q,get _fields(){return r},get _formValues(){return a},get _state(){return l},set _state(j){l=j},get _defaultValues(){return i},get _names(){return f},set _names(j){f=j},get _formState(){return t},set _formState(j){t=j},get _options(){return e},set _options(j){e={...e,...j}}},trigger:fe,register:Qe,handleSubmit:mt,watch:Ve,setValue:Me,getValues:H,reset:Sr,resetField:Bt,clearErrors:Ee,unregister:ze,setError:Le,setFocus:(j,Y={})=>{const re=Ie(r,j),_e=re&&re._f;if(_e){const ge=_e.refs?_e.refs[0]:_e.ref;ge.focus&&(ge.focus(),Y.shouldSelect&&Ri(ge.select)&&ge.select())}},getFieldState:oe}}function KU(n={}){const e=Wn.useRef(void 0),t=Wn.useRef(void 0),[r,i]=Wn.useState({isDirty:!1,isValidating:!1,isLoading:Ri(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,defaultValues:Ri(n.defaultValues)?void 0:n.defaultValues});e.current||(e.current={...GU(n),formState:r});const a=e.current.control;return a._options=n,LU({subject:a._subjects.state,next:l=>{DU(l,a._proxyFormState,a._updateFormState)&&i({...a._formState})}}),Wn.useEffect(()=>a._disableForm(n.disabled),[a,n.disabled]),Wn.useEffect(()=>{if(a._proxyFormState.isDirty){const l=a._getDirty();l!==r.isDirty&&a._subjects.state.next({isDirty:l})}},[a,r.isDirty]),Wn.useEffect(()=>{n.values&&!Ks(n.values,t.current)?(a._reset(n.values,a._options.resetOptions),t.current=n.values,i(l=>({...l}))):a._resetDefaultValues()},[n.values,a]),Wn.useEffect(()=>{n.errors&&a._setErrors(n.errors)},[n.errors,a]),Wn.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),Wn.useEffect(()=>{n.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[n.shouldUnregister,a]),e.current.formState=NU(r,a),e.current}const lS=(n,e,t)=>{if(n&&"reportValidity"in n){const r=Ie(t,e);n.setCustomValidity(r&&r.message||""),n.reportValidity()}},CI=(n,e)=>{for(const t in e.fields){const r=e.fields[t];r&&r.ref&&"reportValidity"in r.ref?lS(r.ref,t,n):r.refs&&r.refs.forEach(i=>lS(i,t,n))}},QU=(n,e)=>{e.shouldUseNativeValidation&&CI(n,e);const t={};for(const r in n){const i=Ie(e.fields,r),a=Object.assign(n[r]||{},{ref:i&&i.ref});if(JU(e.names||Object.keys(n),r)){const l=Object.assign({},Ie(t,r));St(l,"root",a),St(t,r,l)}else St(t,r,a)}return t},JU=(n,e)=>n.some(t=>t.startsWith(e+"."));function YU(n,e,t){return e===void 0&&(e={}),t===void 0&&(t={}),function(r,i,a){try{return Promise.resolve(function(l,f){try{var h=(e.context,Promise.resolve(n[t.mode==="sync"?"validateSync":"validate"](r,Object.assign({abortEarly:!1},e,{context:i}))).then(function(p){return a.shouldUseNativeValidation&&CI({},a),{values:t.raw?r:p,errors:{}}}))}catch(p){return f(p)}return h&&h.then?h.then(void 0,f):h}(0,function(l){if(!l.inner)throw l;return{values:{},errors:QU((f=l,h=!a.shouldUseNativeValidation&&a.criteriaMode==="all",(f.inner||[]).reduce(function(p,g){if(p[g.path]||(p[g.path]={message:g.message,type:g.type}),h){var y=p[g.path].types,E=y&&y[g.type];p[g.path]=bI(g.path,h,p,g.type,E?[].concat(E,g.message):g.message)}return p},{})),a)};var f,h}))}catch(l){return Promise.reject(l)}}}const XU="/assets/google-k_w8U3Dn.png";function RI(){const{register:n,handleSubmit:e,formState:{errors:t}}=KU({resolver:YU(DM)}),r=sc(),i=f=>{console.log(JSON.stringify(f,null,2)),nN(Ho,f.email,f.password).then(()=>{r("/")}).catch(h=>{const p=h==null?void 0:h.message;alert(p)})},a=f=>{console.log(JSON.stringify(f,null,2)),rN(Ho,f.email,f.password).then(h=>{r("/")}).catch(h=>{const p=h.message;alert(p)})},l=()=>{CN(Ho,xU).then(f=>{r("/")}).catch(f=>{const h=f==null?void 0:f.message;alert(h)})};return V.jsx("div",{className:"absolute top-8 left-0 right-0 w-full h-[100vh]  max-h-[100vh] flex justify-center ",children:V.jsxs("div",{className:"bg-black bg-opacity-75 p-9 rounded w-[400px] max-w-[350px] h-fit",style:{backgroundColor:"rgba(0, 0, 0, 0.75)"},children:[V.jsxs("form",{className:"flex flex-col items-center w-full",children:[V.jsx("h1",{className:"text-2xl text-left mb-8 font-bold mt-0",children:"Sign In"}),t.email&&V.jsx("p",{className:"w-full text-left text-xs text-red-500 mb-2",children:t.email.message}),V.jsx("input",{id:"email",placeholder:"Email address",...n("email"),className:` min-h-[50px] border-0 w-full max-w-full mb-[19px] mt-[3px] p-[16px_20px] box-border text-white bg-[#333]  duration-400 rounded-[5px] outline-none transition duration-300 ${t.email?"border border-red-500":""}`,"aria-invalid":t.email?"true":"false","aria-describedby":"email-error"}),t.password&&V.jsx("p",{className:"w-full text-left text-xs text-red-500 mb-2",children:t.password.message}),V.jsx("input",{type:"password",placeholder:"Password",id:"password",className:`w-full mb-5 p-4 text-white bg-[#333] border border-transparent rounded-md focus:outline-none  transition duration-300 ${t.password?"border-red-500":""}`,...n("password"),"aria-invalid":t.password?"true":"false","aria-describedby":"password-error"}),V.jsx("button",{onClick:e(a),type:"submit",name:"submit",className:"w-full p-4 text-white bg-[#e50914] font-semibold rounded-md hover:bg-[#b20710] transition duration-300",children:"Sign In"}),V.jsxs("h4",{className:"w-full text-center text-lg font-semibold mt-4",children:[V.jsx("span",{className:"text-[#737373]",children:"New to Netflix? "}),V.jsx("span",{onClick:e(i),className:"cursor-pointer underline text-white",children:"Sign up now"})]})]}),V.jsxs("div",{className:"flex items-center text-[#737373] text-[16px] font-medium cursor-pointer justify-center mt-4",children:[V.jsx("img",{onClick:l,src:XU,alt:"Google Logo",className:"w-8 h-8 mr-3"}),V.jsx("h5",{onClick:l,className:"underline text-lg font-semibold text-[#737373] ",children:"Login With Google"})]})]})})}function ZU(){const[n,e]=Q.useState(!1),[t,r]=Q.useState(""),i=a=>{a.preventDefault(),t?e(!0):alert("Please enter a valid email address.")};return V.jsxs("div",{className:"relative overflow-x-hidden h-full min-h-full w-[100vw]  bg-[url('../assets/images/backgroundImage.jpg')] bg-center bg-cover bg-no-repeat  overflow-hidden",children:[V.jsx("div",{className:"LoginScreen__background",children:V.jsx("img",{className:"fixed top-[25px] w-[120px] object-contain max-h-[150px] ml-6",src:`${rv}`,alt:"netflix img"})}),V.jsx("button",{onClick:()=>e(!0),className:"fixed top-6 right-6 py-2 px-5 text-white bg-[#e50914] rounded-lg cursor-pointer font-semibold text-base transform transition duration-300 hover:scale-105 hover:bg-[#b20710]",children:"Sign In"}),V.jsx("div",{className:"w-full h-screen z-10 bg-black bg-opacity-40 bg-gradient-to-t from-black/80 via-transparent to-black/80"}),V.jsx("div",{className:"absolute top-[15%] w-full p-5 z-10 flex justify-center",children:V.jsx("div",{className:" text-center text-white w-full  m-0 mx-auto p-[75px] my-auto ",children:n?V.jsx(RI,{}):V.jsxs(V.Fragment,{children:[V.jsx("h1",{className:"text-[1.8rem] md:text-[3.125rem] max-w-[640px] my-0 mx-auto mb-4 md:mb-5",children:"Unlimited movies, TV shows, and more."}),V.jsx("h2",{className:"max-w-[640px] text-lg md:text-[1.625rem]  mx-auto mb-4 md:mb-5",children:"Watch anywhere. Cancel anytime."}),V.jsx("h3",{className:"mb-4 md:mb-5 text-lg",children:"Ready to watch? Enter your email to create or restart your membership."}),V.jsx("div",{className:"px-4",children:V.jsxs("form",{onSubmit:i,children:[V.jsx("input",{placeholder:"Email address",type:"email",value:t,onChange:a=>r(a.target.value),className:"w-[90%] block md:w-[55%] mb-5 md:mb-0 md:inline-block box-border text-base rounded-sm min-h-[40px] p-[16px_20px]  max-w-[600px] outline-none text-black border-transparent hover:border-[#e50914] border-b-[1px] transition duration-300"}),V.jsx("button",{type:"submit",className:"w-[90%] block md:w-fit md:inline-block box-border text-base rounded-sm min-h-[40px] p-[16px_20px] border-none  duration-400  text-white  bg-[#e50914]  hover:bg-[#b20710] transition-colors duration-300 font-semibold cursor-pointer",children:"GET STARTED"})]})})]})})})]})}function e4(){return V.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500",children:V.jsxs("div",{className:"text-center p-6 bg-white bg-opacity-75 rounded-lg shadow-lg max-w-md w-full",children:[V.jsx("h1",{className:"text-5xl font-extrabold text-gray-800",children:"Oops!"}),V.jsx("p",{className:"mt-4 text-lg text-gray-600",children:"We're sorry, the page you requested could not be found. Please go back to the homepage or contact us."}),V.jsx(_h,{to:"/",className:"mt-6 inline-block px-6 py-3 text-lg font-semibold text-white bg-red-500 rounded-md shadow-md hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50",children:"Go back"})]})})}const t4=()=>V.jsx("div",{className:"loadingScreen",children:V.jsx("div",{className:"loadingScreen__container",children:V.jsxs("div",{style:{padding:"75px",paddingTop:"00px",textAlign:"center",background:"rgba(0, 0, 0, 0.75)",borderRadius:"6px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.8)",display:"grid",placeItems:"center",width:"350px",height:"350px",margin:"0 auto",border:"1px solid  #e50914",cursor:"pointer"},children:[V.jsx("div",{className:"logo",style:{position:"relative",cursor:"pointer",marginBottom:"3rem",width:"8rem",height:"8rem",display:"block"},children:V.jsx("img",{style:{position:"relative",cursor:"pointer",width:"100%",height:"100%",objectFit:"contain"},src:rv,alt:"Picture of the Netflix"})}),V.jsx("div",{className:"loader",children:V.jsx("div",{className:"border-t-4 border-[#e50914] border-opacity-50 rounded-full w-12 h-12 animate-spin"})})]})})}),kI=Q.memo(t4);function n4(){const[n,e,t]=Ky(Ho);return e?V.jsx(kI,{}):t?V.jsx("div",{className:"mx-auto flex max-w-6xl flex-wrap items-center justify-center px-6 py-12",children:V.jsx("p",{className:"mt-8 w-full max-w-lg rounded border bg-white p-6 text-center font-bold",children:"Error"})}):(console.log("private route",n),!n&&!e?V.jsx(vS,{to:"/sign-in"}):V.jsx("section",{className:"py-20",children:V.jsx(L1,{})}))}const r4=()=>{var y,E;const{id:n}=E1(),[e,t]=Q.useState(null),[r,i]=Q.useState(!0),[a,l]=Q.useState(""),[f,h]=Q.useState(null);async function p(A){try{const S={iso_639_1:"en",iso_3166_1:"US",name:"Sidelined: The QB and Me | Official Trailer | A Tubi Original",key:"S0gjQQepXRQ",site:"YouTube",size:1080,type:"Trailer",official:!0,published_at:"2024-10-28T18:00:35.000Z",id:"673a2b24d28043e976e3ae63"},x=(await Ku.get(`/movie/${A}/videos`,tv)).data.results||[],L=x.filter(U=>U.type==="Trailer"),O=L.length>0?L[0]:x[0];O&&O.key?h(O):h(S)}catch(S){console.error("Error fetching movies or trailers:",S)}}const g=async A=>{try{const S="92bcc12799d8068995c7c9650f414f3e",C=await Ku.get(`https://api.themoviedb.org/3/movie/${A}?api_key=${S}&language=en-US`);t(C.data)}catch{l("Failed to fetch movie details.")}finally{i(!1)}};return Q.useEffect(()=>{n&&(g(n),p(n))},[n]),r?V.jsx("div",{children:"Loading..."}):a?V.jsx("div",{children:a}):V.jsxs("div",{className:"text-gray-100",children:[V.jsx(iv,{isShowLanguage:!1}),V.jsxs("div",{className:"mx-auto flex w-full max-w-6xl flex-col space-y-8 mt-[5%]",children:[V.jsxs("div",{className:"flex flex-col md:flex-row md:space-x-8 items-center md:items-start p-6 bg-opacity-80 rounded-lg shadow-xl",children:[V.jsx("img",{src:`${nv}${(e==null?void 0:e.backdrop_path)||(e==null?void 0:e.poster_path)}`||XL,className:"rounded-lg shadow-lg border-4 border-gray-700 h-full w-full max-w-xl object-cover min-h-[25rem] cursor-pointer max-h-[450px]",alt:"Movie poster"}),V.jsxs("div",{className:"flex flex-col space-y-4 p-6 text-white bg-gray-900 bg-opacity-70 rounded-lg shadow-lg w-full md:w-3/4",children:[V.jsx("h2",{className:"text-3xl font-extrabold",children:e.title||e.name}),V.jsxs("div",{className:"space-y-3",children:[V.jsxs("p",{className:"text-lg",children:[V.jsx("span",{className:"font-bold",children:"Overview:"})," ",e.overview]}),V.jsxs("p",{className:"text-lg",children:[V.jsx("span",{className:"font-bold",children:"Status:"})," ",(e==null?void 0:e.status)||"N/A"]}),V.jsxs("p",{className:"text-lg",children:[V.jsx("span",{className:"font-bold",children:"Date Released:"})," ",(e==null?void 0:e.release_date)||(e==null?void 0:e.first_air_date)||"N/A"]}),V.jsxs("p",{className:"text-lg",children:[V.jsx("span",{className:"font-bold",children:"Popularity:"})," ",(e==null?void 0:e.popularity)||"N/A"]}),V.jsxs("p",{className:"text-lg",children:[V.jsx("span",{className:"font-bold",children:"Rating:"})," ",(e==null?void 0:e.vote_count)||"N/A"]}),((y=e==null?void 0:e.production_companies)==null?void 0:y.length)&&V.jsxs("p",{className:"text-lg",children:[V.jsx("span",{className:"font-bold",children:"Production Company:"}),((E=e==null?void 0:e.production_companies[0])==null?void 0:E.name)||"N/A"]})]})]})]}),V.jsx("div",{className:"relative p-4 mb-16 w-full h-full",children:V.jsx("div",{className:"relative w-full rounded-lg overflow-hidden shadow-lg",style:{paddingBottom:"56.25%"},children:f&&V.jsx("div",{className:"absolute top-0 left-0 w-full h-full",children:V.jsx("iframe",{className:"w-full h-full rounded-lg object-cover transition-transform duration-500 ease-in-out transform hover:scale-105 hover:shadow-2xl",id:"Iframe",src:`https://www.youtube.com/embed/${f.key}?autoplay=1&mute=1&loop=1&playlist=${f.key}`,title:"YouTube video player",frameBorder:"0",allow:"autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})})})]})]})};function i4(){const n=ms();return V.jsxs(F1,{location:n,children:[V.jsx(ts,{path:"/",element:V.jsx(vS,{to:"/browser"})}),V.jsx(ts,{path:"/browser",element:V.jsx(zF,{})}),V.jsx(ts,{path:"/movie/:id",element:V.jsx(r4,{})}),V.jsx(ts,{path:"/profile",element:V.jsx(n4,{}),children:V.jsx(ts,{path:"/profile",element:V.jsx(PU,{})})}),V.jsx(ts,{path:"/sign-up",element:V.jsx(RI,{})}),V.jsx(ts,{path:"/sign-in",element:V.jsx(ZU,{})}),V.jsx(ts,{path:"*",element:V.jsx(e4,{})})]},n.pathname)}function s4(){const n=AD(),[e,t]=Ky(Ho);return console.log(void 0),Q.useEffect(()=>{if(e&&(e!=null&&e.email)||e!=null&&e.displayName||e!=null&&e.uid){const r=(e==null?void 0:e.email)&&(e==null?void 0:e.email.split("@"));n(_R({displayName:(e==null?void 0:e.displayName)||r&&r[0]||"",email:(e==null?void 0:e.email)||(e==null?void 0:e.displayName)||"",uid:e.uid}))}else n(wR())},[e]),t?V.jsx(kI,{}):V.jsx(i4,{})}zP.createRoot(document.getElementById("root")).render(V.jsx(Q.StrictMode,{children:V.jsx(kC,{store:xR,children:V.jsx(aC,{children:V.jsx(s4,{})})})}));
